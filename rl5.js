!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.rl5=i():t.rl5=i()}(window,function(){return function(t){var i={};function e(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(s,o,function(i){return t[i]}.bind(null,o));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);class s{constructor(t,i){this.numFeatures=t.numFeatures,this.numActions=t.numActions,this.name="REINFORCE",this.env=t,i=i||{},this.config={name:"REINFORCE",learningRate:i.learningRate||.05,discountRate:i.discountRate||.95,trainIterations:i.trainIterations||1e3,maxStepsPerIter:i.maxStepsPerIter||500,hiddenLayerSizesOrModel:i.hiddenLayerSizes||10,saveModel:i.saveModel||!1,saveModelPath:i.saveModelPath||void 0,endingCondition:i.endingCondition||void 0},this.model,this.config.hiddenLayerSizesOrModel instanceof tf.LayersModel?this.model=this.config.hiddenLayerSizesOrModel:this.createModel(this.config.hiddenLayerSizesOrModel,this.numFeatures,this.numActions),this.optimizer=tf.train.adam(this.config.learningRate),this.stopTraining=!1}createModel(t,i,e){Array.isArray(t)||(t=[t]),this.model=tf.sequential(),t.forEach((t,e)=>{this.model.add(tf.layers.dense({units:t,activation:"relu",kernelInitializer:"randomNormal",inputShape:0===e?[i]:void 0}))}),this.model.add(tf.layers.dense({units:e})),this.model.summary()}getModel(){return this.model}async train(){const t=[],i=[];let e,s=0,r=0;this.env.reset();const n=[],h=[];for(let t=0;t<this.config.maxStepsPerIter;++t){const i=tf.tidy(()=>{const t=this.env.getStateTensor();return this.getGradientsAndSaveActions(t).grads});this.pushGradients(h,i);const s=this.currentActions_[0],o=this.env.step(s),a=o[0],c=o[1];if(e=o[2],await tf.nextFrame(),n.push(a),c){r=t+1;break}}this.pushGradients(t,h),i.push(n),tf.tidy(()=>{const e=function(t,i){return tf.tidy(()=>{const e=[];for(const s of t)e.push(o(s,i));const s=tf.concat(e),r=tf.mean(s),n=tf.sqrt(tf.mean(tf.square(s.sub(r))));return e.map(t=>t.sub(r).div(n))})}(i,this.config.discountRate);this.optimizer.applyGradients(function(t,i){return tf.tidy(()=>{const e={};for(const s in t)e[s]=tf.tidy(()=>{const e=t[s].map(t=>tf.stack(t)),o=[];for(let t=0;t<e[0].rank-1;++t)o.push(1);const r=i.map(t=>t.reshape(t.shape.concat(o)));for(let t=0;t<e.length;++t)e[t]=e[t].mul(r[t]);return tf.mean(tf.concat(e,0),0)});return e})}(t,e))}),tf.dispose(t);for(let t=0;t<n.length;t++)s+=n[t];return 0==r&&(r=this.config.maxStepsPerGame),[s,r,e]}getGradientsAndSaveActions(t){return tf.variableGrads(()=>tf.tidy(()=>{const[i,e]=this.getLogitsAndActions(t);this.currentActions_=e.dataSync();const s=tf.oneHot(tf.tensor1d(this.currentActions_),this.numActions);return tf.losses.softmaxCrossEntropy(s,i)}))}getCurrentActions(){return this.currentActions_}getLogitsAndActions(t){return tf.tidy(()=>{const i=this.model.predict(t),e=i.softmax();return[i,tf.multinomial(e,1,null,!0)]})}getActions(t){return this.getLogitsAndActions(t)[1].dataSync()}pushGradients(t,i){for(const e in i)e in t?t[e].push(i[e]):t[e]=[i[e]]}}function o(t,i){const e=tf.buffer([t.length]);let s=0;for(let o=t.length-1;o>=0;--o){const r=i*s+t[o];e.set(r,o),s=r}return e.toTensor()}class r{constructor(t,i){this.numFeatures=t.numFeatures,this.numActions=t.numActions,this.name="TabularQ",this.env=t,i=i||{},this.config={name:"TabularQ",learningRate:i.learningRate||.1,discountRate:i.discountRate||.9,trainIterations:i.trainIterations||40,endingCondition:i.endingCondition||void 0,saveModel:i.saveModel||!1,modelName:i.modelName||"RL5-TabularQ"},this.qTable=this.buildQTable(this.numFeatures,this.numActions),this.stopTraining=!1}buildQTable(t,i){let e=new p5.Table;for(let t=0;t<i;t++)e.addColumn(str(t));for(let i=0;i<t;i++){let t=e.addRow();for(let i=0;i<e.getColumnCount();i++)t.setNum(i,0)}return console.log(e),e}async train(){const t=this.config.learningRate,i=this.config.discountRate;this.env.reset();let e=!1,s=this.env.getState(),o=0,r=0;for(;!e;){const n=this.chooseAction(s,this.qTable,!0),h=this.env.step(n),a=h[0],c=this.env.getState();e=h[1];const l=this.qTable.getNum(s,n);let d;if(e)d=a;else{const t=this.qTable.getRow(c);let e=[];for(let i=0;i<this.qTable.getColumnCount();i++)e.push(t.getNum(i));d=a+i*max(e)}const u=this.qTable.getNum(s,n)+t*(d-l);this.qTable.set(s,n,u),s=c,o+=a,r+=1,await tf.nextFrame()}return[o,r]}chooseAction(t,i,e){const s=i.getRow(t),o=[];for(var r=0;r<i.getColumnCount();r++)o.push(s.getNum(r));return(random(1)>.9||0==o[0]&&0==o[1])&&e?random(1)<.5?0:1:o[0]>=o[1]?0:1}}function n(t,i){return tf.tidy(()=>{let e=new i(t.config);e.buildModel(t.obs,t.action);const s=t.model.weights;for(let t=0;t<s.length;t++)e.model.weights[t].val.assign(s[t].val);return e})}function h(t,i,e,s){return tf.tidy(()=>{const o=t.model.trainableWeights;for(let t=0;t<o.length;t++){let r=i.model.trainableWeights[t].val.shape,n=tf.randomNormal(r,0,e,"float32",s),h=o[t].val.add(n);i.model.trainableWeights[t].val.assign(h)}})}function a(t,i,e){return tf.tidy(()=>{const s=i.model.trainableWeights,o=t.model.trainableWeights,r=tf.scalar(1),n=tf.scalar(e.tau);for(let i=0;i<s.length;i++){const e=t.model.trainableWeights[i].val.clone();let h=n.mul(s[i].val).add(o[i].val.mul(r.sub(n)));t.model.trainableWeights[i].val.assign(h),0==e.sub(t.model.trainableWeights[i].val).mean().dataSync()[0]&&console.warn("targetUpdate: Nothing have been changed!")}})}class c{constructor(t){this.stateSize=t.stateSize,this.nbActions=t.nbActions,this.layerNorm=t.layerNorm,this.firstLayerSize=t.actorFirstLayerSize,this.secondLayerSize=t.actorSecondLayerSize,this.seed=t.seed,this.config=t,this.obs=null}buildModel(t){this.obs=t,this.firstLayer=tf.layers.dense({units:this.firstLayerSize,kernelInitializer:tf.initializers.glorotUniform({seed:this.seed}),activation:"relu",useBias:!0,biasInitializer:"zeros"}),this.secondLayer=tf.layers.dense({units:this.secondLayerSize,kernelInitializer:tf.initializers.glorotUniform({seed:this.seed}),activation:"relu",useBias:!0,biasInitializer:"zeros"}),this.outputLayer=tf.layers.dense({units:this.nbActions,kernelInitializer:tf.initializers.randomUniform({minval:.003,maxval:.003,seed:this.seed}),activation:"tanh",useBias:!0,biasInitializer:"zeros"}),this.predict=i=>tf.tidy(()=>{i&&(t=i);let e=this.firstLayer.apply(t),s=this.secondLayer.apply(e);return this.outputLayer.apply(s)});const i=this.predict();this.model=tf.model({inputs:t,outputs:i})}}class l{constructor(t){this.stateSize=t.stateSize,this.nbActions=t.nbActions,this.layerNorm=t.layerNorm,this.firstLayerSSize=t.criticFirstLayerSSize,this.firstLayerASize=t.criticFirstLayerASize,this.secondLayerSize=t.criticSecondLayerSize,this.seed=t.seed,this.config=t,this.obs=null,this.action=null}buildModel(t,i){this.obs=t,this.action=i,this.add=tf.layers.add(),this.firstLayerS=tf.layers.dense({units:this.firstLayerSSize,kernelInitializer:tf.initializers.glorotUniform({seed:this.seed}),activation:"linear",useBias:!0,biasInitializer:"zeros"}),this.firstLayerA=tf.layers.dense({units:this.firstLayerASize,kernelInitializer:tf.initializers.glorotUniform({seed:this.seed}),activation:"linear",useBias:!0,biasInitializer:"zeros"}),this.secondLayer=tf.layers.dense({units:this.secondLayerSize,kernelInitializer:tf.initializers.glorotUniform({seed:this.seed}),activation:"relu",useBias:!0,biasInitializer:"zeros"}),this.outputLayer=tf.layers.dense({units:1,kernelInitializer:tf.initializers.randomUniform({minval:.003,maxval:.003,seed:this.seed}),activation:"linear",useBias:!0,biasInitializer:"zeros"}),this.predict=(e,s)=>tf.tidy(()=>{e&&s&&(t=e,i=s);let o=this.firstLayerA.apply(i),r=this.firstLayerS.apply(t),n=this.add.apply([o,r]),h=this.secondLayer.apply(n);return this.outputLayer.apply(h)});const e=this.predict();this.model=tf.model({inputs:[t,i],outputs:e})}}class d{constructor(t,i,e,s,o){this.actor=t,this.critic=i,this.memory=e,this.noise=s,this.config=o,this.tfGamma=tf.scalar(o.gamma),this.obsInput=tf.input({batchShape:[null,this.config.stateSize]}),this.actionInput=tf.input({batchShape:[null,this.config.nbActions]}),this.actor.buildModel(this.obsInput),this.critic.buildModel(this.obsInput,this.actionInput),this.actorTarget=n(this.actor,c),this.criticTarget=n(this.critic,l),this.perturbedActor=n(this.actor,c),this.setLearningOp()}setLearningOp(){this.criticWithActor=t=>tf.tidy(()=>{const i=this.actor.predict(t);return this.critic.predict(t,i)}),this.criticTargetWithActorTarget=t=>tf.tidy(()=>{const i=this.actorTarget.predict(t);return this.criticTarget.predict(t,i)}),this.actorOptimiser=tf.train.adam(this.config.actorLr),this.criticOptimiser=tf.train.adam(this.config.criticLr),this.criticWeights=[];for(let t=0;t<this.critic.model.trainableWeights.length;t++)this.criticWeights.push(this.critic.model.trainableWeights[t].val);this.actorWeights=[];for(let t=0;t<this.actor.model.trainableWeights.length;t++)this.actorWeights.push(this.actor.model.trainableWeights[t].val);h(this.actor,this.perturbedActor,this.noise.currentStddev,this.config.seed)}distanceMeasure(t){return tf.tidy(()=>{const i=this.perturbedActor.model.predict(t),e=this.actor.model.predict(t);return tf.square(i.sub(e)).mean().sqrt()})}adaptParamNoise(){const t=this.memory.getBatch(this.config.batchSize);if(0==t.obs0.length)return h(this.actor,this.perturbedActor,this.noise.currentStddev,this.config.seed),[0];let i=null;if(t.obs0.length>0){const e=tf.tensor2d(t.obs0),s=this.distanceMeasure(e);h(this.actor,this.perturbedActor,this.noise.currentStddev,this.config.seed),i=s.dataSync(),this.noise.adapt(i[0]),s.dispose(),e.dispose()}}getQvalue(t,i){const e=tf.tensor2d([t]),s=tf.tensor2d([i]),o=this.critic.model.predict([e,s]),r=o.dataSync();return e.dispose(),s.dispose(),o.dispose(),r[0]}predict(t){return this.actor.model.predict(t)}perturbedPrediction(t){return this.perturbedActor.model.predict(t)}targetUpdate(){a(this.criticTarget,this.critic,this.config),a(this.actorTarget,this.actor,this.config)}trainCritic(t,i,e,s,o,r){let n;const h=this.criticOptimiser.minimize(()=>{const t=this.critic.model.predict([e,i]),h=this.criticTargetWithActorTarget(s),a=o.add(tf.scalar(1).sub(r).mul(this.tfGamma).mul(h)),c=tf.sub(a,t).square();return n=c.dataSync(),c.mean()},!0,this.criticWeights);this.memory.appendBackWithCost(t,n);const c=h.dataSync()[0];return h.dispose(),a(this.criticTarget,this.critic,this.config),c}trainActor(t){const i=this.actorOptimiser.minimize(()=>{const i=this.criticWithActor(t);return tf.mean(i).mul(tf.scalar(-1))},!0,this.actorWeights);a(this.actorTarget,this.actor,this.config);const e=i.dataSync()[0];return i.dispose(),e}getTfBatch(){const t=this.memory.popBatch(this.config.batchSize),i=tf.tensor2d(t.actions),e=tf.tensor2d(t.obs0),s=tf.tensor2d(t.obs1),o=tf.tensor1d(t.rewards),r=tf.tensor1d(t.terminals),n=o.expandDims(1),h=r.expandDims(1);return o.dispose(),r.dispose(),{batch:t,tfActions:i,tfObs0:e,tfObs1:s,tfRewards:n,tfTerminals:h}}optimizeCritic(){const{batch:t,tfActions:i,tfObs0:e,tfObs1:s,tfRewards:o,tfTerminals:r}=this.getTfBatch(),n=this.trainCritic(i,e,s,o,r);return i.dispose(),e.dispose(),s.dispose(),o.dispose(),r.dispose(),n}optimizeActor(){const{batch:t,tfActions:i,tfObs0:e,tfObs1:s,tfRewards:o,tfTerminals:r}=this.getTfBatch(),n=this.trainActor(e);return i.dispose(),e.dispose(),s.dispose(),o.dispose(),r.dispose(),n}optimizeCriticActor(){const{batch:t,tfActions:i,tfObs0:e,tfObs1:s,tfRewards:o,tfTerminals:r}=this.getTfBatch(),n=this.trainCritic(t,i,e,s,o,r),h=this.trainActor(e);return i.dispose(),e.dispose(),s.dispose(),o.dispose(),r.dispose(),{lossC:n,lossA:h}}}class u{constructor(t){t=t||{},this.initialStddev=t.initialStddev||.4,this.desiredActionStddev=t.desiredActionStddev||.4,this.adoptionCoefficient=t.adoptionCoefficient||1.01,this.currentStddev=this.initialStddev}adapt(t){t>this.desiredActionStddev?this.currentStddev/=this.adoptionCoefficient:this.currentStddev*=this.adoptionCoefficient}}class p{constructor(t){this.maxlen=t,this.buffer=[],this.priorBuffer=[]}getBatch(t){const i={obs0:[],obs1:[],rewards:[],actions:[],terminals:[]};if(t>this.priorBuffer.length)return console.warn("The size of the replay buffer is < to the batchSize. Return empty batch."),i;for(let e=0;e<t/2;e++){let t=Math.floor(Math.random()*this.priorBuffer.length);i.obs0.push(this.priorBuffer[t].obs0),i.obs1.push(this.priorBuffer[t].obs1),i.rewards.push(this.priorBuffer[t].reward),i.actions.push(this.priorBuffer[t].action),i.terminals.push(this.priorBuffer[t].terminal)}return i}_bufferBatch(t){const i={obs0:[],obs1:[],rewards:[],actions:[],terminals:[]};for(let e=0;e<t/2;e++){let t=this.buffer.pop();i.obs0.push(t.obs0),i.obs1.push(t.obs1),i.rewards.push(t.reward),i.actions.push(t.action),i.terminals.push(t.terminal)}for(let e=0;e<t/2;e++){let t=Math.floor(Math.random()*this.buffer.length);i.obs0.push(this.buffer[t].obs0),i.obs1.push(this.buffer[t].obs1),i.rewards.push(this.buffer[t].reward),i.actions.push(this.buffer[t].action),i.terminals.push(this.buffer[t].terminal),this.buffer.splice(t,1)}return i}_addRandomBufferBatch(t,i){for(let e=0;e<t;e++){let t=Math.floor(Math.random()*this.buffer.length);i.obs0.push(this.buffer[t].obs0),i.obs1.push(this.buffer[t].obs1),i.rewards.push(this.buffer[t].reward),i.actions.push(this.buffer[t].action),i.terminals.push(this.buffer[t].terminal),this.buffer.splice(t,1)}return i}popBatch(t){let i=t;if(t%2!=0&&console.warn("Batch size should be a even."),this.priorBuffer.length<t/2){const i=this._bufferBatch(t);return console.assert(i.obs0.length==t),i}const e={obs0:[],obs1:[],rewards:[],actions:[],terminals:[]};if(t>this.length)return console.warn("The size of the replay buffer is < to the batchSize. Return empty batch."),e;this.buffer.length>0&&(t/=2);for(let i=0;i<t;i++){let t=Math.floor(Math.random()*this.priorBuffer.length);e.obs0.push(this.priorBuffer[t].obs0),e.obs1.push(this.priorBuffer[t].obs1),e.rewards.push(this.priorBuffer[t].reward),e.actions.push(this.priorBuffer[t].action),e.terminals.push(this.priorBuffer[t].terminal),this.priorBuffer.splice(t,1)}return this.buffer.length>0&&this._addRandomBufferBatch(t,e),console.assert(e.obs0.length==i),e}_insert(t,i){return 0==i.length||t.cost<i[0].cost||null==i[0].cost?(i.unshift(t),i):(i.splice(this._locationOf(t,i)+1,0,t),i)}_locationOf(t,i,e,s){e=e||0,s=s||i.length;var o=parseInt(e+(s-e)/2,10);return s-e<=1||i[o]===t?o:null!=i[o].cost&&i[o].cost<t.cost?this._locationOf(t,i,o,s):this._locationOf(t,i,e,o)}appendBackWithCost(t,i){for(let e=0;e<t.obs0.length;e++)this.buffer.length==this.maxlen&&this.buffer.shift(),this._insert({obs0:t.obs0[e],action:t.actions[e],reward:t.rewards[e],obs1:t.obs1[e],terminal:t.terminals[e],cost:i[e]},this.buffer);console.assert(this.buffer.length<=this.maxlen)}append(t,i,e,s,o){this.priorBuffer.length==this.maxlen&&this.priorBuffer.shift(),this.priorBuffer.push({obs0:t,action:i,reward:e,obs1:s,terminal:o,cost:null}),console.assert(this.priorBuffer.length<=this.maxlen)}}class f{constructor(t,i){this.stopTraining=!1,this.env=t,i=i||{},this.config={name:"DDPG",stateSize:i.stateSize||17,nbActions:i.actionSize||2,seed:i.seed||0,batchSize:i.batchSize||128,actorLr:i.actorLr||1e-4,criticLr:i.criticLr||.001,memorySize:i.memorySize||3e4,gamma:i.gamme||.99,noiseDecay:i.noiseDecay||.99,rewardScale:i.rewardScale||1,nbEpochs:i.nbEpochs||200,nbEpochsCycle:i.nbEpochsCycle||5,nbTrainSteps:i.nbTrainSteps||110,tau:i.tau||.008,initialStddev:i.initialStddev||.4,desiredActionStddev:i.desiredActionStddev||.4,adoptionCoefficient:i.adoptionCoefficient||1.01,actorFirstLayerSize:i.actorFirstLayerSize||64,actorSecondLayerSize:i.actorSecondLayerSize||32,criticFirstLayerSSize:i.criticFirstLayerSSize||64,criticFirstLayerASize:i.criticFirstLayerASize||64,criticSecondLayerSize:i.criticSecondLayerSize||32,maxStep:i.maxStep||800,resetEpisode:null==i.resetEpisode||i.resetEpisode,saveDuringTraining:i.saveDuringTraining||!1,saveInterval:i.saveInterval||20,endingCondition:i.endingCondition||void 0,saveModelPath:i.saveModelPath||void 0},this.epoch=0,this.noise=new u(this.config),this.memory=new p(this.config.memorySize),this.actor=new c(this.config),this.critic=new l(this.config),Math.seedrandom(this.config.seed),this.rewardsList=[],this.epiDuration=[],this.ddpg=new d(this.actor,this.critic,this.memory,this.noise,this.config)}save(t){this.ddpg.critic.model.save("indexeddb://critic-"+t),this.ddpg.actor.model.save("indexeddb://actor-"+t),console.log("Models saved!")}async restore(t,i){const e=await tf.loadModel("indexeddb://critic-seek-target-10"),s=await tf.loadModel("indexeddb://actor-seek-target-10");this.ddpg.critic=copyFromSave(e,l,this.config,this.ddpg.obsInput,this.ddpg.actionInput),this.ddpg.actor=copyFromSave(s,c,this.config,this.ddpg.obsInput,this.ddpg.actionInput),this.ddpg.actorTarget=n(this.ddpg.actor,c),this.ddpg.criticTarget=n(this.ddpg.critic,l),this.ddpg.perturbedActor=n(this.ddpg.actor,c),this.ddpg.setLearningOp()}evaluate(){const t=this.env.getState(),i=this.ddpg.predict(tf.tensor2d([t])),e=i.dataSync();this.env.step(e)[1]&&this.env.reset(),i.dispose()}getQvalue(t,i){return this.ddpg.getQvalue(t,i)}stop(){this.stopTraining=!0}_optimize(){this.ddpg.noise.desiredActionStddev=Math.max(.1,this.config.noiseDecay*this.ddpg.noise.desiredActionStddev);let t=[],i=[];console.time("Training");for(let e=0;e<this.config.nbTrainSteps;e++){let{lossC:e,lossA:s}=this.ddpg.optimizeCriticActor();t.push(e),i.push(s)}console.timeEnd("Training"),console.log("desiredActionStddev:",this.ddpg.noise.desiredActionStddev)}_isDone(t){const i={rewards:void 0,steps:void 0,episodes:void 0};i.rewards=this.rewards,i.steps=this.steps,i.episodes=this.episodes;const e=Object.keys(t)[0];if(i.hasOwnProperty(e))return console.log("episodes: "+this.episodes),console.log("rewards: "+this.rewards),console.log("steps: "+this.steps),console.log(" "),("more"==t.condition&&i[e]>=t[e]||"less"==t.condition&&i[e]<=t[e])&&(console.log("Training finished"),this.save(this.saveModelPath),!0);throw"[rl5]: The ending condition doesn't exist!"}stepTrain(t,i){const e=this.ddpg.perturbedPrediction(t);let s=e.dataSync(),o=this.env.step(s),r=o[0];this.rewards+=r;let n=this.env.getState(),h=tf.tensor2d([n]),a=0;return!0===o[1]&&(a=1),this.ddpg.memory.append(i,s,r,n,a),t.dispose(),e.dispose(),{mDone:a,mState:n,tfState:h}}async train(){for(this.stopTraining=!1,this.epoch;this.epoch<this.config.nbEpochs;this.epoch++){for(let t=0;t<this.config.nbEpochsCycle;t++){t%10==0&&g();let i=this.env.getState(),e=tf.tensor2d([i]);for(this.steps=0,this.rewards=0,this.steps=0;this.steps<this.config.maxStep;this.steps++){let t=this.stepTrain(e,i);if(i=t.mState,e=t.tfState,t.mDone)break;if(this.stopTraining)return void console.log("Evaluating the agent.");await tf.nextFrame()}this.ddpg.adaptParamNoise(),this.config.resetEpisode&&this.env.reset(),e.dispose(),this.episodes=this.config.nbEpochsCycle*this.epoch+t,this.stopTraining=this._isDone(this.config.endingCondition),await tf.nextFrame()}this.epoch>1&&this._optimize(),await tf.nextFrame()}}}function g(){let t=tf.memory();console.log("numTensors:"+t.numTensors)}class m{constructor(t,i,e,s){this.position=createVector(t,i),this.w=e,this.h=s}display(){stroke(0),fill(175),strokeWeight(2),rectMode(CORNER),rect(this.position.x,this.position.y,this.w,this.h)}getCenter(){return createVector(this.position.x+this.w/2,this.position.y+this.h/2)}contains(t){return t.x>this.position.x&&t.x<this.position.x+this.w&&t.y>this.position.y&&t.y<this.position.y+this.h}}class y{constructor(t,i,e,s){this.position=createVector(t,i),this.w=e,this.h=s}display(){stroke(0),fill(175),strokeWeight(2),rectMode(CORNER),rect(this.position.x,this.position.y,this.w,this.h)}getCenter(){return createVector(this.position.x+this.w/2,this.position.y+this.h/2)}contains(t){return t.x>this.position.x&&t.x<this.position.x+this.w&&t.y>this.position.y&&t.y<this.position.y+this.h}}class b{constructor(t,i,e,s){this.position=createVector(t,i),this.w=e,this.h=s}display(){stroke(0),fill(175),strokeWeight(2),rectMode(CORNER),rect(this.position.x,this.position.y,this.w,this.h)}getCenter(){return createVector(this.position.x+this.w/2,this.position.y+this.h/2)}contains(t){return t.x>this.position.x&&t.x<this.position.x+this.w&&t.y>this.position.y&&t.y<this.position.y+this.h}}class v{constructor(t,i,e,s){this.position=createVector(t,i),this.w=e,this.h=s}display(){stroke(0),fill(175),strokeWeight(2),rectMode(CORNER),rect(this.position.x,this.position.y,this.w,this.h)}getCenter(){return createVector(this.position.x+this.w/2,this.position.y+this.h/2)}contains(t){return t.x>this.position.x&&t.x<this.position.x+this.w&&t.y>this.position.y&&t.y<this.position.y+this.h}}class S{constructor(t,i,e,s){this.position=createVector(t,i),this.w=e,this.h=s}display(){fill(100,100),rect(this.position.x,this.position.y,this.w,this.h)}getCenter(){return createVector(this.position.x+this.w/2,this.position.y+this.h/2)}contains(t){return t.x>this.position.x&&t.x<this.position.x+this.w&&t.y>this.position.y&&t.y<this.position.y+this.h}}e.d(i,"printInfo",function(){return w}),e.d(i,"createAgent",function(){return z}),e.d(i,"evaluate",function(){return T}),e.d(i,"createEnv",function(){return A}),e.d(i,"loadModel",function(){return M}),e.d(i,"checkModels",function(){return k}),e.d(i,"checkOneModel",function(){return C}),e.d(i,"removeOneModel",function(){return L}),e.d(i,"train",function(){return D}),e.d(i,"saveModel",function(){return O});const x={"CartPole-v0":class{constructor(){this.gravity=9.8,this.massCart=1,this.massPole=.1,this.totalMass=this.massCart+this.massPole,this.cartWidth=.2,this.cartHeight=.1,this.length=.5,this.poleMoment=this.massPole*this.length,this.forceMag=10,this.tau=.02,this.xThreshold=2.4,this.thetaThreshold=12/360*2*Math.PI,this.numFeatures=4,this.numActions=2,this.reset()}reset(){this.x=Math.random()-.5,this.xDot=1*(Math.random()-.5),this.theta=2*(Math.random()-.5)*(6/360*2*Math.PI),this.thetaDot=.5*(Math.random()-.5)}getStateTensor(){return tf.tensor2d([[this.x,this.xDot,this.theta,this.thetaDot]])}step(t){const i=t>0?this.forceMag:-this.forceMag,e=Math.cos(this.theta),s=Math.sin(this.theta),o=(i+this.poleMoment*this.thetaDot*this.thetaDot*s)/this.totalMass,r=(this.gravity*s-e*o)/(this.length*(4/3-this.massPole*e*e/this.totalMass)),n=o-this.poleMoment*r*e/this.totalMass;return this.x+=this.tau*this.xDot,this.xDot+=this.tau*n,this.theta+=this.tau*this.thetaDot,this.thetaDot+=this.tau*r,[this.reward(),this.isDone()]}isDone(){return this.x<-this.xThreshold||this.x>this.xThreshold||this.theta<-this.thetaThreshold||this.theta>this.thetaThreshold}reward(){return this.isDone()?0:1}render(){const t=-this.xThreshold,i=this.xThreshold,e=width/(i-t),s=.8*height,o=this.cartWidth*e,r=this.cartHeight*e,n=this.x*e+width/2;stroke("#000000"),strokeWeight(1),fill(127),rect(n-o/2,s-r/2,o,r);const h=r/4;for(const t of[-1,1])circle(n-o/4*t,s+r/2+h,h);const a=this.theta+PI/2,c=width/2+e*(this.x+cos(a)*this.length),l=s-e*(this.cartHeight/2+sin(a)*this.length);stroke(127),strokeWeight(3),strokeCap(ROUND),line(n,s-r/2-4,c,l);const d=s+r/2+2*h;stroke(200),strokeWeight(1),fill(200),rect(0,d,width,height-d);const u=d-height/2;stroke(200),strokeWeight(4),strokeCap(PROJECT),line(1,d,1,u),line(width-1,d,width-1,u)}},"SeekTargetDiscrete-v0":class{constructor(){this.acceleration=createVector(0,0),this.velocity=createVector(0,0),this.position=createVector(0,0),this.r=6,this.maxspeed=1,this.targetWidth=10,this.targetHeight=height,this.targetY=0,this.target=new m(width-10,this.targetY,this.targetWidth,this.targetHeight),this.numFeatures=2,this.numActions=2,this.success=!1,this.reset()}reset(){this.position.x=20,this.position.y=height/2,this.acceleration.mult(0),this.velocity.mult(0),this.success=!1,this.targetY=0,this.target=new m(width-10,this.targetY,this.targetWidth,this.targetHeight)}step(t){let i;return 0==t?i=-.001:1==t&&(i=.001),this.acceleration.add(.01,i),this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.x=0,[this.reward(),this.isDone(),this.success]}isDone(){return!!(this.position.x<0||this.position.x>width||this.position.y<0||this.position.y>height||this.target.contains(this.position))}reward(){let t=1;return(this.position.x<0||this.position.y<0||this.position.y>height)&&(t=0),t}getStateTensor(){return tf.tensor2d([[this.position.x/width,this.position.y/height]])}randomWalk(){let t;t=random()<.5?0:1,this.step(t),this.isDone()&&this.reset()}render(){let t=this.velocity.heading()+PI/2;fill(127),stroke(200),strokeWeight(1),push(),translate(this.position.x,this.position.y),rotate(t),beginShape(),vertex(0,2*-this.r),vertex(-this.r,2*this.r),vertex(this.r,2*this.r),endShape(CLOSE),pop(),this.target.display()}},"AvoidObstacles-v0":class{constructor(t){this.vertialStates=20,this.horizontalStates=20,this.squareSize=20,this.numTargets=10,this.numActions=4,this.numFeatures=2*(this.numTargets+1),this.p5=t,this.targets=[],this.reset()}reset(){this.blackX=this.p5.int(this.p5.random(0,this.horizontalStates)),this.blackY=this.p5.int(this.p5.random(0,this.vertialStates));for(let t=0;t<this.numTargets;t++){const t=this.p5.int(this.p5.random(0,this.horizontalStates)),i=this.p5.int(this.p5.random(0,this.vertialStates));this.targets.push([t,i])}}render(){this.p5.fill(255,0,0,100);for(let t=0;t<this.numTargets;t++)this.p5.rect(this.targets[t][0]*this.squareSize,this.targets[t][1]*this.squareSize,this.squareSize,this.squareSize);this.p5.fill(0,0,0,100),this.p5.rect(this.blackX*this.squareSize,this.blackY*this.squareSize,this.squareSize,this.squareSize)}step(t){return 0==t&&this.blackX>0?this.blackX-=1:1==t&&this.blackX<this.horizontalStates-1?this.blackX+=1:2==t&&this.blackY>0?this.blackY-=1:3==t&&this.blackY<this.vertialStates-1&&(this.blackY+=1),[this.reward(),this.isDone()]}isDone(){for(let t=0;t<this.numTargets;t++)if(this.blackX==this.targets[t][0]&&this.blackY==this.targets[t][1])return console.log("Failed"),!0}reward(){return 1}getStateTensor(){const t=[this.blackX/this.horizontalStates,this.blackY/this.vertialStates];for(let i=0;i<this.numTargets;i++)t.push(this.targets[i][0]/this.horizontalStates),t.push(this.targets[i][1]/this.vertialStates);return tf.tensor2d([t])}},"GridWorld1D-v0":class{constructor(){this.numFeatures=10,this.numActions=2,this.squareSize=40,this.currentState=0,this.reset()}reset(){this.currentState=0}step(t){return 1==t?this.currentState+=1:0==t&&(0==this.currentState?this.currentState=0:this.currentState-=1),[this.reward(),this.isDone()]}isDone(){return this.currentState==this.numFeatures-1}reward(){return this.isDone()?1:0}getState(){return this.currentState}randomWalk(){const t=floor(random(this.numActions));this.step(t),console.log("reward: "+this.reward()),this.isDone()&&this.reset()}render(){fill(255,0,0),rect(width-this.squareSize,(height-this.squareSize)/2,this.squareSize,this.squareSize),fill(122,122),rect(this.squareSize*this.currentState,(height-this.squareSize)/2,this.squareSize,this.squareSize)}},"AvoidObstaclesContinous-v0":class{constructor(){this.acceleration=createVector(0,0),this.velocity=createVector(0,0),this.position=createVector(0,0),this.r=6,this.maxspeed=1,this.maxforce=.2,this.obstacleWidth=10,this.obstacleHeight=height/3,this.obstacle=new y(width/2,height/3,this.obstacleWidth,this.obstacleHeight),this.reset()}reset(){this.position.x=20,this.position.y=height/2,this.acceleration.mult(0),this.velocity.mult(0)}step(t){let i=createVector(.01,.05*t[0]);return this.acceleration.add(i),this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0),[this.reward(),this.isDone()]}isDone(){return!!(this.position.x<0||this.position.x>width||this.position.y<0||this.position.y>height||this.obstacle.contains(this.position))}reward(){let t=this.position.x/width;return this.obstacle.contains(this.position)&&(t+=100),t}getState(){return[this.position.x/width,this.position.y/height]}randomWalk(){let t=createVector();t.x=.01,t.y=random(-this.maxforce,this.maxforce),this.step(t)}render(){let t=this.velocity.heading()+PI/2;fill(127),stroke(200),strokeWeight(1),push(),translate(this.position.x,this.position.y),rotate(t),beginShape(),vertex(0,2*-this.r),vertex(-this.r,2*this.r),vertex(this.r,2*this.r),endShape(CLOSE),pop(),this.obstacle.display()}},"SeekTargetContinuous-v0":class{constructor(){this.acceleration=createVector(0,0),this.velocity=createVector(0,0),this.position=createVector(0,0),this.r=6,this.maxspeed=1,this.maxforce=.2,this.targetWidth=10,this.targetHeight=height/4,this.target=new b(width-10,3*height/8,this.targetWidth,this.targetHeight),this.reset()}reset(){this.position.x=20,this.position.y=height/2,this.acceleration.mult(0),this.velocity.mult(0)}step(t){let i=createVector(.01*t[1],.01*t[0]);return this.acceleration.add(i),this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0),[this.reward(),this.isDone()]}isDone(){return!!(this.position.x<0||this.position.x>width||this.position.y<0||this.position.y>height||this.target.contains(this.position))}reward(){let t=dist(0,0,1,1)-dist(this.position.x/width,this.position.y/height,1,.5);return this.target.contains(this.position)&&(t+=1e3),t}getState(){return[this.position.x/width,this.position.y/height]}randomWalk(){let t=createVector();t.x=.01,t.y=random(-this.maxforce,this.maxforce),this.step(t)}render(){let t=this.velocity.heading()+PI/2;fill(127),stroke(200),strokeWeight(1),push(),translate(this.position.x,this.position.y),rotate(t),beginShape(),vertex(0,2*-this.r),vertex(-this.r,2*this.r),vertex(this.r,2*this.r),endShape(CLOSE),pop(),this.target.display()}},"Pendulum-v0":class{construct(){this.maxSpeed=8,this.maxTorque=2,this.dt=.05,this.g=10,this.numFeatures=3,this.numActions=1,this.actionSpace=[-this.maxTorque,this.maxTorque],this.reset()}reset(){this.theta=random(-PI,PI),this.thetaCos=cos(this.theta),this.thetaSin=sin(this.theta),this.thetaDot=random(-1,1)}step(t){this.action=constrain(t,this.actionSpace[0],this.actionSpace[1]),this.last_action=this.action;let i=this.thetaDot+(-3*this.g/2*sin(this.theta+PI)+3*this.action)*this.dt;i=constrain(i,-this.maxSpeed,this.maxSpeed);const e=this.theta+i*this.dt;return this.theta=e,this.thetaCos=cos(this.theta),this.thetaSin=sin(this.theta),this.thetaDot=i,[this.reward(),this.isDone()]}reward(){return-1*(Math.pow(this.theta,2)+.1*Math.pow(this.thetaDot,2)+.001*Math.pow(this.action,2))}isDone(){return!1}render(){stroke(127),strokeWeight(6),strokeCap(ROUND),line(width/2,height/2,width/2,height/2+200),fill(255,0,0),noStroke(),circle(width/2,height/2,4,4)}},"SeekAvoidContinous-v0":class{constructor(){this.acceleration=createVector(0,0),this.velocity=createVector(0,0),this.position=createVector(0,0),this.r=6,this.maxspeed=1,this.maxforce=.2,this.obstacleWidth=10,this.obstacleHeight=height/2,this.obstacle_1=new v(width/3,height/8,this.obstacleWidth,this.obstacleHeight),this.obstacle_2=new v(2*width/3,3*height/8,this.obstacleWidth,this.obstacleHeight),this.reset()}reset(){this.position.x=20,this.position.y=height/2,this.acceleration.mult(0),this.velocity.mult(0)}step(t){let i=createVector(.01,t[0]);return this.acceleration.add(i),this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0),[this.reward(),this.isDone()]}isDone(){return!!(this.position.x<0||this.position.x>width||this.position.y<0||this.position.y>height||this.obstacle.contains(this.position))}reward(){return this.position.x<0||this.position.x>width||this.position.y<0||this.position.y>height||this.obstacle_1.contains(this.position)||this.obstacle_2.contains(this.position)?-1:0}getState(){return[this.position.x/width,this.position.y/height]}randomWalk(){let t=createVector();t.x=.01,t.y=random(-this.maxforce,this.maxforce),this.step(t)}render(){fill(127),rect(this.position.x,this.position.y,20,20),this.obstacle_1.display(),this.obstacle_2.display(),fill(255,0,0),rect(7*width/8,height/2,20,20)}},"Stay-v0":class{constructor(){this.width=500,this.height=500,this.acceleration=createVector(0,0),this.velocity=createVector(0,0),this.position=createVector(this.width/2,this.height/2),this.r=6,this.maxspeed=2,this.maxLength=2e3,this.index=0,this.path=[],this.numFeatures=4,this.numActions=4,this.success=!0,this.steps=0,this.dangerZone=new S(random(this.width/2),random(this.height/2),this.width/2,this.height/2),this.reset()}reset(){this.success=!0,this.acceleration.mult(0),this.velocity.mult(0),this.steps=0}step(t){let i=0,e=0;return 0==t?i=-.001:1==t?i=.001:2==t?e=-.001:3==t&&(e=.001),this.acceleration.add(i,e),this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.position.x<0?(this.position.x=0,this.velocity.mult(-1),this.acceleration.mult(0)):this.position.x>=this.width&&(this.position.x=this.width,this.velocity.mult(-1),this.acceleration.mult(0)),this.position.y<=0?(this.position.y=0,this.velocity.mult(-1),this.acceleration.mult(0)):this.position.y>this.height&&(this.position.y=this.height,this.velocity.mult(-1),this.acceleration.mult(0)),this.index+=1,this.index<this.maxLength?this.path.push([this.position.x,this.position.y]):this.path[this.index%this.maxLength]=[this.position.x,this.position.y],this.steps+=1,[this.reward(),this.isDone(),this.success]}isDone(){return!1}reward(){return this.dangerZone.contains(this.position)?(this.success=!1,-1):0}getStateTensor(){return tf.tensor2d([[floor(this.position.x)/this.width,floor(this.position.y)/this.height,this.velocity.x,this.velocity.y]])}randomWalk(){let t;t=random()<.5?0:1,this.step(t),this.isDone()&&this.reset()}render(){fill(200),noStroke();for(let t=0;t<this.path.length;t++)circle(this.path[t][0],this.path[t][1],1);noStroke(),fill(255,0,0),circle(this.position.x,this.position.y,6),this.dangerZone.display(),stroke(255),noFill(),rect(0,0,this.width,this.height)}}};function w(){console.log("This is a reinforcement learning library for p5.js.")}function z(t,i,e){return"REINFORCE"==t?new s(i,e):"TabularQ"==t?new r(i,e):"DDPG"==t?new f(i,e):void console.log("The policy doesn't exist in this library. Please choose another one.")}function T(t){if("REINFORCE"==t.name)tf.tidy(()=>{const i=t.getActions(env.getStateTensor())[0];env.step(i)[1]&&env.reset()});else if("TabularQ"==t.config.name){frameRate(1);const i=t.chooseAction(env.getState(),t.qTable,!1);env.step(i)[1]&&env.reset()}else"DDPG"==t.config.name&&t.evaluate()}function A(t){Object.keys(x).length;if(x.hasOwnProperty(t))return new x[t];console.log("This env doesn't exist!")}async function M(t,i){if("REINFORCE"==t.name){if(!((i="indexeddb://"+i)in await tf.io.listModels()))throw new Error(`Cannot find model at ${modelPath}.`);{const e=await tf.loadLayersModel(i);console.log(`Loaded model from ${i}`),t.model=e}}else"TabularQ"==t.name&&(t.qTable=await loadTable(i+".csv"),console.log(`Loaded model from ${i}`))}async function k(){console.log(JSON.stringify(await tf.io.listModels())+"\n\n")}async function C(t){const i=await tf.io.listModels();null==i[t]?console.log("The path is invalid.\n\n"):console.log(i[t])}async function L(t){null==(await tf.io.listModels())[t]?console.log("The model doesn't exist.\n\n"):(await tf.io.removeModel(t),console.log("Model "+t+"has been removed.\n\n"))}async function D(t){if(console.log(t.config.name+" training starts"),"DDPG"==t.config.name)t.train();else if("TabularQ"==t.config.name||"REINFORCE"==t.config.name){let i=0;for(let e=0;e<t.config.trainIterations&&!t.stopTraining;++e){const s=await t.train();s[2]?i+=1:i=0,s[2]=i,null!=s&&(t.stopTraining=W(s,t,e))}}}async function O(t,i){await t.save(i)}function W(t,i,e){const s={rewards:void 0,steps:void 0,episodes:void 0,consecutiveSuccess:void 0},o=i.config.endingCondition;s.rewards=t[0],s.steps=t[1],s.consecutiveSuccess=t[2],s.episodes=e;const r=Object.keys(o)[0];if(s.hasOwnProperty(r)){if(console.log("Episodes: "+e),console.log("Total rewards: "+t[0]),console.log("Total steps: "+t[1]),console.log("Consecutive success "+t[2]),console.log(" "),"more"==o.condition&&s[r]>=o[r]||"less"==o.condition&&s[r]<=o[r]){if(console.log("Training finished"),console.log("Start evaluation"),i.config.saveModel)if("REINFORCE"==i.config.name)rl5.saveModel(i.model,i.config.saveModelPath),console.log("Model saved");else{if("TabularQ"==i.config.name)return saveTable(i.qTable,i.config.modelName+".csv"),console.log("Model saved as "+i.config.modelName),!0;console.log("This algorithm doesn't support saving model!")}return!0}return!1}throw"[rl5]: The ending condition doesn't exist!"}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ybDUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3JsNS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ybDUvLi9zcmMvcG9saWNpZXMvcmVpbmZvcmNlLmpzIiwid2VicGFjazovL3JsNS8uL3NyYy9wb2xpY2llcy90YWJ1bGFyX3EuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL3BvbGljaWVzL2RkcGcvbW9kZWxzLmpzIiwid2VicGFjazovL3JsNS8uL3NyYy9wb2xpY2llcy9kZHBnL2RkcGcuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL3BvbGljaWVzL2RkcGcvbm9pc2UuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL3BvbGljaWVzL2RkcGcvcHJpb3JpdGl6ZWRfbWVtb3J5LmpzIiwid2VicGFjazovL3JsNS8uL3NyYy9wb2xpY2llcy9kZHBnL2RkcGdfYWdlbnQuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL2VudnMvZGlzY3JldGUvc2Vla190YXJnZXQuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL2VudnMvY29udGludW91cy9hdm9pZF9vYnN0YWNsZXMuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL2VudnMvY29udGludW91cy9zZWVrX3RhcmdldC5qcyIsIndlYnBhY2s6Ly9ybDUvLi9zcmMvZW52cy9jb250aW51b3VzL3NlZWtfYXZvaWQuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL2VudnMvZGlzY3JldGUvc3RheS5qcyIsIndlYnBhY2s6Ly9ybDUvLi9zcmMvcmw1LmpzIiwid2VicGFjazovL3JsNS8uL3NyYy9lbnZzL2NhcnRfcG9sZS5qcyIsIndlYnBhY2s6Ly9ybDUvLi9zcmMvZW52cy9kaXNjcmV0ZS9hdm9pZF9vYnN0YWNsZXMuanMiLCJ3ZWJwYWNrOi8vcmw1Ly4vc3JjL2VudnMvZ3JpZF93b3JsZF8xZC5qcyIsIndlYnBhY2s6Ly9ybDUvLi9zcmMvZW52cy9wZW5kdWx1bS5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUkVJTkZPUkNFIiwiW29iamVjdCBPYmplY3RdIiwiZW52IiwiY29uZmlnIiwidGhpcyIsIm51bUZlYXR1cmVzIiwibnVtQWN0aW9ucyIsImxlYXJuaW5nUmF0ZSIsImRpc2NvdW50UmF0ZSIsInRyYWluSXRlcmF0aW9ucyIsIm1heFN0ZXBzUGVySXRlciIsImhpZGRlbkxheWVyU2l6ZXNPck1vZGVsIiwiaGlkZGVuTGF5ZXJTaXplcyIsInNhdmVNb2RlbCIsInNhdmVNb2RlbFBhdGgiLCJ1bmRlZmluZWQiLCJlbmRpbmdDb25kaXRpb24iLCJtb2RlbCIsInRmIiwiTGF5ZXJzTW9kZWwiLCJjcmVhdGVNb2RlbCIsIm9wdGltaXplciIsInRyYWluIiwiYWRhbSIsInN0b3BUcmFpbmluZyIsIkFycmF5IiwiaXNBcnJheSIsInNlcXVlbnRpYWwiLCJmb3JFYWNoIiwiaGlkZGVuTGF5ZXJTaXplIiwiYWRkIiwibGF5ZXJzIiwiZGVuc2UiLCJ1bml0cyIsImFjdGl2YXRpb24iLCJrZXJuZWxJbml0aWFsaXplciIsImlucHV0U2hhcGUiLCJzdW1tYXJ5IiwiYWxsR3JhZGllbnRzIiwiYWxsUmV3YXJkcyIsInN1Y2Nlc3MiLCJ0b3RhbFJld2FyZHMiLCJ0b3RhbFN0ZXBzIiwicmVzZXQiLCJnYW1lUmV3YXJkcyIsImdhbWVHcmFkaWVudHMiLCJncmFkaWVudHMiLCJ0aWR5IiwiaW5wdXRUZW5zb3IiLCJnZXRTdGF0ZVRlbnNvciIsImdldEdyYWRpZW50c0FuZFNhdmVBY3Rpb25zIiwiZ3JhZHMiLCJwdXNoR3JhZGllbnRzIiwiYWN0aW9uIiwiY3VycmVudEFjdGlvbnNfIiwiaW5mbyIsInN0ZXAiLCJyZXdhcmQiLCJpc0RvbmUiLCJuZXh0RnJhbWUiLCJwdXNoIiwibm9ybWFsaXplZFJld2FyZHMiLCJyZXdhcmRTZXF1ZW5jZXMiLCJkaXNjb3VudGVkIiwic2VxdWVuY2UiLCJkaXNjb3VudFJld2FyZHMiLCJjb25jYXRlbmF0ZWQiLCJjb25jYXQiLCJtZWFuIiwic3RkIiwic3FydCIsInNxdWFyZSIsInN1YiIsIm1hcCIsInJzIiwiZGl2IiwiZGlzY291bnRBbmROb3JtYWxpemVSZXdhcmRzIiwiYXBwbHlHcmFkaWVudHMiLCJ2YXJOYW1lIiwidmFyR3JhZGllbnRzIiwidmFyR2FtZUdyYWRpZW50cyIsInN0YWNrIiwiZXhwYW5kZWREaW1zIiwicmFuayIsInJlc2hhcGVkTm9ybWFsaXplZFJld2FyZHMiLCJyZXNoYXBlIiwic2hhcGUiLCJnIiwibGVuZ3RoIiwibXVsIiwic2NhbGVBbmRBdmVyYWdlR3JhZGllbnRzIiwiZGlzcG9zZSIsInZhcmlhYmxlR3JhZHMiLCJsb2dpdHMiLCJhY3Rpb25zIiwiZ2V0TG9naXRzQW5kQWN0aW9ucyIsImRhdGFTeW5jIiwibGFiZWxzIiwib25lSG90IiwidGVuc29yMWQiLCJsb3NzZXMiLCJzb2Z0bWF4Q3Jvc3NFbnRyb3B5IiwiaW5wdXRzIiwicHJlZGljdCIsInNvZnRtYXhzIiwic29mdG1heCIsIm11bHRpbm9taWFsIiwicmVjb3JkIiwicmV3YXJkcyIsImRpc2NvdW50ZWRCdWZmZXIiLCJidWZmZXIiLCJwcmV2IiwiY3VycmVudCIsInNldCIsInRvVGVuc29yIiwiVGFidWxhclEiLCJtb2RlbE5hbWUiLCJxVGFibGUiLCJidWlsZFFUYWJsZSIsInRhYmxlIiwicDUiLCJUYWJsZSIsImFkZENvbHVtbiIsInN0ciIsImoiLCJuZXdSb3ciLCJhZGRSb3ciLCJnZXRDb2x1bW5Db3VudCIsInNldE51bSIsImNvbnNvbGUiLCJsb2ciLCJkb25lIiwiY3VycmVudFN0YXRlIiwiZ2V0U3RhdGUiLCJjaG9vc2VBY3Rpb24iLCJuZXh0U3RhdGUiLCJxUHJlZGljdCIsImdldE51bSIsInFUYXJnZXQiLCJyb3ciLCJnZXRSb3ciLCJxVmFsdWVzIiwibWF4IiwidXBkYXRlVmFsdWUiLCJzdGF0ZSIsImlzVHJhaW4iLCJyYW5kb20iLCJjb3B5TW9kZWwiLCJpbnN0YW5jZSIsIm5Nb2RlbCIsImJ1aWxkTW9kZWwiLCJvYnMiLCJ3ZWlnaHRzIiwidmFsIiwiYXNzaWduIiwiYXNzaWduQW5kU3RkIiwicGVydHVyYmVkTW9kZWwiLCJzdGRkZXYiLCJzZWVkIiwidHJhaW5hYmxlV2VpZ2h0cyIsInJhbmRvbVRlbnNvciIsInJhbmRvbU5vcm1hbCIsIm5WYWx1ZSIsInRhcmdldFVwZGF0ZSIsInRhcmdldCIsIm9yaWdpbmFsIiwib3JpZ2luYWxXIiwidGFyZ2V0VyIsIm9uZSIsInNjYWxhciIsInRhdSIsImxhc3RWYWx1ZSIsImNsb25lIiwid2FybiIsIkFjdG9yIiwic3RhdGVTaXplIiwibmJBY3Rpb25zIiwibGF5ZXJOb3JtIiwiZmlyc3RMYXllclNpemUiLCJhY3RvckZpcnN0TGF5ZXJTaXplIiwic2Vjb25kTGF5ZXJTaXplIiwiYWN0b3JTZWNvbmRMYXllclNpemUiLCJmaXJzdExheWVyIiwiaW5pdGlhbGl6ZXJzIiwiZ2xvcm90VW5pZm9ybSIsInVzZUJpYXMiLCJiaWFzSW5pdGlhbGl6ZXIiLCJzZWNvbmRMYXllciIsIm91dHB1dExheWVyIiwicmFuZG9tVW5pZm9ybSIsIm1pbnZhbCIsIm1heHZhbCIsInRmU3RhdGUiLCJsMSIsImFwcGx5IiwibDIiLCJvdXRwdXQiLCJvdXRwdXRzIiwiQ3JpdGljIiwiZmlyc3RMYXllclNTaXplIiwiY3JpdGljRmlyc3RMYXllclNTaXplIiwiZmlyc3RMYXllckFTaXplIiwiY3JpdGljRmlyc3RMYXllckFTaXplIiwiY3JpdGljU2Vjb25kTGF5ZXJTaXplIiwiZmlyc3RMYXllclMiLCJmaXJzdExheWVyQSIsInRmQWN0aW9ucyIsImwxQSIsImwxUyIsImRkcGdfRERQRyIsImFjdG9yIiwiY3JpdGljIiwibWVtb3J5Iiwibm9pc2UiLCJ0ZkdhbW1hIiwiZ2FtbWEiLCJvYnNJbnB1dCIsImlucHV0IiwiYmF0Y2hTaGFwZSIsImFjdGlvbklucHV0IiwiYWN0b3JUYXJnZXQiLCJjcml0aWNUYXJnZXQiLCJwZXJ0dXJiZWRBY3RvciIsInNldExlYXJuaW5nT3AiLCJjcml0aWNXaXRoQWN0b3IiLCJ0ZkFjdCIsImNyaXRpY1RhcmdldFdpdGhBY3RvclRhcmdldCIsImFjdG9yT3B0aW1pc2VyIiwiYWN0b3JMciIsImNyaXRpY09wdGltaXNlciIsImNyaXRpY0xyIiwiY3JpdGljV2VpZ2h0cyIsInciLCJhY3RvcldlaWdodHMiLCJjdXJyZW50U3RkZGV2Iiwib2JzZXJ2YXRpb25zIiwicGVydHViZWRQcmVkaWN0aW9ucyIsInByZWRpY3Rpb25zIiwiYmF0Y2giLCJnZXRCYXRjaCIsImJhdGNoU2l6ZSIsIm9iczAiLCJkaXN0YW5jZVYiLCJ0Zk9iczAiLCJ0ZW5zb3IyZCIsImRpc3RhbmNlIiwiZGlzdGFuY2VNZWFzdXJlIiwiYWRhcHQiLCJhIiwic3QiLCJ0ZmEiLCJxIiwidiIsIm9ic2VydmF0aW9uIiwidGZPYnMxIiwidGZSZXdhcmRzIiwidGZUZXJtaW5hbHMiLCJjb3N0cyIsImNyaXRpY0xvc3MiLCJtaW5pbWl6ZSIsInRmUVByZWRpY3Rpb25zMCIsInRmUVByZWRpY3Rpb25zMSIsInRmUVRhcmdldHMiLCJlcnJvcyIsImFwcGVuZEJhY2tXaXRoQ29zdCIsImxvc3MiLCJhY3Rvckxvc3MiLCJwb3BCYXRjaCIsIm9iczEiLCJfdGZSZXdhcmRzIiwiX3RmVGVybWluYWxzIiwidGVybWluYWxzIiwiZXhwYW5kRGltcyIsImdldFRmQmF0Y2giLCJ0cmFpbkNyaXRpYyIsInRyYWluQWN0b3IiLCJsb3NzQyIsImxvc3NBIiwiQWRhcHRpdmVQYXJhbU5vaXNlU3BlYyIsImNvbmYiLCJpbml0aWFsU3RkZGV2IiwiZGVzaXJlZEFjdGlvblN0ZGRldiIsImFkb3B0aW9uQ29lZmZpY2llbnQiLCJQcmlvcml0aXplZE1lbW9yeSIsIm1heGxlbiIsInByaW9yQnVmZmVyIiwiYiIsImlkIiwiTWF0aCIsImZsb29yIiwidGVybWluYWwiLCJuRWxlbSIsInBvcCIsInNwbGljZSIsIm9yaWdpbmFsQmF0Y2hTaXplIiwiX2J1ZmZlckJhdGNoIiwiYXNzZXJ0IiwiX2FkZFJhbmRvbUJ1ZmZlckJhdGNoIiwiZWxlbWVudCIsImFycmF5IiwiY29zdCIsInVuc2hpZnQiLCJfbG9jYXRpb25PZiIsInN0YXJ0IiwiZW5kIiwicGl2b3QiLCJwYXJzZUludCIsInNoaWZ0IiwiX2luc2VydCIsImRkcGdfYWdlbnRfRERQR0FnZW50IiwiYWN0aW9uU2l6ZSIsIm1lbW9yeVNpemUiLCJnYW1tZSIsIm5vaXNlRGVjYXkiLCJyZXdhcmRTY2FsZSIsIm5iRXBvY2hzIiwibmJFcG9jaHNDeWNsZSIsIm5iVHJhaW5TdGVwcyIsIm1heFN0ZXAiLCJyZXNldEVwaXNvZGUiLCJzYXZlRHVyaW5nVHJhaW5pbmciLCJzYXZlSW50ZXJ2YWwiLCJlcG9jaCIsInNlZWRyYW5kb20iLCJyZXdhcmRzTGlzdCIsImVwaUR1cmF0aW9uIiwiZGRwZyIsInNhdmUiLCJmb2xkZXIiLCJsb2FkTW9kZWwiLCJjb3B5RnJvbVNhdmUiLCJnZXRRdmFsdWUiLCJsb3NzVmFsdWVzQ3JpdGljIiwibG9zc1ZhbHVlc0FjdG9yIiwidGltZSIsIm9wdGltaXplQ3JpdGljQWN0b3IiLCJ0aW1lRW5kIiwiZW5kaW5nQ3JpdGVyaWEiLCJzdGVwcyIsImVwaXNvZGVzIiwiZW5kaW5nS2V5Iiwia2V5cyIsInRmUHJldmlvdXNTdGVwIiwibVByZXZpb3VzU3RlcCIsInBlcnR1cmJlZFByZWRpY3Rpb24iLCJtUmV3YXJkIiwibVN0YXRlIiwibURvbmUiLCJhcHBlbmQiLCJsb2dUZk1lbW9yeSIsInJlbCIsInN0ZXBUcmFpbiIsImFkYXB0UGFyYW1Ob2lzZSIsIl9pc0RvbmUiLCJfb3B0aW1pemUiLCJtZW0iLCJudW1UZW5zb3JzIiwieCIsInkiLCJoIiwicG9zaXRpb24iLCJjcmVhdGVWZWN0b3IiLCJzdHJva2UiLCJmaWxsIiwic3Ryb2tlV2VpZ2h0IiwicmVjdE1vZGUiLCJDT1JORVIiLCJyZWN0Iiwic3BvdCIsIk9ic3RhY2xlIiwic2Vla190YXJnZXRfdGFyZ2V0Iiwic2Vla19hdm9pZF9PYnN0YWNsZSIsInN0YXlfdGFyZ2V0IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInByaW50SW5mbyIsImNyZWF0ZUFnZW50IiwiZXZhbHVhdGUiLCJjcmVhdGVFbnYiLCJjaGVja01vZGVscyIsImNoZWNrT25lTW9kZWwiLCJyZW1vdmVPbmVNb2RlbCIsImVudnNMaXN0IiwiQ2FydFBvbGUtdjAiLCJncmF2aXR5IiwibWFzc0NhcnQiLCJtYXNzUG9sZSIsInRvdGFsTWFzcyIsImNhcnRXaWR0aCIsImNhcnRIZWlnaHQiLCJwb2xlTW9tZW50IiwiZm9yY2VNYWciLCJ4VGhyZXNob2xkIiwidGhldGFUaHJlc2hvbGQiLCJQSSIsInhEb3QiLCJ0aGV0YSIsInRoZXRhRG90IiwiZm9yY2UiLCJjb3NUaGV0YSIsImNvcyIsInNpblRoZXRhIiwic2luIiwidGVtcCIsInRoZXRhQWNjIiwieEFjYyIsIlhfTUlOIiwiWF9NQVgiLCJzY2FsZSIsIndpZHRoIiwicmFpbFkiLCJoZWlnaHQiLCJjYXJ0VyIsImNhcnRIIiwiY2FydFgiLCJ3aGVlbFJhZGl1cyIsIm9mZnNldFgiLCJjaXJjbGUiLCJhbmdsZSIsInBvbGVUb3BYIiwicG9sZVRvcFkiLCJzdHJva2VDYXAiLCJST1VORCIsImxpbmUiLCJncm91bmRZIiwibGltaXRUb3BZIiwiUFJPSkVDVCIsIlNlZWtUYXJnZXREaXNjcmV0ZS12MCIsImFjY2VsZXJhdGlvbiIsInZlbG9jaXR5IiwibWF4c3BlZWQiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsInRhcmdldFkiLCJtdWx0IiwibGltaXQiLCJjb250YWlucyIsImhlYWRpbmciLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJiZWdpblNoYXBlIiwidmVydGV4IiwiZW5kU2hhcGUiLCJDTE9TRSIsImRpc3BsYXkiLCJBdm9pZE9ic3RhY2xlcy12MCIsInZlcnRpYWxTdGF0ZXMiLCJob3Jpem9udGFsU3RhdGVzIiwic3F1YXJlU2l6ZSIsIm51bVRhcmdldHMiLCJ0YXJnZXRzIiwiYmxhY2tYIiwiaW50IiwiYmxhY2tZIiwieFBvcyIsInlQb3MiLCJmbGF0U3RhdGVzIiwiR3JpZFdvcmxkMUQtdjAiLCJBdm9pZE9ic3RhY2xlc0NvbnRpbm91cy12MCIsIm1heGZvcmNlIiwib2JzdGFjbGVXaWR0aCIsIm9ic3RhY2xlSGVpZ2h0Iiwib2JzdGFjbGUiLCJyZWFsX2FjdGlvbiIsIlNlZWtUYXJnZXRDb250aW51b3VzLXYwIiwiZGlzdCIsIlBlbmR1bHVtLXYwIiwibWF4U3BlZWQiLCJtYXhUb3JxdWUiLCJkdCIsImFjdGlvblNwYWNlIiwidGhldGFDb3MiLCJ0aGV0YVNpbiIsImNvbnN0cmFpbiIsImxhc3RfYWN0aW9uIiwibmV3VGhldGFEb3QiLCJuZXdUaGV0YSIsInBvdyIsIm5vU3Ryb2tlIiwiU2Vla0F2b2lkQ29udGlub3VzLXYwIiwib2JzdGFjbGVfMSIsIm9ic3RhY2xlXzIiLCJTdGF5LXYwIiwibWF4TGVuZ3RoIiwiaW5kZXgiLCJwYXRoIiwiZGFuZ2VyWm9uZSIsImZvcmNlWCIsImZvcmNlWSIsIm5vRmlsbCIsInBvbGljeSIsImdldEFjdGlvbnMiLCJmcmFtZVJhdGUiLCJlbnZOYW1lIiwiYXN5bmMiLCJhZ2VudCIsImlvIiwibGlzdE1vZGVscyIsIkVycm9yIiwibW9kZWxQYXRoIiwibG9hZExheWVyc01vZGVsIiwibG9hZFRhYmxlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGVsc0luZm8iLCJyZW1vdmVNb2RlbCIsImNvbnNlY3V0aXZlU3VjY2VzcyIsIm1vZGVsU2F2ZVBhdGgiLCJybDUiLCJzYXZlVGFibGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBYSxJQUFJRCxJQUVqQkQsRUFBVSxJQUFJQyxJQVJoQixDQVNHSyxPQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNkLEVBQVNlLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRWpCLEVBQVNlLElBQ2xDRyxPQUFPQyxlQUFlbkIsRUFBU2UsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFVixFQUFvQmdCLEVBQUksU0FBU3RCLEdBQ1gsb0JBQVh1QixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWVuQixFQUFTdUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlbkIsRUFBUyxhQUFjLENBQUV5QixPQUFPLEtBUXZEbkIsRUFBb0JvQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUW5CLEVBQW9CbUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixF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QWhDcFUsRUFBMkIsV0FBZWlVLEVBQWVHLElBQWNwVSxFQUFnQm9VLEdBQVksQ0FNaEcsR0FKQW5OLFFBQVFDLElBQUkscUJBQ1pELFFBQVFDLElBQUksb0JBR1Q0VyxFQUFNM2UsT0FBa0IsVUFDdkIsR0FBMkIsYUFBeEIyZSxFQUFNM2UsT0FBYSxLQUNsQndmLElBQUk5ZSxVQUFVaWUsRUFBTTdkLE1BQU82ZCxFQUFNM2UsT0FBc0IsZUFDdkQ4SCxRQUFRQyxJQUFJLG1CQUVYLElBQTJCLFlBQXhCNFcsRUFBTTNlLE9BQWEsS0FHdkIsT0FGQXlmLFVBQVVkLEVBQU16WCxPQUFReVgsRUFBTTNlLE9BQWtCLFVBQUksUUFDcEQ4SCxRQUFRQyxJQUFJLGtCQUFvQjRXLEVBQU0zZSxPQUFrQixZQUNqRCxFQUdQOEgsUUFBUUMsSUFBSSxnREFHcEIsT0FBTyxFQUdQLE9BQU8sRUFJWCxLQUFLIiwiZmlsZSI6InJsNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJsNVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJybDVcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJFSU5GT1JDRSB7XG5cbiAgY29uc3RydWN0b3IoZW52LCBjb25maWcpIHtcbiAgICB0aGlzLm51bUZlYXR1cmVzID0gZW52Lm51bUZlYXR1cmVzO1xuICAgIHRoaXMubnVtQWN0aW9ucyA9IGVudi5udW1BY3Rpb25zO1xuICAgIHRoaXMubmFtZSA9IFwiUkVJTkZPUkNFXCI7XG4gICAgdGhpcy5lbnYgPSBlbnY7XG5cbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBcIm5hbWVcIjogXCJSRUlORk9SQ0VcIixcbiAgICAgIFwibGVhcm5pbmdSYXRlXCI6IGNvbmZpZy5sZWFybmluZ1JhdGUgfHwwLjA1LFxuICAgICAgXCJkaXNjb3VudFJhdGVcIjogY29uZmlnLmRpc2NvdW50UmF0ZSB8fCAwLjk1LFxuICAgICAgXCJ0cmFpbkl0ZXJhdGlvbnNcIjogY29uZmlnLnRyYWluSXRlcmF0aW9ucyB8fCAxMDAwLFxuICAgICAgXCJtYXhTdGVwc1Blckl0ZXJcIjogY29uZmlnLm1heFN0ZXBzUGVySXRlciB8fCA1MDAsXG4gICAgICBcImhpZGRlbkxheWVyU2l6ZXNPck1vZGVsXCI6IGNvbmZpZy5oaWRkZW5MYXllclNpemVzIHx8IDEwLFxuICAgICAgXCJzYXZlTW9kZWxcIjogY29uZmlnLnNhdmVNb2RlbCB8fCBmYWxzZSxcbiAgICAgIFwic2F2ZU1vZGVsUGF0aFwiOiBjb25maWcuc2F2ZU1vZGVsUGF0aCB8fCB1bmRlZmluZWQsXG4gICAgICBcImVuZGluZ0NvbmRpdGlvblwiOiBjb25maWcuZW5kaW5nQ29uZGl0aW9uIHx8IHVuZGVmaW5lZFxuICAgIH1cblxuICAgIHRoaXMubW9kZWw7XG4gICAgaWYodGhpcy5jb25maWdbXCJoaWRkZW5MYXllclNpemVzT3JNb2RlbFwiXSBpbnN0YW5jZW9mIHRmLkxheWVyc01vZGVsKSB7XG4gICAgICB0aGlzLm1vZGVsID0gdGhpcy5jb25maWdbXCJoaWRkZW5MYXllclNpemVzT3JNb2RlbFwiXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZU1vZGVsKHRoaXMuY29uZmlnW1wiaGlkZGVuTGF5ZXJTaXplc09yTW9kZWxcIl0sIHRoaXMubnVtRmVhdHVyZXMsIHRoaXMubnVtQWN0aW9ucyk7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpbWl6ZXIgPSB0Zi50cmFpbi5hZGFtKHRoaXMuY29uZmlnW1wibGVhcm5pbmdSYXRlXCJdKTtcblxuICAgIHRoaXMuc3RvcFRyYWluaW5nID0gZmFsc2U7XG4gIH1cblxuICBjcmVhdGVNb2RlbChoaWRkZW5MYXllclNpemVzLCBudW1GZWF0dXJlcywgbnVtQWN0aW9ucykge1xuICAgIC8vIGlmIG5vdCBhbiBhcnJheSwgd3JhcCB0aGUgc2NhbGFyIGludG8gYW4gYXJyYXkgXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGhpZGRlbkxheWVyU2l6ZXMpKSB7XG4gICAgICBoaWRkZW5MYXllclNpemVzID0gW2hpZGRlbkxheWVyU2l6ZXNdO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWwgPSB0Zi5zZXF1ZW50aWFsKCk7XG5cbiAgICBoaWRkZW5MYXllclNpemVzLmZvckVhY2goKGhpZGRlbkxheWVyU2l6ZSwgaSkgPT4ge1xuICAgICAgdGhpcy5tb2RlbC5hZGQodGYubGF5ZXJzLmRlbnNlKHtcbiAgICAgICAgdW5pdHM6IGhpZGRlbkxheWVyU2l6ZSxcbiAgICAgICAgYWN0aXZhdGlvbjogJ3JlbHUnLFxuICAgICAgICBrZXJuZWxJbml0aWFsaXplcjogJ3JhbmRvbU5vcm1hbCcsXG4gICAgICAgIGlucHV0U2hhcGU6IGkgPT09IDAgPyBbbnVtRmVhdHVyZXNdIDogdW5kZWZpbmVkIC8vdGhlIGlucHV0IHNoYXBlIGZvciB0aGUgZmlyc3QgbGF5ZXIgaXMgWzRdLCBvdGhlcnMgY2FuIGJlIHVuZGVmaW5lZCBcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgICAvLyB0aGUgbGFzdCBsYXllclxuICAgIHRoaXMubW9kZWwuYWRkKHRmLmxheWVycy5kZW5zZSh7dW5pdHM6IG51bUFjdGlvbnN9KSk7XG4gICAgdGhpcy5tb2RlbC5zdW1tYXJ5KCk7XG4gIH1cblxuICBnZXRNb2RlbCgpe1xuICAgIHJldHVybiB0aGlzLm1vZGVsO1xuICB9XG5cbiAgYXN5bmMgdHJhaW4oKSB7XG4gICAgY29uc3QgYWxsR3JhZGllbnRzID0gW107XG4gICAgY29uc3QgYWxsUmV3YXJkcyA9IFtdOyAgICBcbiAgICBsZXQgc3RhdGVzO1xuICAgIGxldCB0b3RhbFJld2FyZHMgPSAwO1xuICAgIGxldCB0b3RhbFN0ZXBzID0gMDtcbiAgICBsZXQgc3VjY2VzcztcblxuICAgIC8vIHJlc2V0IGVudiBcbiAgICB0aGlzLmVudi5yZXNldCgpO1xuICAgIGNvbnN0IGdhbWVSZXdhcmRzID0gW107XG4gICAgY29uc3QgZ2FtZUdyYWRpZW50cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZ1tcIm1heFN0ZXBzUGVySXRlclwiXTsgKytpKSB7ICAgXG4gICAgICBjb25zdCBncmFkaWVudHMgPSB0Zi50aWR5KCgpID0+IHsgICBcbiAgICAgICAgY29uc3QgaW5wdXRUZW5zb3IgPSB0aGlzLmVudi5nZXRTdGF0ZVRlbnNvcigpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRHcmFkaWVudHNBbmRTYXZlQWN0aW9ucyhpbnB1dFRlbnNvcikuZ3JhZHM7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5wdXNoR3JhZGllbnRzKGdhbWVHcmFkaWVudHMsIGdyYWRpZW50cyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuY3VycmVudEFjdGlvbnNfWzBdO1xuICAgICAgY29uc3QgaW5mbyA9IHRoaXMuZW52LnN0ZXAoYWN0aW9uKTtcbiAgICAgIGNvbnN0IHJld2FyZCA9IGluZm9bMF07XG4gICAgICBjb25zdCBpc0RvbmUgPSBpbmZvWzFdO1xuICAgICAgc3VjY2VzcyA9IGluZm9bMl07XG4gICAgICBhd2FpdCB0Zi5uZXh0RnJhbWUoKTsgXG4gICAgICBcbiAgICAgIGdhbWVSZXdhcmRzLnB1c2gocmV3YXJkKTtcblxuICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICB0b3RhbFN0ZXBzID0gaSsxOyAgICAgICAgXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gICAgXG4gICAgXG4gICAgdGhpcy5wdXNoR3JhZGllbnRzKGFsbEdyYWRpZW50cywgZ2FtZUdyYWRpZW50cyk7XG4gICAgYWxsUmV3YXJkcy5wdXNoKGdhbWVSZXdhcmRzKTtcbiAgICBcbiAgICAvLyBhd2FpdCB0Zi5uZXh0RnJhbWUoKTsgXG5cbiAgICB0Zi50aWR5KCgpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZXdhcmRzID1cbiAgICAgICAgICBkaXNjb3VudEFuZE5vcm1hbGl6ZVJld2FyZHMoYWxsUmV3YXJkcywgdGhpcy5jb25maWdbXCJkaXNjb3VudFJhdGVcIl0pO1xuICAgICAgdGhpcy5vcHRpbWl6ZXIuYXBwbHlHcmFkaWVudHMoXG4gICAgICAgICAgc2NhbGVBbmRBdmVyYWdlR3JhZGllbnRzKGFsbEdyYWRpZW50cywgbm9ybWFsaXplZFJld2FyZHMpKTtcbiAgICB9KTtcbiAgICB0Zi5kaXNwb3NlKGFsbEdyYWRpZW50cyk7XG5cbiAgICBmb3IobGV0IGk9MDsgaSA8IGdhbWVSZXdhcmRzLmxlbmd0aDsgaSsrKXtcbiAgICAgIHRvdGFsUmV3YXJkcyArPSBnYW1lUmV3YXJkc1tpXTtcbiAgICB9XG4gICAgaWYodG90YWxTdGVwcyA9PSAwKXtcbiAgICAgIHRvdGFsU3RlcHMgPSB0aGlzLmNvbmZpZ1tcIm1heFN0ZXBzUGVyR2FtZVwiXTtcbiAgICB9XG4gICAgcmV0dXJuIFt0b3RhbFJld2FyZHMsIHRvdGFsU3RlcHMsIHN1Y2Nlc3NdO1xuICB9XG5cbiAgZ2V0R3JhZGllbnRzQW5kU2F2ZUFjdGlvbnMoaW5wdXRUZW5zb3IpIHtcbiAgICBjb25zdCBmID0gKCkgPT4gdGYudGlkeSgoKSA9PiB7XG4gICAgICBjb25zdCBbbG9naXRzLCBhY3Rpb25zXSA9IHRoaXMuZ2V0TG9naXRzQW5kQWN0aW9ucyhpbnB1dFRlbnNvcik7XG4gICAgICB0aGlzLmN1cnJlbnRBY3Rpb25zXyA9IGFjdGlvbnMuZGF0YVN5bmMoKTtcbiAgICAgIFxuICAgICAgY29uc3QgbGFiZWxzID0gdGYub25lSG90KHRmLnRlbnNvcjFkKHRoaXMuY3VycmVudEFjdGlvbnNfKSwgdGhpcy5udW1BY3Rpb25zKTtcbiAgICAgIHJldHVybiB0Zi5sb3NzZXMuc29mdG1heENyb3NzRW50cm9weShsYWJlbHMsIGxvZ2l0cyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRmLnZhcmlhYmxlR3JhZHMoZik7XG4gIH1cblxuICBnZXRDdXJyZW50QWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50QWN0aW9uc187XG4gIH1cblxuICBnZXRMb2dpdHNBbmRBY3Rpb25zKGlucHV0cykge1xuICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHtcbiAgICAgIGNvbnN0IGxvZ2l0cyA9IHRoaXMubW9kZWwucHJlZGljdChpbnB1dHMpO1xuICAgICAgLy8gY29uc29sZS5sb2cobG9naXRzLmRhdGFTeW5jKCkpO1xuXG4gICAgICBjb25zdCBzb2Z0bWF4cyA9IGxvZ2l0cy5zb2Z0bWF4KCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzb2Z0bWF4cy5wcmludCgpKTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IHRmLm11bHRpbm9taWFsKHNvZnRtYXhzLCAxLCBudWxsLCB0cnVlKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGFjdGlvbnMucHJpbnQoKSk7XG5cbiAgICAgIHJldHVybiBbbG9naXRzLCBhY3Rpb25zXTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFjdGlvbnMoaW5wdXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TG9naXRzQW5kQWN0aW9ucyhpbnB1dHMpWzFdLmRhdGFTeW5jKCk7XG4gIH1cblxuICBwdXNoR3JhZGllbnRzKHJlY29yZCwgZ3JhZGllbnRzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZ3JhZGllbnRzKSB7XG4gICAgICBpZiAoa2V5IGluIHJlY29yZCkge1xuICAgICAgICByZWNvcmRba2V5XS5wdXNoKGdyYWRpZW50c1trZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY29yZFtrZXldID0gW2dyYWRpZW50c1trZXldXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8vIFRoZSBFbmQgb2YgdGhlIFBvbGljeU5ldHdvcmtcblxuZnVuY3Rpb24gZGlzY291bnRSZXdhcmRzKHJld2FyZHMsIGRpc2NvdW50UmF0ZSkge1xuICBjb25zdCBkaXNjb3VudGVkQnVmZmVyID0gdGYuYnVmZmVyKFtyZXdhcmRzLmxlbmd0aF0pO1xuICBsZXQgcHJldiA9IDA7XG4gIGZvciAobGV0IGkgPSByZXdhcmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGRpc2NvdW50UmF0ZSAqIHByZXYgKyByZXdhcmRzW2ldO1xuICAgIGRpc2NvdW50ZWRCdWZmZXIuc2V0KGN1cnJlbnQsIGkpO1xuICAgIHByZXYgPSBjdXJyZW50O1xuICB9XG4gIHJldHVybiBkaXNjb3VudGVkQnVmZmVyLnRvVGVuc29yKCk7XG59XG5cbmZ1bmN0aW9uIGRpc2NvdW50QW5kTm9ybWFsaXplUmV3YXJkcyhyZXdhcmRTZXF1ZW5jZXMsIGRpc2NvdW50UmF0ZSkge1xuICByZXR1cm4gdGYudGlkeSgoKSA9PiB7XG4gICAgY29uc3QgZGlzY291bnRlZCA9IFtdO1xuICAgIGZvciAoY29uc3Qgc2VxdWVuY2Ugb2YgcmV3YXJkU2VxdWVuY2VzKSB7XG4gICAgICBkaXNjb3VudGVkLnB1c2goZGlzY291bnRSZXdhcmRzKHNlcXVlbmNlLCBkaXNjb3VudFJhdGUpKVxuICAgIH1cbiAgICAvLyBDb21wdXRlIHRoZSBvdmVyYWxsIG1lYW4gYW5kIHN0ZGRldi5cbiAgICBjb25zdCBjb25jYXRlbmF0ZWQgPSB0Zi5jb25jYXQoZGlzY291bnRlZCk7XG4gICAgY29uc3QgbWVhbiA9IHRmLm1lYW4oY29uY2F0ZW5hdGVkKTtcbiAgICBjb25zdCBzdGQgPSB0Zi5zcXJ0KHRmLm1lYW4odGYuc3F1YXJlKGNvbmNhdGVuYXRlZC5zdWIobWVhbikpKSk7XG4gICAgLy8gTm9ybWFsaXplIHRoZSByZXdhcmQgc2VxdWVuY2VzIHVzaW5nIHRoZSBtZWFuIGFuZCBzdGQuXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGRpc2NvdW50ZWQubWFwKHJzID0+IHJzLnN1YihtZWFuKS5kaXYoc3RkKSk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzY2FsZUFuZEF2ZXJhZ2VHcmFkaWVudHMoYWxsR3JhZGllbnRzLCBub3JtYWxpemVkUmV3YXJkcykge1xuICByZXR1cm4gdGYudGlkeSgoKSA9PiB7XG4gICAgY29uc3QgZ3JhZGllbnRzID0ge307XG4gICAgZm9yIChjb25zdCB2YXJOYW1lIGluIGFsbEdyYWRpZW50cykge1xuICAgICAgZ3JhZGllbnRzW3Zhck5hbWVdID0gdGYudGlkeSgoKSA9PiB7XG4gICAgICAgIC8vIFN0YWNrIGdyYWRpZW50cyB0b2dldGhlci5cbiAgICAgICAgY29uc3QgdmFyR3JhZGllbnRzID0gYWxsR3JhZGllbnRzW3Zhck5hbWVdLm1hcChcbiAgICAgICAgICAgIHZhckdhbWVHcmFkaWVudHMgPT4gdGYuc3RhY2sodmFyR2FtZUdyYWRpZW50cykpO1xuICAgICAgICAvLyBFeHBhbmQgZGltZW5zaW9ucyBvZiByZXdhcmQgdGVuc29ycyB0byBwcmVwYXJlIGZvciBtdWx0aXBsaWNhdGlvblxuICAgICAgICAvLyB3aXRoIGJyb2FkY2FzdGluZy5cbiAgICAgICAgY29uc3QgZXhwYW5kZWREaW1zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyR3JhZGllbnRzWzBdLnJhbmsgLSAxOyArK2kpIHtcbiAgICAgICAgICBleHBhbmRlZERpbXMucHVzaCgxKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNoYXBlZE5vcm1hbGl6ZWRSZXdhcmRzID0gbm9ybWFsaXplZFJld2FyZHMubWFwKFxuICAgICAgICAgICAgcnMgPT4gcnMucmVzaGFwZShycy5zaGFwZS5jb25jYXQoZXhwYW5kZWREaW1zKSkpO1xuICAgICAgICBmb3IgKGxldCBnID0gMDsgZyA8IHZhckdyYWRpZW50cy5sZW5ndGg7ICsrZykge1xuICAgICAgICAgIC8vIFRoaXMgbXVsKCkgY2FsbCB1c2VzIGJyb2FkY2FzdGluZy5cbiAgICAgICAgICB2YXJHcmFkaWVudHNbZ10gPSB2YXJHcmFkaWVudHNbZ10ubXVsKHJlc2hhcGVkTm9ybWFsaXplZFJld2FyZHNbZ10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbmNhdGVuYXRlIHRoZSBzY2FsZWQgZ3JhZGllbnRzIHRvZ2V0aGVyLCB0aGVuIGF2ZXJhZ2UgdGhlbSBhY3Jvc3NcbiAgICAgICAgLy8gYWxsIHRoZSBzdGVwcyBvZiBhbGwgdGhlIGdhbWVzLlxuICAgICAgICByZXR1cm4gdGYubWVhbih0Zi5jb25jYXQodmFyR3JhZGllbnRzLCAwKSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50cztcbiAgfSk7XG59IiwiLy9UT0RPOlxuLy8xLiByZW5kZXJpbmcgMSBmcmFtZSBwZXIgMSBzZWNvbmQgZHVyaW5nIHRoZSB0cmFpbmluZyBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFidWxhclEge1xuXG4gICAgY29uc3RydWN0b3IoZW52LCBjb25maWcpe1xuICAgICAgICB0aGlzLm51bUZlYXR1cmVzID0gZW52Lm51bUZlYXR1cmVzO1xuICAgICAgICB0aGlzLm51bUFjdGlvbnMgPSBlbnYubnVtQWN0aW9ucztcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUYWJ1bGFyUVwiO1xuICAgICAgICB0aGlzLmVudiA9IGVudjtcbiAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlRhYnVsYXJRXCIsXG4gICAgICAgICAgICBcImxlYXJuaW5nUmF0ZVwiOiBjb25maWcubGVhcm5pbmdSYXRlIHx8IDAuMSxcbiAgICAgICAgICAgIFwiZGlzY291bnRSYXRlXCI6IGNvbmZpZy5kaXNjb3VudFJhdGUgfHwgMC45LFxuICAgICAgICAgICAgXCJ0cmFpbkl0ZXJhdGlvbnNcIjogY29uZmlnLnRyYWluSXRlcmF0aW9ucyB8fCA0MCxcbiAgICAgICAgICAgIFwiZW5kaW5nQ29uZGl0aW9uXCI6IGNvbmZpZy5lbmRpbmdDb25kaXRpb24gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgXCJzYXZlTW9kZWxcIjogY29uZmlnLnNhdmVNb2RlbCB8fCBmYWxzZSxcbiAgICAgICAgICAgIFwibW9kZWxOYW1lXCI6IGNvbmZpZy5tb2RlbE5hbWUgfHwgXCJSTDUtVGFidWxhclFcIlxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnFUYWJsZSA9IHRoaXMuYnVpbGRRVGFibGUodGhpcy5udW1GZWF0dXJlcywgdGhpcy5udW1BY3Rpb25zKTtcbiAgICAgICAgdGhpcy5zdG9wVHJhaW5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBidWlsZFFUYWJsZShudW1GZWF0dXJlcywgbnVtQWN0aW9ucyl7ICBcbiAgICAgICAgbGV0IHRhYmxlID0gbmV3IHA1LlRhYmxlKCk7XG4gICAgICAgIC8vIGNyZWF0ZSBjb2x1bW5zIGFzIGFjdGlvbnMgXG4gICAgICAgIGZvciAobGV0IG49MDsgbjxudW1BY3Rpb25zOyBuKyspIHtcbiAgICAgICAgICAgIHRhYmxlLmFkZENvbHVtbihzdHIobikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSByb3dzIGFzIHN0YXRlcyBcbiAgICAgICAgZm9yIChsZXQgaj0wOyBqPG51bUZlYXR1cmVzOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBuZXdSb3cgPSB0YWJsZS5hZGRSb3coKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTx0YWJsZS5nZXRDb2x1bW5Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuZXdSb3cuc2V0TnVtKGksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHRhYmxlKTtcbiAgICAgICAgcmV0dXJuIHRhYmxlO1xuICAgIH1cblxuICAgIGFzeW5jIHRyYWluKCl7XG4gICAgICAgIGNvbnN0IGxlYXJuaW5nUmF0ZSA9IHRoaXMuY29uZmlnW1wibGVhcm5pbmdSYXRlXCJdO1xuICAgICAgICBjb25zdCBkaXNjb3VudFJhdGUgPSB0aGlzLmNvbmZpZ1tcImRpc2NvdW50UmF0ZVwiXTtcbiAgICAgICAgdGhpcy5lbnYucmVzZXQoKTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuZW52LmdldFN0YXRlKCk7XG4gICAgICAgIGxldCB0b3RhbFJld2FyZHMgPSAwO1xuICAgICAgICBsZXQgdG90YWxTdGVwcyA9IDA7XG4gICAgICAgIHdoaWxlKCFkb25lKXtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuY2hvb3NlQWN0aW9uKGN1cnJlbnRTdGF0ZSwgdGhpcy5xVGFibGUsIHRydWUpO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuZW52LnN0ZXAoYWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJld2FyZCA9IGluZm9bMF07XG4gICAgICAgICAgICBjb25zdCBuZXh0U3RhdGUgPSB0aGlzLmVudi5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgZG9uZSA9IGluZm9bMV07XG4gICAgICAgICAgICAvLyBRLWxlYXJuaW5nIFxuICAgICAgICAgICAgY29uc3QgcVByZWRpY3QgPSB0aGlzLnFUYWJsZS5nZXROdW0oY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgICAgICAgICAgbGV0IHFUYXJnZXQ7XG4gICAgICAgICAgICAvLyBjYWN1bGF0ZSBRIHRhcmdldFxuICAgICAgICAgICAgaWYgKCFkb25lKXtcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLnFUYWJsZS5nZXRSb3cobmV4dFN0YXRlKTtcbiAgICAgICAgICAgICAgICBsZXQgcVZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMucVRhYmxlLmdldENvbHVtbkNvdW50KCk7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIHFWYWx1ZXMucHVzaChyb3cuZ2V0TnVtKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcVRhcmdldCA9IHJld2FyZCArIGRpc2NvdW50UmF0ZSAqIG1heChxVmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgcVRhcmdldCA9IHJld2FyZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVZhbHVlID0gdGhpcy5xVGFibGUuZ2V0TnVtKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKSArIGxlYXJuaW5nUmF0ZSAqIChxVGFyZ2V0IC0gcVByZWRpY3QpO1xuICAgICAgICAgICAgdGhpcy5xVGFibGUuc2V0KGN1cnJlbnRTdGF0ZSwgYWN0aW9uLCB1cGRhdGVWYWx1ZSk7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICB0b3RhbFJld2FyZHMgKz0gcmV3YXJkO1xuICAgICAgICAgICAgdG90YWxTdGVwcyArPTE7XG4gICAgICAgICAgICBhd2FpdCB0Zi5uZXh0RnJhbWUoKTsgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b3RhbFJld2FyZHMsIHRvdGFsU3RlcHNdO1xuICAgIH1cblxuICAgIC8vIFRvLURvOiBleHBhbmQgdG8gbW9yZSB0aGFuIDIgYWN0aW9ucyBcbiAgICBjaG9vc2VBY3Rpb24oc3RhdGUsIHFUYWJsZSwgaXNUcmFpbil7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBFUFNMSU9OID0gMC45O1xuXG4gICAgICAgIGNvbnN0IHJvdyA9IHFUYWJsZS5nZXRSb3coc3RhdGUpO1xuICAgICAgICBjb25zdCBxVmFsdWVzID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBnZXQgdGhlIHEgdmFsdWVzIGZyb20gdGhhdCByb3cgXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHFUYWJsZS5nZXRDb2x1bW5Db3VudCgpOyBpKyspe1xuICAgICAgICAgICAgcVZhbHVlcy5wdXNoKHJvdy5nZXROdW0oaSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyByYW5kb21seSBjaG9vc2UgYWN0aW9uXG4gICAgICAgIGlmICgoKHJhbmRvbSgxKSA+IEVQU0xJT04pIHx8IChxVmFsdWVzWzBdID09IDAgJiYgcVZhbHVlc1sxXSA9PSAwKSkgJiYgaXNUcmFpbil7XG4gICAgICAgICAgICBpZihyYW5kb20oMSkgPCAwLjUpe3JldHVybiAwO31cbiAgICAgICAgICAgIGVsc2V7cmV0dXJuIDE7fVxuICAgICAgICB9XG4gICAgICAgIC8vIGNob29zZSBhY3Rpb24gYmFzZWQgb24gcSB2YWx1ZXNcbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGlmKHFWYWx1ZXNbMF0gPj0gcVZhbHVlc1sxXSkge3JldHVybiAwO31cbiAgICAgICAgICAgIGVsc2Uge3JldHVybiAxO31cbiAgICAgICAgfVxuICAgIFxuICAgIH1cbn0iLCIvKipcbiAqIENvcHkgYSBtb2RlbFxuICogQHBhcmFtIG1vZGVsIEFjdG9yfENyaXRpYyBpbnN0YW5jZVxuICogQHBhcmFtIGluc3RhbmNlIEFjdG9yfENyaXRpY1xuICogQHJldHVybiBDb3B5IG9mIHRoZSBtb2RlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weU1vZGVsKG1vZGVsLCBpbnN0YW5jZSl7XG4gICAgcmV0dXJuIHRmLnRpZHkoKCkgPT4ge1xuICAgICAgICBsZXQgbk1vZGVsID0gbmV3IGluc3RhbmNlKG1vZGVsLmNvbmZpZyk7XG4gICAgICAgIC8vIGFjdGlvbiBtaWdodCBiZSBub3QgcmVxdWlyZWRcbiAgICAgICAgbk1vZGVsLmJ1aWxkTW9kZWwobW9kZWwub2JzLCBtb2RlbC5hY3Rpb24pO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbW9kZWwubW9kZWwud2VpZ2h0cztcbiAgICAgICAgZm9yIChsZXQgbT0wOyBtIDwgd2VpZ2h0cy5sZW5ndGg7IG0rKyl7XG4gICAgICAgICAgICBuTW9kZWwubW9kZWwud2VpZ2h0c1ttXS52YWwuYXNzaWduKHdlaWdodHNbbV0udmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbk1vZGVsO1xuICAgIH0pXG59XG5cbi8qKlxuICogQ29weSBhIG1vZGVsXG4gKiBAcGFyYW0gbW9kZWwgQWN0b3J8Q3JpdGljIGluc3RhbmNlXG4gKiBAcGFyYW0gaW5zdGFuY2UgQWN0b3J8Q3JpdGljXG4gKiBAcmV0dXJuIENvcHkgb2YgdGhlIG1vZGVsXG4gKi9cbmZ1bmN0aW9uIGNvcHlGcm9tU2F2ZShtb2RlbCwgaW5zdGFuY2UsIGNvbmZpZywgb2JzLCBhY3Rpb24pe1xuICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHtcbiAgICAgICAgbk1vZGVsID0gbmV3IGluc3RhbmNlKGNvbmZpZyk7XG4gICAgICAgIC8vIGFjdGlvbiBtaWdodCBiZSBub3QgcmVxdWlyZWRcbiAgICAgICAgbk1vZGVsLmJ1aWxkTW9kZWwob2JzLCBhY3Rpb24pO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbW9kZWwud2VpZ2h0cztcbiAgICAgICAgZm9yIChsZXQgbT0wOyBtIDwgd2VpZ2h0cy5sZW5ndGg7IG0rKyl7XG4gICAgICAgICAgICBuTW9kZWwubW9kZWwud2VpZ2h0c1ttXS52YWwuYXNzaWduKHdlaWdodHNbbV0udmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbk1vZGVsO1xuICAgIH0pXG59XG5cbi8qKlxuICogQ29weSB0aGUgdmFsdWUgb2Ygb2YgdGhlIG1vZGVsIGludG8gdGhlIHBlcnR1cmJlZE1vZGVsIGFuZFxuICogYWRkIGEgcmFuZG9tIHBlcnR1YmF0aW9uXG4gKiBAcGFyYW0gbW9kZWwgQWN0b3J8Q3JpdGljIGluc3RhbmNlXG4gKiBAcGFyYW0gcGVydHVyYmVkQWN0b3IgQWN0b3J8Q3JpdGljIGluc3RhbmNlXG4gKiBAcGFyYW0gc3RkZGV2IChudW1iZXIpXG4gKiBAcmV0dXJuIENvcHkgb2YgdGhlIG1vZGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25BbmRTdGQobW9kZWwsIHBlcnR1cmJlZE1vZGVsLCBzdGRkZXYsIHNlZWQpe1xuICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHtcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IG1vZGVsLm1vZGVsLnRyYWluYWJsZVdlaWdodHM7XG4gICAgICAgIGZvciAobGV0IG09MDsgbSA8IHdlaWdodHMubGVuZ3RoOyBtKyspe1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gcGVydHVyYmVkTW9kZWwubW9kZWwudHJhaW5hYmxlV2VpZ2h0c1ttXS52YWwuc2hhcGU7XG4gICAgICAgICAgICBsZXQgcmFuZG9tVGVuc29yID0gdGYucmFuZG9tTm9ybWFsKHNoYXBlLCAwLCBzdGRkZXYsIFwiZmxvYXQzMlwiLCBzZWVkKTtcbiAgICAgICAgICAgIGxldCBuVmFsdWUgPSB3ZWlnaHRzW21dLnZhbC5hZGQocmFuZG9tVGVuc29yKTtcbiAgICAgICAgICAgIHBlcnR1cmJlZE1vZGVsLm1vZGVsLnRyYWluYWJsZVdlaWdodHNbbV0udmFsLmFzc2lnbihuVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSB0YXJnZXQgbW9kZWxzXG4gKiBAcGFyYW0gdGFyZ2V0IEFjdG9yfENyaXRpYyBpbnN0YW5jZVxuICogQHBhcmFtIHBlcnR1cmJlZEFjdG9yIEFjdG9yfENyaXRpYyBpbnN0YW5jZVxuICogQHBhcmFtIGNvbmZpZyAoT2JqZWN0KVxuICogQHJldHVybiBDb3B5IG9mIHRoZSBtb2RlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VXBkYXRlKHRhcmdldCwgb3JpZ2luYWwsIGNvbmZpZyl7XG4gICAgcmV0dXJuIHRmLnRpZHkoKCkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFcgPSBvcmlnaW5hbC5tb2RlbC50cmFpbmFibGVXZWlnaHRzO1xuICAgICAgICBjb25zdCB0YXJnZXRXID0gdGFyZ2V0Lm1vZGVsLnRyYWluYWJsZVdlaWdodHM7XG4gICAgXG4gICAgICAgIGNvbnN0IG9uZSA9IHRmLnNjYWxhcigxKTtcbiAgICAgICAgY29uc3QgdGF1ID0gdGYuc2NhbGFyKGNvbmZpZy50YXUpO1xuICAgIFxuICAgICAgICBmb3IgKGxldCBtPTA7IG0gPCBvcmlnaW5hbFcubGVuZ3RoOyBtKyspe1xuICAgICAgICAgICAgY29uc3QgbGFzdFZhbHVlID0gdGFyZ2V0Lm1vZGVsLnRyYWluYWJsZVdlaWdodHNbbV0udmFsLmNsb25lKCk7XG4gICAgICAgICAgICBsZXQgblZhbHVlID0gdGF1Lm11bChvcmlnaW5hbFdbbV0udmFsKS5hZGQodGFyZ2V0V1ttXS52YWwubXVsKG9uZS5zdWIodGF1KSkpO1xuICAgICAgICAgICAgdGFyZ2V0Lm1vZGVsLnRyYWluYWJsZVdlaWdodHNbbV0udmFsLmFzc2lnbihuVmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IGxhc3RWYWx1ZS5zdWIodGFyZ2V0Lm1vZGVsLnRyYWluYWJsZVdlaWdodHNbbV0udmFsKS5tZWFuKCkuZGF0YVN5bmMoKTtcbiAgICAgICAgICAgIGlmIChkaWZmWzBdID09IDApe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInRhcmdldFVwZGF0ZTogTm90aGluZyBoYXZlIGJlZW4gY2hhbmdlZCFcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBBY3RvcntcblxuICAgIC8qKlxuICAgICAgICBAcGFyYW0gY29uZmlnIChPYmplY3QpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuc3RhdGVTaXplID0gY29uZmlnLnN0YXRlU2l6ZTtcbiAgICAgICAgdGhpcy5uYkFjdGlvbnMgPSBjb25maWcubmJBY3Rpb25zO1xuICAgICAgICB0aGlzLmxheWVyTm9ybSA9IGNvbmZpZy5sYXllck5vcm07XG5cbiAgICAgICAgdGhpcy5maXJzdExheWVyU2l6ZSA9IGNvbmZpZy5hY3RvckZpcnN0TGF5ZXJTaXplO1xuICAgICAgICB0aGlzLnNlY29uZExheWVyU2l6ZSA9IGNvbmZpZy5hY3RvclNlY29uZExheWVyU2l6ZTtcblxuICAgICAgICB0aGlzLnNlZWQgPSBjb25maWcuc2VlZDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMub2JzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gb2JzIHRmLmlucHV0XG4gICAgICovXG4gICAgYnVpbGRNb2RlbChvYnMpe1xuICAgICAgICB0aGlzLm9icyA9IG9icztcblxuICAgICAgICAvLyBGaXJzdCBsYXllclxuICAgICAgICB0aGlzLmZpcnN0TGF5ZXIgPSB0Zi5sYXllcnMuZGVuc2Uoe1xuICAgICAgICAgICAgdW5pdHM6IHRoaXMuZmlyc3RMYXllclNpemUsXG4gICAgICAgICAgICBrZXJuZWxJbml0aWFsaXplcjogdGYuaW5pdGlhbGl6ZXJzLmdsb3JvdFVuaWZvcm0oe3NlZWQ6IHRoaXMuc2VlZH0pLFxuICAgICAgICAgICAgYWN0aXZhdGlvbjogJ3JlbHUnLFxuICAgICAgICAgICAgdXNlQmlhczogdHJ1ZSxcbiAgICAgICAgICAgIGJpYXNJbml0aWFsaXplcjogXCJ6ZXJvc1wiXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTZWNvbmQgbGF5ZXJcbiAgICAgICAgdGhpcy5zZWNvbmRMYXllciA9IHRmLmxheWVycy5kZW5zZSh7XG4gICAgICAgICAgICB1bml0czogdGhpcy5zZWNvbmRMYXllclNpemUsXG4gICAgICAgICAgICBrZXJuZWxJbml0aWFsaXplcjogdGYuaW5pdGlhbGl6ZXJzLmdsb3JvdFVuaWZvcm0oe3NlZWQ6IHRoaXMuc2VlZH0pLFxuICAgICAgICAgICAgYWN0aXZhdGlvbjogJ3JlbHUnLFxuICAgICAgICAgICAgdXNlQmlhczogdHJ1ZSxcbiAgICAgICAgICAgIGJpYXNJbml0aWFsaXplcjogXCJ6ZXJvc1wiXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBPdXB1dCBsYXllclxuICAgICAgICB0aGlzLm91dHB1dExheWVyID0gdGYubGF5ZXJzLmRlbnNlKHtcbiAgICAgICAgICAgIHVuaXRzOiB0aGlzLm5iQWN0aW9ucyxcbiAgICAgICAgICAgIGtlcm5lbEluaXRpYWxpemVyOiB0Zi5pbml0aWFsaXplcnMucmFuZG9tVW5pZm9ybSh7XG4gICAgICAgICAgICAgICAgbWludmFsOiAwLjAwMywgbWF4dmFsOiAwLjAwMywgc2VlZDogdGhpcy5zZWVkfSksXG4gICAgICAgICAgICBhY3RpdmF0aW9uOiAndGFuaCcsXG4gICAgICAgICAgICB1c2VCaWFzOiB0cnVlLFxuICAgICAgICAgICAgYmlhc0luaXRpYWxpemVyOiBcInplcm9zXCJcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFjdG9yIHByZWRpY3Rpb25cbiAgICAgICAgdGhpcy5wcmVkaWN0ID0gKHRmU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGZTdGF0ZSl7XG4gICAgICAgICAgICAgICAgICAgIG9icyA9IHRmU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGwxID0gdGhpcy5maXJzdExheWVyLmFwcGx5KG9icyk7XG4gICAgICAgICAgICAgICAgbGV0IGwyID0gdGhpcy5zZWNvbmRMYXllci5hcHBseShsMSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRMYXllci5hcHBseShsMik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSB0aGlzLnByZWRpY3QoKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IHRmLm1vZGVsKHtpbnB1dHM6IG9icywgb3V0cHV0czogb3V0cHV0fSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIENyaXRpYyB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZmlnIChPYmplY3QpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuc3RhdGVTaXplID0gY29uZmlnLnN0YXRlU2l6ZTtcbiAgICAgICAgdGhpcy5uYkFjdGlvbnMgPSBjb25maWcubmJBY3Rpb25zO1xuICAgICAgICB0aGlzLmxheWVyTm9ybSA9IGNvbmZpZy5sYXllck5vcm07XG5cbiAgICAgICAgdGhpcy5maXJzdExheWVyU1NpemUgPSBjb25maWcuY3JpdGljRmlyc3RMYXllclNTaXplXG4gICAgICAgIHRoaXMuZmlyc3RMYXllckFTaXplID0gY29uZmlnLmNyaXRpY0ZpcnN0TGF5ZXJBU2l6ZTtcbiAgICAgICAgdGhpcy5zZWNvbmRMYXllclNpemUgPSBjb25maWcuY3JpdGljU2Vjb25kTGF5ZXJTaXplO1xuXG4gICAgICAgIHRoaXMuc2VlZCA9IGNvbmZpZy5zZWVkO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vYnMgPSBudWxsO1xuICAgICAgICB0aGlzLmFjdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIG9icyB0Zi5pbnB1dFxuICAgICAqIEBwYXJhbSBhY3Rpb24gdGYuaW5wdXRcbiAgICAgKi9cbiAgICBidWlsZE1vZGVsKG9icywgYWN0aW9uKXtcbiAgICAgICAgdGhpcy5vYnMgPSBvYnM7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIC8vIFVzZWQgdG8gbWVyZ2VkIHRoZSB0d28gZmlyc3QgTGF5ZXIgbGF0ZXIuXG4gICAgICAgIHRoaXMuYWRkID0gdGYubGF5ZXJzLmFkZCgpO1xuXG4gICAgICAgIC8vIEZpcnN0IGxheWVyXG4gICAgICAgIHRoaXMuZmlyc3RMYXllclMgPSB0Zi5sYXllcnMuZGVuc2Uoe1xuICAgICAgICAgICAgdW5pdHM6IHRoaXMuZmlyc3RMYXllclNTaXplLFxuICAgICAgICAgICAga2VybmVsSW5pdGlhbGl6ZXI6IHRmLmluaXRpYWxpemVycy5nbG9yb3RVbmlmb3JtKHtzZWVkOiB0aGlzLnNlZWR9KSxcbiAgICAgICAgICAgIGFjdGl2YXRpb246ICdsaW5lYXInLCAvLyByZWx1IGlzIGFkZCBsYXRlclxuICAgICAgICAgICAgdXNlQmlhczogdHJ1ZSxcbiAgICAgICAgICAgIGJpYXNJbml0aWFsaXplcjogXCJ6ZXJvc1wiXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGaXJzdCBsYXllclxuICAgICAgICB0aGlzLmZpcnN0TGF5ZXJBID0gdGYubGF5ZXJzLmRlbnNlKHtcbiAgICAgICAgICAgIHVuaXRzOiB0aGlzLmZpcnN0TGF5ZXJBU2l6ZSxcbiAgICAgICAgICAgIGtlcm5lbEluaXRpYWxpemVyOiB0Zi5pbml0aWFsaXplcnMuZ2xvcm90VW5pZm9ybSh7c2VlZDogdGhpcy5zZWVkfSksXG4gICAgICAgICAgICBhY3RpdmF0aW9uOiAnbGluZWFyJywgLy8gcmVsdSBpcyBhZGQgbGF0ZXJcbiAgICAgICAgICAgIHVzZUJpYXM6IHRydWUsXG4gICAgICAgICAgICBiaWFzSW5pdGlhbGl6ZXI6IFwiemVyb3NcIlxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU2Vjb25kIGxheWVyXG4gICAgICAgIHRoaXMuc2Vjb25kTGF5ZXIgPSB0Zi5sYXllcnMuZGVuc2Uoe1xuICAgICAgICAgICAgdW5pdHM6IHRoaXMuc2Vjb25kTGF5ZXJTaXplLFxuICAgICAgICAgICAga2VybmVsSW5pdGlhbGl6ZXI6IHRmLmluaXRpYWxpemVycy5nbG9yb3RVbmlmb3JtKHtzZWVkOiB0aGlzLnNlZWR9KSxcbiAgICAgICAgICAgIGFjdGl2YXRpb246ICdyZWx1JyxcbiAgICAgICAgICAgIHVzZUJpYXM6IHRydWUsXG4gICAgICAgICAgICBiaWFzSW5pdGlhbGl6ZXI6IFwiemVyb3NcIlxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPdXB1dCBsYXllclxuICAgICAgICB0aGlzLm91dHB1dExheWVyID0gdGYubGF5ZXJzLmRlbnNlKHtcbiAgICAgICAgICAgIHVuaXRzOiAxLFxuICAgICAgICAgICAga2VybmVsSW5pdGlhbGl6ZXI6IHRmLmluaXRpYWxpemVycy5yYW5kb21Vbmlmb3JtKHtcbiAgICAgICAgICAgICAgICBtaW52YWw6IDAuMDAzLCBtYXh2YWw6IDAuMDAzLCBzZWVkOiB0aGlzLnNlZWR9KSxcbiAgICAgICAgICAgIGFjdGl2YXRpb246ICdsaW5lYXInLFxuICAgICAgICAgICAgdXNlQmlhczogdHJ1ZSxcbiAgICAgICAgICAgIGJpYXNJbml0aWFsaXplcjogXCJ6ZXJvc1wiXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JpdGljIHByZWRpY3Rpb25cbiAgICAgICAgdGhpcy5wcmVkaWN0ID0gKHRmU3RhdGUsIHRmQWN0aW9ucykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRmLnRpZHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ZlN0YXRlICYmIHRmQWN0aW9ucyl7XG4gICAgICAgICAgICAgICAgICAgIG9icyA9IHRmU3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IHRmQWN0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGwxQSA9IHRoaXMuZmlyc3RMYXllckEuYXBwbHkoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBsZXQgbDFTID0gdGhpcy5maXJzdExheWVyUy5hcHBseShvYnMpXG4gICAgICAgICAgICAgICAgLy8gTWVyZ2VkIGxheWVyc1xuICAgICAgICAgICAgICAgIGxldCBjb25jYXQgPSB0aGlzLmFkZC5hcHBseShbbDFBLCBsMVNdKVxuXG4gICAgICAgICAgICAgICAgbGV0IGwyID0gdGhpcy5zZWNvbmRMYXllci5hcHBseShjb25jYXQpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRMYXllci5hcHBseShsMik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHRoaXMucHJlZGljdCgpO1xuICAgICAgICB0aGlzLm1vZGVsID0gdGYubW9kZWwoe2lucHV0czogW29icywgYWN0aW9uXSwgb3V0cHV0czogb3V0cHV0fSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7QWN0b3IsIENyaXRpYywgY29weU1vZGVsLCBhc3NpZ25BbmRTdGQsIHRhcmdldFVwZGF0ZX0gZnJvbSAnLi9tb2RlbHMuanMnO1xuXG4vLyBUaGlzIGNsYXNzIGlzIGNhbGxlZCBmcm9tIGpzL0REUEcvZGRwZ19hZ2VudC5qc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRERQRyB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZmlnIChPYmplY3QpXG4gICAgICogQHBhcmFtIGFjdG9yIChBY3RvciBjbGFzcylcbiAgICAgKiBAcGFyYW0gY3JpdGljIChDcml0aWMgY2xhc3MpXG4gICAgICogQHBhcmFtIG1lbW9yeSAoTWVtb3J5IGNsYXNzKVxuICAgICAqIEBwYXJhbSBub2lzZSAoTm9pc2UgY2xhc3MpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWN0b3IsIGNyaXRpYywgbWVtb3J5LCBub2lzZSwgY29uZmlnKXtcbiAgICAgICAgdGhpcy5hY3RvciA9IGFjdG9yO1xuICAgICAgICB0aGlzLmNyaXRpYyA9IGNyaXRpYztcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMudGZHYW1tYSA9IHRmLnNjYWxhcihjb25maWcuZ2FtbWEpO1xuXG4gICAgICAgIC8vIElucHV0c1xuICAgICAgICB0aGlzLm9ic0lucHV0ID0gdGYuaW5wdXQoe2JhdGNoU2hhcGU6IFtudWxsLCB0aGlzLmNvbmZpZy5zdGF0ZVNpemVdfSk7XG4gICAgICAgIHRoaXMuYWN0aW9uSW5wdXQgPSB0Zi5pbnB1dCh7YmF0Y2hTaGFwZTogW251bGwsIHRoaXMuY29uZmlnLm5iQWN0aW9uc119KTtcblxuICAgICAgICAvLyBSYW5kb21seSBJbml0aWFsaXplIGFjdG9yIG5ldHdvcmsgzrwocylcbiAgICAgICAgdGhpcy5hY3Rvci5idWlsZE1vZGVsKHRoaXMub2JzSW5wdXQpO1xuICAgICAgICAvLyBSYW5kb21seSBJbml0aWFsaXplIGNyaXRpYyBuZXR3b3JrIFEocywgYSlcbiAgICAgICAgdGhpcy5jcml0aWMuYnVpbGRNb2RlbCh0aGlzLm9ic0lucHV0LCB0aGlzLmFjdGlvbklucHV0KTtcblxuIFxuICAgICAgICAvLyBEZWZpbmUgaW4ganMvRERQRy9tb2RlbHMuanNcbiAgICAgICAgLy8gSW5pdCB0YXJnZXQgbmV0d29yayBRJyBhbmQgzrwnIHdpdGggdGhlIHNhbWUgd2VpZ2h0c1xuICAgICAgICB0aGlzLmFjdG9yVGFyZ2V0ID0gY29weU1vZGVsKHRoaXMuYWN0b3IsIEFjdG9yKTtcbiAgICAgICAgdGhpcy5jcml0aWNUYXJnZXQgPSBjb3B5TW9kZWwodGhpcy5jcml0aWMsIENyaXRpYyk7XG4gICAgICAgIC8vIFBlcnR1cmJlZCBBY3RvciAoU2VlIHBhcmFtZXRlciBzcGFjZSBub2lzZSBFeHBsb3JhdGlvbiBwYXBlcilcbiAgICAgICAgdGhpcy5wZXJ0dXJiZWRBY3RvciA9IGNvcHlNb2RlbCh0aGlzLmFjdG9yLCBBY3Rvcik7XG4gICAgICAgIC8vdGhpcy5hZGFwdGl2ZVBlcnR1cmJlZEFjdG9yID0gY29weU1vZGVsKHRoaXMuYWN0b3IsIEFjdG9yKTtcblxuICAgICAgICB0aGlzLnNldExlYXJuaW5nT3AoKTtcbiAgICB9XG5cbiAgICBzZXRMZWFybmluZ09wKCl7XG4gICAgICAgIHRoaXMuY3JpdGljV2l0aEFjdG9yID0gKHRmU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZkFjdCA9IHRoaXMuYWN0b3IucHJlZGljdCh0ZlN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcml0aWMucHJlZGljdCh0ZlN0YXRlLCB0ZkFjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcml0aWNUYXJnZXRXaXRoQWN0b3JUYXJnZXQgPSAodGZTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRmLnRpZHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRmQWN0ID0gdGhpcy5hY3RvclRhcmdldC5wcmVkaWN0KHRmU3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyaXRpY1RhcmdldC5wcmVkaWN0KHRmU3RhdGUsIHRmQWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWN0b3JPcHRpbWlzZXIgPSB0Zi50cmFpbi5hZGFtKHRoaXMuY29uZmlnLmFjdG9yTHIpO1xuICAgICAgICB0aGlzLmNyaXRpY09wdGltaXNlciA9IHRmLnRyYWluLmFkYW0odGhpcy5jb25maWcuY3JpdGljTHIpO1xuXG4gICAgICAgIHRoaXMuY3JpdGljV2VpZ2h0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMuY3JpdGljLm1vZGVsLnRyYWluYWJsZVdlaWdodHMubGVuZ3RoOyB3Kyspe1xuICAgICAgICAgICAgdGhpcy5jcml0aWNXZWlnaHRzLnB1c2godGhpcy5jcml0aWMubW9kZWwudHJhaW5hYmxlV2VpZ2h0c1t3XS52YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0b3JXZWlnaHRzID0gW107XG4gICAgICAgIGZvciAobGV0IHcgPSAwOyB3IDwgdGhpcy5hY3Rvci5tb2RlbC50cmFpbmFibGVXZWlnaHRzLmxlbmd0aDsgdysrKXtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JXZWlnaHRzLnB1c2godGhpcy5hY3Rvci5tb2RlbC50cmFpbmFibGVXZWlnaHRzW3ddLnZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NpZ25BbmRTdGQodGhpcy5hY3RvciwgdGhpcy5wZXJ0dXJiZWRBY3RvciwgdGhpcy5ub2lzZS5jdXJyZW50U3RkZGV2LCB0aGlzLmNvbmZpZy5zZWVkKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIERpc3RhbmNlIE1lYXN1cmUgZm9yIEREUEdcbiAgICAgKiBTZWUgcGFyYW1ldGVyIHNwYWNlIG5vaXNlIEV4cGxvcmF0aW9uIHBhcGVyXG4gICAgICogQHBhcmFtIG9ic2VydmF0aW9ucyAoVGVuc29yMmQpIE9ic2VydmF0aW9uc1xuICAgICAqL1xuICAgICBkaXN0YW5jZU1lYXN1cmUob2JzZXJ2YXRpb25zKSB7XG4gICAgICAgIHJldHVybiB0Zi50aWR5KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBlcnR1YmVkUHJlZGljdGlvbnMgPSB0aGlzLnBlcnR1cmJlZEFjdG9yLm1vZGVsLnByZWRpY3Qob2JzZXJ2YXRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY3Rpb25zID0gdGhpcy5hY3Rvci5tb2RlbC5wcmVkaWN0KG9ic2VydmF0aW9ucyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGYuc3F1YXJlKHBlcnR1YmVkUHJlZGljdGlvbnMuc3ViKHByZWRpY3Rpb25zKSkubWVhbigpLnNxcnQoKTtcbiAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRhcHRQYXJhbU5vaXNlXG4gICAgICovXG4gICAgYWRhcHRQYXJhbU5vaXNlKCl7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5tZW1vcnkuZ2V0QmF0Y2godGhpcy5jb25maWcuYmF0Y2hTaXplKTtcbiAgICAgICAgaWYgKGJhdGNoLm9iczAubGVuZ3RoID09IDApe1xuICAgICAgICAgICAgYXNzaWduQW5kU3RkKHRoaXMuYWN0b3IsIHRoaXMucGVydHVyYmVkQWN0b3IsIHRoaXMubm9pc2UuY3VycmVudFN0ZGRldiwgdGhpcy5jb25maWcuc2VlZCk7XG4gICAgICAgICAgICByZXR1cm4gWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRpc3RhbmNlViA9IG51bGw7XG5cbiAgICAgICAgaWYgKGJhdGNoLm9iczAubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICBjb25zdCB0Zk9iczAgPSB0Zi50ZW5zb3IyZChiYXRjaC5vYnMwKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZU1lYXN1cmUodGZPYnMwKTtcbiAgICBcbiAgICAgICAgICAgIGFzc2lnbkFuZFN0ZCh0aGlzLmFjdG9yLCB0aGlzLnBlcnR1cmJlZEFjdG9yLCB0aGlzLm5vaXNlLmN1cnJlbnRTdGRkZXYsIHRoaXMuY29uZmlnLnNlZWQpO1xuICAgIFxuICAgICAgICAgICAgZGlzdGFuY2VWID0gZGlzdGFuY2UuZGF0YVN5bmMoKTtcbiAgICAgICAgICAgIHRoaXMubm9pc2UuYWRhcHQoZGlzdGFuY2VWWzBdKTtcblxuICAgICAgICAgICAgZGlzdGFuY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGZPYnMwLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXN0aW1hdGlvbiBvZiB0aGUgUSB2YWx1ZSBnaXZlbiB0aGUgc3RhdGVcbiAgICAgKiBhbmQgdGhlIGFjdGlvblxuICAgICAqIEBwYXJhbSBzdGF0ZSBudW1iZXJbXVxuICAgICAqIEBwYXJhbSBhY3Rpb24gW2EsIHN0ZWVyaW5nXVxuICAgICAqL1xuICAgIGdldFF2YWx1ZShzdGF0ZSwgYSl7XG4gICAgICAgIGNvbnN0IHN0ID0gdGYudGVuc29yMmQoW3N0YXRlXSk7XG4gICAgICAgIGNvbnN0IHRmYSA9IHRmLnRlbnNvcjJkKFthXSk7XG4gICAgICAgIGNvbnN0IHEgPSB0aGlzLmNyaXRpYy5tb2RlbC5wcmVkaWN0KFtzdCwgdGZhXSk7XG4gICAgICAgIGNvbnN0IHYgPSBxLmRhdGFTeW5jKClcbiAgICAgICAgc3QuZGlzcG9zZSgpO1xuICAgICAgICB0ZmEuZGlzcG9zZSgpO1xuICAgICAgICBxLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHZbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIG9ic2VydmF0aW9uICh0Zi50ZW5zb3IyZClcbiAgICAgKiBAcmV0dXJuICh0Zi50ZW5zb3IxZClcbiAgICAgKi9cbiAgICBwcmVkaWN0KG9ic2VydmF0aW9uKXtcbiAgICAgICAgY29uc3QgdGZBY3Rpb25zID0gdGhpcy5hY3Rvci5tb2RlbC5wcmVkaWN0KG9ic2VydmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRmQWN0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gb2JzZXJ2YXRpb24gKHRmLnRlbnNvcjJkKVxuICAgICAqIEByZXR1cm4gKHRmLnRlbnNvcjFkKVxuICAgICAqL1xuICAgIHBlcnR1cmJlZFByZWRpY3Rpb24ob2JzZXJ2YXRpb24pe1xuICAgICAgICBjb25zdCB0ZkFjdGlvbnMgPSB0aGlzLnBlcnR1cmJlZEFjdG9yLm1vZGVsLnByZWRpY3Qob2JzZXJ2YXRpb24pO1xuICAgICAgICByZXR1cm4gdGZBY3Rpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdHdvIHRhcmdldCBuZXR3b3JrXG4gICAgICovXG4gICAgdGFyZ2V0VXBkYXRlKCl7XG4gICAgICAgIC8vIERlZmluZSBpbiBqcy9ERFBHL21vZGVscy5qc1xuICAgICAgICB0YXJnZXRVcGRhdGUodGhpcy5jcml0aWNUYXJnZXQsIHRoaXMuY3JpdGljLCB0aGlzLmNvbmZpZyk7XG4gICAgICAgIHRhcmdldFVwZGF0ZSh0aGlzLmFjdG9yVGFyZ2V0LCB0aGlzLmFjdG9yLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxuICAgIFxuICAgIHRyYWluQ3JpdGljKGJhdGNoLCB0ZkFjdGlvbnMsIHRmT2JzMCwgdGZPYnMxLCB0ZlJld2FyZHMsIHRmVGVybWluYWxzKXtcblxuICAgICAgICBsZXQgY29zdHM7IFxuXG4gICAgICAgIGNvbnN0IGNyaXRpY0xvc3MgPSB0aGlzLmNyaXRpY09wdGltaXNlci5taW5pbWl6ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGZRUHJlZGljdGlvbnMwID0gdGhpcy5jcml0aWMubW9kZWwucHJlZGljdChbdGZPYnMwLCB0ZkFjdGlvbnNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZlFQcmVkaWN0aW9uczEgPSB0aGlzLmNyaXRpY1RhcmdldFdpdGhBY3RvclRhcmdldCh0Zk9iczEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHRmUVRhcmdldHMgPSB0ZlJld2FyZHMuYWRkKHRmLnNjYWxhcigxKS5zdWIodGZUZXJtaW5hbHMpLm11bCh0aGlzLnRmR2FtbWEpLm11bCh0ZlFQcmVkaWN0aW9uczEpKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3MgPSB0Zi5zdWIodGZRVGFyZ2V0cywgdGZRUHJlZGljdGlvbnMwKS5zcXVhcmUoKTtcbiAgICAgICAgICAgICAgICBjb3N0cyA9IGVycm9zLmRhdGFTeW5jKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3MubWVhbigpO1xuICAgICAgICB9LCB0cnVlLCB0aGlzLmNyaXRpY1dlaWdodHMpO1xuXG4gICAgICAgIC8vIEZvciBleHBlcmllbmNlIFJlcGxheVxuICAgICAgICB0aGlzLm1lbW9yeS5hcHBlbmRCYWNrV2l0aENvc3QoYmF0Y2gsIGNvc3RzKTtcblxuICAgICAgICBjb25zdCBsb3NzID0gY3JpdGljTG9zcy5kYXRhU3luYygpWzBdO1xuICAgICAgICBjcml0aWNMb3NzLmRpc3Bvc2UoKTtcblxuICAgICAgICB0YXJnZXRVcGRhdGUodGhpcy5jcml0aWNUYXJnZXQsIHRoaXMuY3JpdGljLCB0aGlzLmNvbmZpZyk7XG5cbiAgICAgICAgcmV0dXJuIGxvc3M7XG4gICAgfVxuXG4gICAgdHJhaW5BY3Rvcih0Zk9iczApe1xuXG4gICAgICAgIGNvbnN0IGFjdG9yTG9zcyA9IHRoaXMuYWN0b3JPcHRpbWlzZXIubWluaW1pemUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGZRUHJlZGljdGlvbnMwID0gdGhpcy5jcml0aWNXaXRoQWN0b3IodGZPYnMwKTsgXG4gICAgICAgICAgICByZXR1cm4gdGYubWVhbih0ZlFQcmVkaWN0aW9uczApLm11bCh0Zi5zY2FsYXIoLTEuKSlcbiAgICAgICAgfSwgdHJ1ZSwgdGhpcy5hY3RvcldlaWdodHMpO1xuXG4gICAgICAgIHRhcmdldFVwZGF0ZSh0aGlzLmFjdG9yVGFyZ2V0LCB0aGlzLmFjdG9yLCB0aGlzLmNvbmZpZyk7XG5cbiAgICAgICAgY29uc3QgbG9zcyA9IGFjdG9yTG9zcy5kYXRhU3luYygpWzBdO1xuICAgICAgICBhY3Rvckxvc3MuZGlzcG9zZSgpOyBcblxuICAgICAgICByZXR1cm4gbG9zcztcbiAgICB9XG5cbiAgICBnZXRUZkJhdGNoKCl7XG4gICAgICAgIC8vIEdldCBiYXRjaFxuICAgICAgICBjb25zdCBiYXRjaCA9IHRoaXMubWVtb3J5LnBvcEJhdGNoKHRoaXMuY29uZmlnLmJhdGNoU2l6ZSk7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gdGVuc29yc1xuICAgICAgICBjb25zdCB0ZkFjdGlvbnMgPSB0Zi50ZW5zb3IyZChiYXRjaC5hY3Rpb25zKTtcbiAgICAgICAgY29uc3QgdGZPYnMwID0gdGYudGVuc29yMmQoYmF0Y2gub2JzMCk7XG4gICAgICAgIGNvbnN0IHRmT2JzMSA9IHRmLnRlbnNvcjJkKGJhdGNoLm9iczEpO1xuICAgICAgICBjb25zdCBfdGZSZXdhcmRzID0gdGYudGVuc29yMWQoYmF0Y2gucmV3YXJkcyk7XG4gICAgICAgIGNvbnN0IF90ZlRlcm1pbmFscyA9IHRmLnRlbnNvcjFkKGJhdGNoLnRlcm1pbmFscyk7XG5cbiAgICAgICAgY29uc3QgdGZSZXdhcmRzID0gX3RmUmV3YXJkcy5leHBhbmREaW1zKDEpO1xuICAgICAgICBjb25zdCB0ZlRlcm1pbmFscyA9IF90ZlRlcm1pbmFscy5leHBhbmREaW1zKDEpO1xuXG4gICAgICAgIF90ZlJld2FyZHMuZGlzcG9zZSgpO1xuICAgICAgICBfdGZUZXJtaW5hbHMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYXRjaCwgdGZBY3Rpb25zLCB0Zk9iczAsIHRmT2JzMSwgdGZSZXdhcmRzLCB0ZlRlcm1pbmFsc1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW1pemVDcml0aWMoKXtcbiAgICAgICAgY29uc3Qge2JhdGNoLCB0ZkFjdGlvbnMsIHRmT2JzMCwgdGZPYnMxLCB0ZlJld2FyZHMsIHRmVGVybWluYWxzfSA9IHRoaXMuZ2V0VGZCYXRjaCgpO1xuXG4gICAgICAgIGNvbnN0IGxvc3MgPSB0aGlzLnRyYWluQ3JpdGljKHRmQWN0aW9ucywgdGZPYnMwLCB0Zk9iczEsIHRmUmV3YXJkcywgdGZUZXJtaW5hbHMpO1xuXG4gICAgICAgIHRmQWN0aW9ucy5kaXNwb3NlKCk7XG4gICAgICAgIHRmT2JzMC5kaXNwb3NlKCk7XG4gICAgICAgIHRmT2JzMS5kaXNwb3NlKCk7IFxuICAgICAgICB0ZlJld2FyZHMuZGlzcG9zZSgpO1xuICAgICAgICB0ZlRlcm1pbmFscy5kaXNwb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIGxvc3M7XG4gICAgfVxuXG4gICAgb3B0aW1pemVBY3Rvcigpe1xuICAgICAgICBjb25zdCB7YmF0Y2gsIHRmQWN0aW9ucywgdGZPYnMwLCB0Zk9iczEsIHRmUmV3YXJkcywgdGZUZXJtaW5hbHN9ID0gdGhpcy5nZXRUZkJhdGNoKCk7XG5cbiAgICAgICAgY29uc3QgbG9zcyA9IHRoaXMudHJhaW5BY3Rvcih0Zk9iczApO1xuXG4gICAgICAgIHRmQWN0aW9ucy5kaXNwb3NlKCk7XG4gICAgICAgIHRmT2JzMC5kaXNwb3NlKCk7XG4gICAgICAgIHRmT2JzMS5kaXNwb3NlKCk7IFxuICAgICAgICB0ZlJld2FyZHMuZGlzcG9zZSgpO1xuICAgICAgICB0ZlRlcm1pbmFscy5kaXNwb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIGxvc3M7XG4gICAgfVxuXG4gICAgb3B0aW1pemVDcml0aWNBY3Rvcigpe1xuICAgICAgICBjb25zdCB7YmF0Y2gsIHRmQWN0aW9ucywgdGZPYnMwLCB0Zk9iczEsIHRmUmV3YXJkcywgdGZUZXJtaW5hbHN9ID0gdGhpcy5nZXRUZkJhdGNoKCk7XG5cbiAgICAgICAgY29uc3QgbG9zc0MgPSB0aGlzLnRyYWluQ3JpdGljKGJhdGNoLCB0ZkFjdGlvbnMsIHRmT2JzMCwgdGZPYnMxLCB0ZlJld2FyZHMsIHRmVGVybWluYWxzKTtcbiAgICAgICAgY29uc3QgbG9zc0EgPSB0aGlzLnRyYWluQWN0b3IodGZPYnMwKTtcblxuICAgICAgICB0ZkFjdGlvbnMuZGlzcG9zZSgpO1xuICAgICAgICB0Zk9iczAuZGlzcG9zZSgpO1xuICAgICAgICB0Zk9iczEuZGlzcG9zZSgpOyBcbiAgICAgICAgdGZSZXdhcmRzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGZUZXJtaW5hbHMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB7bG9zc0MsIGxvc3NBfTtcbiAgICB9XG59IiwiLyoqXG4gKiBOb2lzZSBjbGFzc1xuICogVGhlIG9yaWdpbmFsIGJhc2VsaW5lIGlzIG1hZGUgb2YgdGhyZWUgbm9pc2VcbiAqIEFkYXB0aXZlUGFyYW1Ob2lzZVNwZWMsIEFjdGlvbk5vaXNlIGFuZCBOb3JtYWxBY3Rpb25Ob2lzZVxuICogT25seSBBZGFwdGl2ZVBhcmFtTm9pc2VTcGVjIGlzIGltcGxlbWVudGVkIGZvciBub3dcbiAqIFNlZSBcIkMgQWRhcGF0aXZlIFNjYWxpbmdcIiBQYWdlIDE0IGluIHRoZSBwYXBlci5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGFwdGl2ZVBhcmFtTm9pc2VTcGVjIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25mIE9iamVjdFxuICAgICAqICAgICAgY29uZi5pbml0aWFsU3RkZGV2OiAwLjEgZGVmYXVsdCAvLyDPg1xuICAgICAqICAgICAgY29uZi5kZXNpcmVkQWN0aW9uU3RkZGV2OiAwLjEgZGVmYXVsdCAvLyDOtFxuICAgICAqICAgICAgY29uZi5hZG9wdGlvbkNvZWZmaWNpZW50OiAxLjAxIGRlZmF1bHQgLy8gzrFcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25mKXtcbiAgICAgICAgY29uZiA9IGNvbmYgfHwge307XG4gICAgICAgIHRoaXMuaW5pdGlhbFN0ZGRldiA9IGNvbmYuaW5pdGlhbFN0ZGRldiB8fCAwLjQ7XG4gICAgICAgIHRoaXMuZGVzaXJlZEFjdGlvblN0ZGRldiA9IGNvbmYuZGVzaXJlZEFjdGlvblN0ZGRldiB8fCAwLjQ7XG4gICAgICAgIHRoaXMuYWRvcHRpb25Db2VmZmljaWVudCA9IGNvbmYuYWRvcHRpb25Db2VmZmljaWVudCB8fCAxLjAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGRkZXYgPSB0aGlzLmluaXRpYWxTdGRkZXY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRpc3RhbmNlIGZyb20gdGhlIEFkYXB0aXZlIHNjYWxpbmdcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2UgbnVtYmVyXG4gICAgICovXG4gICAgYWRhcHQoZGlzdGFuY2Upe1xuICAgICAgICAvLyBpZiBkKM+ALCBfz4BfKSA+IM60IHRoZW4gz4MgPSDPgy/OsVxuICAgICAgICBpZiAoZGlzdGFuY2UgPiB0aGlzLmRlc2lyZWRBY3Rpb25TdGRkZXYpe1xuICAgICAgICAgICAgLy8gRGVjcmVhc2Ugz4NcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0ZGRldiAvPSB0aGlzLmFkb3B0aW9uQ29lZmZpY2llbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIC8vIM+DID0gz4MqzrFcbiAgICAgICAgICAgIC8vIEluY3JlYXNlIM+DXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGRkZXYgKj0gdGhpcy5hZG9wdGlvbkNvZWZmaWNpZW50O1xuICAgICAgICB9XG4gICAgfVxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcmlvcml0aXplZE1lbW9yeSB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWF4bGVuIChudW1iZXIpIEJ1ZmZlciBsaW1pdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1heGxlbil7XG4gICAgICAgIHRoaXMubWF4bGVuID0gbWF4bGVuO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnByaW9yQnVmZmVyID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtcGxlIGEgYmF0Y2hcbiAgICAgKiBAcGFyYW0gYmF0Y2hTaXplIChudW1iZXIpXG4gICAgICogQHJldHVybiBiYXRjaCBbXVxuICAgICAqL1xuICAgIGdldEJhdGNoKGJhdGNoU2l6ZSl7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gIHtcbiAgICAgICAgICAgICdvYnMwJzogW10sXG4gICAgICAgICAgICAnb2JzMSc6IFtdLFxuICAgICAgICAgICAgJ3Jld2FyZHMnOiBbXSxcbiAgICAgICAgICAgICdhY3Rpb25zJzogW10sXG4gICAgICAgICAgICAndGVybWluYWxzJzogW10sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IHRoaXMucHJpb3JCdWZmZXIubGVuZ3RoKXtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSBzaXplIG9mIHRoZSByZXBsYXkgYnVmZmVyIGlzIDwgdG8gdGhlIGJhdGNoU2l6ZS4gUmV0dXJuIGVtcHR5IGJhdGNoLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBiYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGI9MDsgYiA8IGJhdGNoU2l6ZS8yOyBiKyspe1xuICAgICAgICAgICAgbGV0IGlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5wcmlvckJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgICAgYmF0Y2gub2JzMC5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLm9iczApO1xuICAgICAgICAgICAgYmF0Y2gub2JzMS5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLm9iczEpO1xuICAgICAgICAgICAgYmF0Y2gucmV3YXJkcy5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLnJld2FyZCk7XG4gICAgICAgICAgICBiYXRjaC5hY3Rpb25zLnB1c2godGhpcy5wcmlvckJ1ZmZlcltpZF0uYWN0aW9uKTtcbiAgICAgICAgICAgIGJhdGNoLnRlcm1pbmFscy5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLnRlcm1pbmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmF0Y2hcbiAgICB9XG5cbiAgICBfYnVmZmVyQmF0Y2goYmF0Y2hTaXplKXtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSAge1xuICAgICAgICAgICAgJ29iczAnOiBbXSxcbiAgICAgICAgICAgICdvYnMxJzogW10sXG4gICAgICAgICAgICAncmV3YXJkcyc6IFtdLFxuICAgICAgICAgICAgJ2FjdGlvbnMnOiBbXSxcbiAgICAgICAgICAgICd0ZXJtaW5hbHMnOiBbXSxcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBiPTA7IGIgPCBiYXRjaFNpemUvMjsgYisrKXtcbiAgICAgICAgICAgIGxldCBuRWxlbSA9IHRoaXMuYnVmZmVyLnBvcCgpO1xuICAgICAgICAgICAgYmF0Y2gub2JzMC5wdXNoKG5FbGVtLm9iczApO1xuICAgICAgICAgICAgYmF0Y2gub2JzMS5wdXNoKG5FbGVtLm9iczEpO1xuICAgICAgICAgICAgYmF0Y2gucmV3YXJkcy5wdXNoKG5FbGVtLnJld2FyZCk7XG4gICAgICAgICAgICBiYXRjaC5hY3Rpb25zLnB1c2gobkVsZW0uYWN0aW9uKTtcbiAgICAgICAgICAgIGJhdGNoLnRlcm1pbmFscy5wdXNoKG5FbGVtLnRlcm1pbmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGI9MDsgYiA8IGJhdGNoU2l6ZS8yOyBiKyspe1xuICAgICAgICAgICAgbGV0IGlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5idWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGJhdGNoLm9iczAucHVzaCh0aGlzLmJ1ZmZlcltpZF0ub2JzMCk7XG4gICAgICAgICAgICBiYXRjaC5vYnMxLnB1c2godGhpcy5idWZmZXJbaWRdLm9iczEpO1xuICAgICAgICAgICAgYmF0Y2gucmV3YXJkcy5wdXNoKHRoaXMuYnVmZmVyW2lkXS5yZXdhcmQpO1xuICAgICAgICAgICAgYmF0Y2guYWN0aW9ucy5wdXNoKHRoaXMuYnVmZmVyW2lkXS5hY3Rpb24pO1xuICAgICAgICAgICAgYmF0Y2gudGVybWluYWxzLnB1c2godGhpcy5idWZmZXJbaWRdLnRlcm1pbmFsKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnNwbGljZShpZCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmF0Y2hcbiAgICB9XG5cbiAgICBfYWRkUmFuZG9tQnVmZmVyQmF0Y2goYmF0Y2hTaXplLCBiYXRjaCl7XG4gICAgICAgIGZvciAobGV0IGI9MDsgYiA8IGJhdGNoU2l6ZTsgYisrKXtcbiAgICAgICAgICAgIGxldCBpZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgICAgICBiYXRjaC5vYnMwLnB1c2godGhpcy5idWZmZXJbaWRdLm9iczApO1xuICAgICAgICAgICAgYmF0Y2gub2JzMS5wdXNoKHRoaXMuYnVmZmVyW2lkXS5vYnMxKTtcbiAgICAgICAgICAgIGJhdGNoLnJld2FyZHMucHVzaCh0aGlzLmJ1ZmZlcltpZF0ucmV3YXJkKTtcbiAgICAgICAgICAgIGJhdGNoLmFjdGlvbnMucHVzaCh0aGlzLmJ1ZmZlcltpZF0uYWN0aW9uKTtcbiAgICAgICAgICAgIGJhdGNoLnRlcm1pbmFscy5wdXNoKHRoaXMuYnVmZmVyW2lkXS50ZXJtaW5hbCk7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5zcGxpY2UoaWQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXRjaFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbXBsZSBhIGJhdGNoXG4gICAgICogQHBhcmFtIGJhdGNoU2l6ZSAobnVtYmVyKVxuICAgICAqIEByZXR1cm4gYmF0Y2ggW11cbiAgICAgKi9cbiAgICBwb3BCYXRjaChiYXRjaFNpemUpe1xuICAgICAgICBsZXQgb3JpZ2luYWxCYXRjaFNpemUgPSBiYXRjaFNpemU7XG4gICAgICAgIGxldCBwcmlvckJ1ZmZlckJhdGNoU2l6ZTtcbiAgICAgICAgbGV0IGJ1ZmZlckJhdGNoU2l6ZTtcbiAgICAgICAgaWYgKGJhdGNoU2l6ZSAlIDIgIT0gMCl7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXRjaCBzaXplIHNob3VsZCBiZSBhIGV2ZW4uXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJpb3JCdWZmZXIubGVuZ3RoIDwgYmF0Y2hTaXplLzIpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImdldCBmdWxsIGJhdGNoIGZyb20gYnVmZmVyXCIpO1xuICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLl9idWZmZXJCYXRjaChiYXRjaFNpemUpO1xuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoYmF0Y2gub2JzMC5sZW5ndGggPT0gYmF0Y2hTaXplKTtcbiAgICAgICAgICAgIHJldHVybiBiYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXRjaCA9ICB7XG4gICAgICAgICAgICAnb2JzMCc6IFtdLFxuICAgICAgICAgICAgJ29iczEnOiBbXSxcbiAgICAgICAgICAgICdyZXdhcmRzJzogW10sXG4gICAgICAgICAgICAnYWN0aW9ucyc6IFtdLFxuICAgICAgICAgICAgJ3Rlcm1pbmFscyc6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoYmF0Y2hTaXplID4gdGhpcy5sZW5ndGgpe1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIHNpemUgb2YgdGhlIHJlcGxheSBidWZmZXIgaXMgPCB0byB0aGUgYmF0Y2hTaXplLiBSZXR1cm4gZW1wdHkgYmF0Y2guXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGJhdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkdldCBoYWxmIG9mIHByaW9yIGFuZCBvdGhlciBmcm9tIGJ1ZmZlci5cIik7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBiYXRjaFNpemUgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiR2V0IGFsbCBmcm9tIHByaW9yQnVmZmVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgYj0wOyBiIDwgYmF0Y2hTaXplOyBiKyspe1xuICAgICAgICAgICAgbGV0IGlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5wcmlvckJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgICAgYmF0Y2gub2JzMC5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLm9iczApO1xuICAgICAgICAgICAgYmF0Y2gub2JzMS5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLm9iczEpO1xuICAgICAgICAgICAgYmF0Y2gucmV3YXJkcy5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLnJld2FyZCk7XG4gICAgICAgICAgICBiYXRjaC5hY3Rpb25zLnB1c2godGhpcy5wcmlvckJ1ZmZlcltpZF0uYWN0aW9uKTtcbiAgICAgICAgICAgIGJhdGNoLnRlcm1pbmFscy5wdXNoKHRoaXMucHJpb3JCdWZmZXJbaWRdLnRlcm1pbmFsKTtcbiAgICAgICAgICAgIHRoaXMucHJpb3JCdWZmZXIuc3BsaWNlKGlkLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIHRoaXMuX2FkZFJhbmRvbUJ1ZmZlckJhdGNoKGJhdGNoU2l6ZSwgYmF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGJhdGNoLm9iczAubGVuZ3RoID09IG9yaWdpbmFsQmF0Y2hTaXplKTtcbiAgICAgICAgcmV0dXJuIGJhdGNoXG4gICAgfVxuXG4gICAgX2luc2VydChlbGVtZW50LCBhcnJheSkge1xuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09IDAgfHwgZWxlbWVudC5jb3N0IDwgYXJyYXlbMF0uY29zdCB8fCBhcnJheVswXS5jb3N0ID09IG51bGwpe1xuICAgICAgICAgICAgYXJyYXkudW5zaGlmdChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheS5zcGxpY2UodGhpcy5fbG9jYXRpb25PZihlbGVtZW50LCBhcnJheSkgKyAxLCAwLCBlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICBcbiAgICBfbG9jYXRpb25PZihlbGVtZW50LCBhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgICAgIGVuZCA9IGVuZCB8fCBhcnJheS5sZW5ndGg7XG4gICAgXG4gICAgICAgIHZhciBwaXZvdCA9IHBhcnNlSW50KHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAvIDIsIDEwKTtcbiAgICBcbiAgICAgICAgaWYgKGVuZC1zdGFydCA8PSAxIHx8IGFycmF5W3Bpdm90XSA9PT0gZWxlbWVudCkgcmV0dXJuIHBpdm90O1xuICAgIFxuICAgICAgICBpZiAoYXJyYXlbcGl2b3RdLmNvc3QgIT0gbnVsbCAmJiBhcnJheVtwaXZvdF0uY29zdCA8IGVsZW1lbnQuY29zdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uT2YoZWxlbWVudCwgYXJyYXksIHBpdm90LCBlbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uT2YoZWxlbWVudCwgYXJyYXksIHN0YXJ0LCBwaXZvdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYmF0Y2ggKE9iamVjdCkgIGZyb20gZ2V0QmF0Y2goKSBcbiAgICAgKiBAcGFyYW0gY29zdCAobnVtYmVyKSBDb3N0IGFzc29jaWF0ZWQgd2l0aCBlYWNoIHJvdyBvZiB0aGUgYmF0Y2hcbiAgICAgKi9cbiAgICBhcHBlbmRCYWNrV2l0aENvc3QoYmF0Y2gsIGNvc3RzKXtcbiAgICAgICAgZm9yIChsZXQgYj0wOyBiIDwgYmF0Y2gub2JzMC5sZW5ndGg7IGIrKyl7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID09IHRoaXMubWF4bGVuKXtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KHtcbiAgICAgICAgICAgICAgICBvYnMwOiBiYXRjaC5vYnMwW2JdLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogYmF0Y2guYWN0aW9uc1tiXSxcbiAgICAgICAgICAgICAgICByZXdhcmQ6IGJhdGNoLnJld2FyZHNbYl0sXG4gICAgICAgICAgICAgICAgb2JzMTogYmF0Y2gub2JzMVtiXSxcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbDogYmF0Y2gudGVybWluYWxzW2JdLFxuICAgICAgICAgICAgICAgIGNvc3Q6IGNvc3RzW2JdXG4gICAgICAgICAgICB9LCB0aGlzLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5hc3NlcnQodGhpcy5idWZmZXIubGVuZ3RoIDw9IHRoaXMubWF4bGVuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gb2JzMCBbXVxuICAgICAqIEBwYXJhbSBhY3Rpb24gKG51bWJlcilcbiAgICAgKiBAcGFyYW0gcmV3YXJkIChudW1iZXIpXG4gICAgICogQHBhcmFtIG9iczEgW11cbiAgICAgKiBAcGFyYW0gdGVybWluYWwxIChib29sZWFuKVxuICAgICAqL1xuICAgIGFwcGVuZChvYnMwLCBhY3Rpb24sIHJld2FyZCwgb2JzMSwgdGVybWluYWwpe1xuICAgICAgICBpZiAodGhpcy5wcmlvckJ1ZmZlci5sZW5ndGggPT0gdGhpcy5tYXhsZW4pe1xuICAgICAgICAgICAgdGhpcy5wcmlvckJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJpb3JCdWZmZXIucHVzaCh7XG4gICAgICAgICAgICBvYnMwOiBvYnMwLFxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICByZXdhcmQ6IHJld2FyZCxcbiAgICAgICAgICAgIG9iczE6IG9iczEsXG4gICAgICAgICAgICB0ZXJtaW5hbDogdGVybWluYWwsXG4gICAgICAgICAgICBjb3N0OiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmFzc2VydCh0aGlzLnByaW9yQnVmZmVyLmxlbmd0aCA8PSB0aGlzLm1heGxlbik7XG4gICAgfVxufVxuLypcbnZhciBtZW0gPSBuZXcgTWVtb3J5KDIwMDAwKTtcbk1hdGguc2VlZHJhbmRvbSgwKTtcbmNvbnNvbGUuYXNzZXJ0KG1lbS5sZW5ndGggPT0gMCk7XG5cbnZhciBhcnJheSA9IFtdO1xuZm9yIChsZXQgaT0xOyBpIDwgNDAwMDA7IGkrKyl7XG4gICAgbWVtLmFwcGVuZChcIm9iczAtXCIraSwgXCJhY3Rpb24tXCIraSwgXCJyZXdhcmQtXCIraSwgXCJvYnMxLVwiK2ksIFwidGVybWluYWwtXCIraSk7XG59XG5cbmNvbnNvbGUuYXNzZXJ0KG1lbS5sZW5ndGggPT0gMjAwMDApO1xuY29uc29sZS5hc3NlcnQobWVtLmxpc3RbMF0ub2JzMCA9PSBcIm9iczAtMjAwMDBcIik7XG5jb25zb2xlLmFzc2VydChtZW0ubGlzdFsxOTk5OV0ub2JzMCA9PSBcIm9iczAtMzk5OTlcIik7XG5cbmxldCBiYXRjaCA9IG1lbS5nZXRCYXRjaCgzMik7XG5cbmNvbnNvbGUuYXNzZXJ0KGJhdGNoLm9iczAubGVuZ3RoID09IDMyKTtcbmNvbnNvbGUuYXNzZXJ0KG1lbS5sZW5ndGggPT0gMjAwMDAgLSAzMik7XG5cbmxldCBjb3N0cyA9IFtdO1xuZm9yIChpPTMxOyBpID49IDA7IGktLSl7XG4gICAgY29zdHMucHVzaChpKTtcbn1cbm1lbS5hcHBlbmRCYWNrV2l0aENvc3QoYmF0Y2gsIGNvc3RzKTtcblxuY29uc29sZS5sb2cobWVtLmxpc3QpO1xuXG4vKlxuZm9yIChsZXQgaT0xOyBpIDwgNjQ7IGkrKyl7XG4gICAgbWVtLmFwcGVuZChcIm9iczAtXCIraSwgXCJhY3Rpb24tXCIraSwgXCJyZXdhcmQtXCIraSwgXCJvYnMxLVwiK2ksIFwidGVybWluYWwtXCIraSk7XG59XG4qLyIsImltcG9ydCB7QWN0b3IsIENyaXRpYywgY29weU1vZGVsfSBmcm9tICcuL21vZGVscy5qcyc7XG5pbXBvcnQgRERQRyBmcm9tICcuL2RkcGcuanMnO1xuaW1wb3J0IE1lbW9yeSBmcm9tICcuL21lbW9yeS5qcyc7XG5pbXBvcnQgQWRhcHRpdmVQYXJhbU5vaXNlU3BlYyBmcm9tICcuL25vaXNlLmpzJztcbmltcG9ydCBQcmlvcml0aXplZE1lbW9yeSBmcm9tICcuL3ByaW9yaXRpemVkX21lbW9yeS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEREUEdBZ2VudCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoZW52LCBjb25maWcpe1xuICAgICAgICB0aGlzLnN0b3BUcmFpbmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVudiA9IGVudjtcbiAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gRGVmYXVsdCBDb25maWdcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJERFBHXCIsXG4gICAgICAgICAgICBcInN0YXRlU2l6ZVwiOiBjb25maWcuc3RhdGVTaXplIHx8IDE3LFxuICAgICAgICAgICAgXCJuYkFjdGlvbnNcIjogY29uZmlnLmFjdGlvblNpemUgfHwgMixcbiAgICAgICAgICAgIFwic2VlZFwiOiBjb25maWcuc2VlZCB8fCAwLFxuICAgICAgICAgICAgXCJiYXRjaFNpemVcIjogY29uZmlnLmJhdGNoU2l6ZSB8fCAxMjgsXG4gICAgICAgICAgICBcImFjdG9yTHJcIjogY29uZmlnLmFjdG9yTHIgfHwgMC4wMDAxLFxuICAgICAgICAgICAgXCJjcml0aWNMclwiOiBjb25maWcgLmNyaXRpY0xyIHx8IDAuMDAxLFxuICAgICAgICAgICAgXCJtZW1vcnlTaXplXCI6IGNvbmZpZy5tZW1vcnlTaXplIHx8IDMwMDAwLFxuICAgICAgICAgICAgXCJnYW1tYVwiOiBjb25maWcuZ2FtbWUgfHwgMC45OSxcbiAgICAgICAgICAgIFwibm9pc2VEZWNheVwiOiBjb25maWcubm9pc2VEZWNheSB8fCAwLjk5LFxuICAgICAgICAgICAgXCJyZXdhcmRTY2FsZVwiOiBjb25maWcucmV3YXJkU2NhbGUgfHwgMSxcbiAgICAgICAgICAgIFwibmJFcG9jaHNcIjogY29uZmlnLm5iRXBvY2hzIHx8IDIwMCxcbiAgICAgICAgICAgIFwibmJFcG9jaHNDeWNsZVwiOiBjb25maWcubmJFcG9jaHNDeWNsZSB8fCA1LFxuICAgICAgICAgICAgXCJuYlRyYWluU3RlcHNcIjogY29uZmlnLm5iVHJhaW5TdGVwcyB8fCAxMTAsXG4gICAgICAgICAgICBcInRhdVwiOiBjb25maWcudGF1IHx8IDAuMDA4LCAvLyAwLjAwOCxcbiAgICAgICAgICAgIFwiaW5pdGlhbFN0ZGRldlwiOiBjb25maWcuaW5pdGlhbFN0ZGRldiB8fCAwLjQsXG4gICAgICAgICAgICBcImRlc2lyZWRBY3Rpb25TdGRkZXZcIjogY29uZmlnLmRlc2lyZWRBY3Rpb25TdGRkZXYgfHwgMC40LFxuICAgICAgICAgICAgXCJhZG9wdGlvbkNvZWZmaWNpZW50XCI6IGNvbmZpZy5hZG9wdGlvbkNvZWZmaWNpZW50IHx8IDEuMDEsXG4gICAgICAgICAgICBcImFjdG9yRmlyc3RMYXllclNpemVcIjogY29uZmlnLmFjdG9yRmlyc3RMYXllclNpemUgfHwgNjQsXG4gICAgICAgICAgICBcImFjdG9yU2Vjb25kTGF5ZXJTaXplXCI6IGNvbmZpZy5hY3RvclNlY29uZExheWVyU2l6ZSB8fCAzMixcbiAgICAgICAgICAgIFwiY3JpdGljRmlyc3RMYXllclNTaXplXCI6IGNvbmZpZy5jcml0aWNGaXJzdExheWVyU1NpemUgfHwgNjQsXG4gICAgICAgICAgICBcImNyaXRpY0ZpcnN0TGF5ZXJBU2l6ZVwiOiBjb25maWcuY3JpdGljRmlyc3RMYXllckFTaXplIHx8IDY0LFxuICAgICAgICAgICAgXCJjcml0aWNTZWNvbmRMYXllclNpemVcIjogY29uZmlnLmNyaXRpY1NlY29uZExheWVyU2l6ZSB8fCAzMixcbiAgICAgICAgICAgIFwibWF4U3RlcFwiOiBjb25maWcubWF4U3RlcCB8fCA4MDAsXG4gICAgICAgICAgICBcInJlc2V0RXBpc29kZVwiOiBjb25maWcucmVzZXRFcGlzb2RlICE9IHVuZGVmaW5lZCA/IGNvbmZpZy5yZXNldEVwaXNvZGU6dHJ1ZSxcbiAgICAgICAgICAgIFwic2F2ZUR1cmluZ1RyYWluaW5nXCI6IGNvbmZpZy5zYXZlRHVyaW5nVHJhaW5pbmcgfHwgZmFsc2UsXG4gICAgICAgICAgICBcInNhdmVJbnRlcnZhbFwiOiBjb25maWcuc2F2ZUludGVydmFsIHx8ICAyMCxcbiAgICAgICAgICAgIFwiZW5kaW5nQ29uZGl0aW9uXCI6IGNvbmZpZy5lbmRpbmdDb25kaXRpb24gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgXCJzYXZlTW9kZWxQYXRoXCI6IGNvbmZpZy5zYXZlTW9kZWxQYXRoIHx8IHVuZGVmaW5lZCAgICAgICBcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZXBvY2ggPSAwO1xuICAgICAgICB0aGlzLm5vaXNlID0gbmV3IEFkYXB0aXZlUGFyYW1Ob2lzZVNwZWModGhpcy5jb25maWcpO1xuICAgICAgICAvLyBCdWZmZXIgcmVwbGF5OiB0aGUgYmFzZWxpbmUgdXNlIDFlNlxuICAgICAgICB0aGlzLm1lbW9yeSA9IG5ldyBQcmlvcml0aXplZE1lbW9yeSh0aGlzLmNvbmZpZy5tZW1vcnlTaXplKTtcbiAgICAgICAgdGhpcy5hY3RvciA9IG5ldyBBY3Rvcih0aGlzLmNvbmZpZyk7XG4gICAgICAgIHRoaXMuY3JpdGljID0gbmV3IENyaXRpYyh0aGlzLmNvbmZpZyk7XG4gICAgICAgIC8vIFNlZWQgamF2YXNjcmlwdFxuICAgICAgICBNYXRoLnNlZWRyYW5kb20odGhpcy5jb25maWcuc2VlZCk7XG4gICAgICAgIHRoaXMucmV3YXJkc0xpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5lcGlEdXJhdGlvbiA9IFtdO1xuICAgICAgICB0aGlzLmRkcGcgPSBuZXcgRERQRyh0aGlzLmFjdG9yLCB0aGlzLmNyaXRpYywgdGhpcy5tZW1vcnksIHRoaXMubm9pc2UsIHRoaXMuY29uZmlnKTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIG1vZGVscyBcbiAgICBzYXZlKG5hbWUpe1xuICAgICAgIHRoaXMuZGRwZy5jcml0aWMubW9kZWwuc2F2ZSgnaW5kZXhlZGRiOi8vY3JpdGljLScgKyBuYW1lKTtcbiAgICAgICB0aGlzLmRkcGcuYWN0b3IubW9kZWwuc2F2ZSgnaW5kZXhlZGRiOi8vYWN0b3ItJysgbmFtZSk7XG4gICAgICAgY29uc29sZS5sb2coXCJNb2RlbHMgc2F2ZWQhXCIpO1xuICAgIH1cblxuICAgIC8vIHJlc3RvcmUgbW9kZWxzIFxuICAgIGFzeW5jIHJlc3RvcmUoZm9sZGVyLCBuYW1lKXtcbiAgICAgICAgY29uc3QgY3JpdGljID0gYXdhaXQgdGYubG9hZE1vZGVsKCdpbmRleGVkZGI6Ly9jcml0aWMtc2Vlay10YXJnZXQtMTAnKTtcbiAgICAgICAgY29uc3QgYWN0b3IgPSBhd2FpdCB0Zi5sb2FkTW9kZWwoJ2luZGV4ZWRkYjovL2FjdG9yLXNlZWstdGFyZ2V0LTEwJyk7XG4gICAgICAgIHRoaXMuZGRwZy5jcml0aWMgPSBjb3B5RnJvbVNhdmUoY3JpdGljLCBDcml0aWMsIHRoaXMuY29uZmlnLCB0aGlzLmRkcGcub2JzSW5wdXQsIHRoaXMuZGRwZy5hY3Rpb25JbnB1dCk7XG4gICAgICAgIHRoaXMuZGRwZy5hY3RvciA9IGNvcHlGcm9tU2F2ZShhY3RvciwgQWN0b3IsIHRoaXMuY29uZmlnLCB0aGlzLmRkcGcub2JzSW5wdXQsIHRoaXMuZGRwZy5hY3Rpb25JbnB1dCk7XG4gICAgICAgIC8vIEluaXQgdGFyZ2V0IG5ldHdvcmsgUScgYW5kIM68JyB3aXRoIHRoZSBzYW1lIHdlaWdodHNcbiAgICAgICAgdGhpcy5kZHBnLmFjdG9yVGFyZ2V0ID0gY29weU1vZGVsKHRoaXMuZGRwZy5hY3RvciwgQWN0b3IpO1xuICAgICAgICB0aGlzLmRkcGcuY3JpdGljVGFyZ2V0ID0gY29weU1vZGVsKHRoaXMuZGRwZy5jcml0aWMsIENyaXRpYyk7XG4gICAgICAgIC8vIFBlcnR1cmJlZCBBY3RvciAoU2VlIHBhcmFtZXRlciBzcGFjZSBub2lzZSBFeHBsb3JhdGlvbiBwYXBlcilcbiAgICAgICAgdGhpcy5kZHBnLnBlcnR1cmJlZEFjdG9yID0gY29weU1vZGVsKHRoaXMuZGRwZy5hY3RvciwgQWN0b3IpO1xuICAgICAgICB0aGlzLmRkcGcuc2V0TGVhcm5pbmdPcCgpO1xuICAgIH1cblxuICAgIC8vIHBsYXkgb25lIHN0ZXBcbiAgICBldmFsdWF0ZSgpe1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZW52LmdldFN0YXRlKCk7XG4gICAgICAgIC8vIFBpY2sgYW4gYWN0aW9uXG4gICAgICAgIGNvbnN0IHRmQWN0aW9ucyA9IHRoaXMuZGRwZy5wcmVkaWN0KHRmLnRlbnNvcjJkKFtzdGF0ZV0pKTtcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IHRmQWN0aW9ucy5kYXRhU3luYygpO1xuICAgICAgICBsZXQgaW5mbyA9IHRoaXMuZW52LnN0ZXAoYWN0aW9ucyk7XG4gICAgICAgIGlmKGluZm9bMV0pe1xuICAgICAgICAgICAgdGhpcy5lbnYucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0ZkFjdGlvbnMuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXN0aW1hdGlvbiBvZiB0aGUgUSB2YWx1ZSBnaXZlbiB0aGUgc3RhdGUgYW5kIHRoZSBhY3Rpb25cbiAgICAgKiBAcGFyYW0gc3RhdGUgbnVtYmVyW11cbiAgICAgKiBAcGFyYW0gYWN0aW9uIFthLCBzdGVlcmluZ11cbiAgICAgKi9cbiAgICBnZXRRdmFsdWUoc3RhdGUsIGEpe1xuICAgICAgICByZXR1cm4gdGhpcy5kZHBnLmdldFF2YWx1ZShzdGF0ZSwgYSk7XG4gICAgfVxuXG4gICAgc3RvcCgpe1xuICAgICAgICB0aGlzLnN0b3BUcmFpbmluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3B0aW1pemUgbW9kZWxzIGFuZCBsb2cgc3RhdGVzXG4gICAgICovXG4gICAgX29wdGltaXplKCl7XG4gICAgICAgIHRoaXMuZGRwZy5ub2lzZS5kZXNpcmVkQWN0aW9uU3RkZGV2ID0gTWF0aC5tYXgoMC4xLCB0aGlzLmNvbmZpZy5ub2lzZURlY2F5ICogdGhpcy5kZHBnLm5vaXNlLmRlc2lyZWRBY3Rpb25TdGRkZXYpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGxvc3NWYWx1ZXNDcml0aWMgPSBbXTtcbiAgICAgICAgbGV0IGxvc3NWYWx1ZXNBY3RvciA9IFtdO1xuICAgICAgICBjb25zb2xlLnRpbWUoXCJUcmFpbmluZ1wiKTtcbiAgICAgICAgZm9yIChsZXQgdD0wOyB0IDwgdGhpcy5jb25maWcubmJUcmFpblN0ZXBzOyB0Kyspe1xuICAgICAgICAgICAgbGV0IHtsb3NzQywgbG9zc0F9ID0gdGhpcy5kZHBnLm9wdGltaXplQ3JpdGljQWN0b3IoKTtcbiAgICAgICAgICAgIGxvc3NWYWx1ZXNDcml0aWMucHVzaChsb3NzQyk7XG4gICAgICAgICAgICBsb3NzVmFsdWVzQWN0b3IucHVzaChsb3NzQSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS50aW1lRW5kKFwiVHJhaW5pbmdcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGVzaXJlZEFjdGlvblN0ZGRldjpcIiwgdGhpcy5kZHBnLm5vaXNlLmRlc2lyZWRBY3Rpb25TdGRkZXYpO1xuICAgIH1cblxuICAgIC8vIGdpdmVuIHRoZSBlbmRpbmcgY29uZGl0aW9uLFxuICAgIC8vIGRldGVybWluZSBpZiB0aGUgdHJhaW5pbmcgaGFzIGFjY29tcGxpc2hlZCBcbiAgICBfaXNEb25lKGVuZGluZ0NvbmRpdGlvbil7XG4gICAgICAgIGNvbnN0IGVuZGluZ0NyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXdhcmRzXCI6IHVuZGVmaW5lZCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0ZXBzXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXBpc29kZXNcIjogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgIH07IFxuXG4gICAgICAgIC8vIGFzc2lnbiB2YWx1ZXMgdG8gdGhlIGVuZGluZyBjcml0ZXJpYSBcbiAgICAgICAgZW5kaW5nQ3JpdGVyaWFbXCJyZXdhcmRzXCJdID0gdGhpcy5yZXdhcmRzO1xuICAgICAgICBlbmRpbmdDcml0ZXJpYVtcInN0ZXBzXCJdID0gdGhpcy5zdGVwcztcbiAgICAgICAgZW5kaW5nQ3JpdGVyaWFbXCJlcGlzb2Rlc1wiXSA9IHRoaXMuZXBpc29kZXM7XG4gICAgICAgIFxuICAgICAgICAvLyBkZWNpZGUgd2hpY2ggZW5kaW5nIGNyaXRlcmlvbiB0byB1c2UgXG4gICAgICAgIGNvbnN0IGVuZGluZ0tleSA9IE9iamVjdC5rZXlzKGVuZGluZ0NvbmRpdGlvbilbMF07XG5cbiAgICAgICAgaWYoZW5kaW5nQ3JpdGVyaWEuaGFzT3duUHJvcGVydHkoZW5kaW5nS2V5KSl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXBpc29kZXM6IFwiICsgdGhpcy5lcGlzb2Rlcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJld2FyZHM6IFwiICsgdGhpcy5yZXdhcmRzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RlcHM6IFwiICsgdGhpcy5zdGVwcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiBcIik7XG4gICAgICAgICAgICAvLyBpZihlbmRpbmdLZXkgIT0gXCJlcGlzb2Rlc1wiKXtcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlbmRpbmdLZXkgKyBcIjogXCIgKyBlbmRpbmdDcml0ZXJpYVtlbmRpbmdLZXldKTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgaWYoKGVuZGluZ0NvbmRpdGlvbltcImNvbmRpdGlvblwiXSA9PSBcIm1vcmVcIiAmJiBlbmRpbmdDcml0ZXJpYVtlbmRpbmdLZXldID49IGVuZGluZ0NvbmRpdGlvbltlbmRpbmdLZXldKSB8fFxuICAgICAgICAgICAgICAgIChlbmRpbmdDb25kaXRpb25bXCJjb25kaXRpb25cIl0gPT0gXCJsZXNzXCIgJiYgZW5kaW5nQ3JpdGVyaWFbZW5kaW5nS2V5XSA8PSBlbmRpbmdDb25kaXRpb25bZW5kaW5nS2V5XSkpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhaW5pbmcgZmluaXNoZWRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlKHRoaXMuc2F2ZU1vZGVsUGF0aCk7ICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhyb3coXCJbcmw1XTogVGhlIGVuZGluZyBjb25kaXRpb24gZG9lc24ndCBleGlzdCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGVwIGludG8gdGhlIHRyYWluaW5nIGVudmlyb25lbWVudFxuICAgICAqIEBwYXJhbSB0ZlByZXZpb3VzU3RlcCAodGYudGVuc29yMmQpIEN1cnJlbnQgc3RhdGVcbiAgICAgKiBAcGFyYW0gbVByZXZpb3VzU3RlcCBudW1iZXJbXVxuICAgICAqIEByZXR1cm4ge2RvbmUsIHN0YXRlfSBPbmUgYm9vbGVhbiBhbmQgdGhlIG5ldyBzdGF0ZVxuICAgICAqL1xuICAgIHN0ZXBUcmFpbih0ZlByZXZpb3VzU3RlcCwgbVByZXZpb3VzU3RlcCl7XG4gICAgICAgIC8vIEdldCBhY3Rpb25zXG4gICAgICAgIGNvbnN0IHRmQWN0aW9ucyA9IHRoaXMuZGRwZy5wZXJ0dXJiZWRQcmVkaWN0aW9uKHRmUHJldmlvdXNTdGVwKTtcbiAgICAgICAgLy8gU3RlcCBpbiB0aGUgZW52aXJvbm1lbnQgd2l0aCB0aGVzZXMgYWN0aW9uc1xuICAgICAgICBsZXQgYWN0aW9ucyA9IHRmQWN0aW9ucy5kYXRhU3luYygpO1xuICAgICAgICBsZXQgaW5mbyA9IHRoaXMuZW52LnN0ZXAoYWN0aW9ucyk7XG4gICAgICAgIGxldCBtUmV3YXJkID0gaW5mb1swXTtcbiAgICAgICAgdGhpcy5yZXdhcmRzICs9IG1SZXdhcmQ7XG4gICAgICAgIGxldCBtU3RhdGUgPSB0aGlzLmVudi5nZXRTdGF0ZSgpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHRmU3RhdGUgPSB0Zi50ZW5zb3IyZChbbVN0YXRlXSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbURvbmUgPSAwO1xuICAgICAgICBpZihpbmZvWzFdID09PSB0cnVlKXtcbiAgICAgICAgICAgIG1Eb25lID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIG5ldyB0dXBsZSB0byB0aGUgYnVmZmVyXG4gICAgICAgIHRoaXMuZGRwZy5tZW1vcnkuYXBwZW5kKG1QcmV2aW91c1N0ZXAsIGFjdGlvbnMsIG1SZXdhcmQsIG1TdGF0ZSwgbURvbmUpO1xuICAgICAgICAvLyBEaXNwb3NlIHRlbnNvcnNcbiAgICAgICAgdGZQcmV2aW91c1N0ZXAuZGlzcG9zZSgpO1xuICAgICAgICB0ZkFjdGlvbnMuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4ge21Eb25lLCBtU3RhdGUsIHRmU3RhdGV9O1xuICAgIH1cblxuICAgIC8vIHRyYWluIEREUEcgYWdlbnQgXG4gICAgYXN5bmMgdHJhaW4oKXtcbiAgICAgICAgdGhpcy5zdG9wVHJhaW5pbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyBPbmUgZXBvY2hcbiAgICAgICAgZm9yICh0aGlzLmVwb2NoOyB0aGlzLmVwb2NoIDwgdGhpcy5jb25maWcubmJFcG9jaHM7IHRoaXMuZXBvY2grKyl7ICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGZvciAobGV0IGM9MDsgYyA8IHRoaXMuY29uZmlnLm5iRXBvY2hzQ3ljbGU7IGMrKyl7XG4gICAgICAgICAgICAgICAgLy8gc2hvdyBudW0gb2YgdGVuc29ycyBldmVyeSB0ZW4gZXBpc29kZXMgXG4gICAgICAgICAgICAgICAgaWYgKGMlMTA9PTApeyBsb2dUZk1lbW9yeSgpOyB9XG4gICAgICAgICAgICAgICAgbGV0IG1QcmV2aW91c1N0ZXAgPSB0aGlzLmVudi5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGxldCB0ZlByZXZpb3VzU3RlcCA9IHRmLnRlbnNvcjJkKFttUHJldmlvdXNTdGVwXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwcyA9IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5yZXdhcmRzID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHRoaXMuc3RlcHM9MDsgdGhpcy5zdGVwcyA8IHRoaXMuY29uZmlnLm1heFN0ZXA7IHRoaXMuc3RlcHMrKyl7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWwgPSB0aGlzLnN0ZXBUcmFpbih0ZlByZXZpb3VzU3RlcCwgbVByZXZpb3VzU3RlcCk7XG4gICAgICAgICAgICAgICAgICAgIG1QcmV2aW91c1N0ZXAgPSByZWwubVN0YXRlO1xuICAgICAgICAgICAgICAgICAgICB0ZlByZXZpb3VzU3RlcCA9IHJlbC50ZlN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVsLm1Eb25lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmV3YXJkczogXCIgKyB0aGlzLnJld2FyZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcFRyYWluaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXZhbHVhdGluZyB0aGUgYWdlbnQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRmLm5leHRGcmFtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5kZHBnLmFkYXB0UGFyYW1Ob2lzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5yZXNldEVwaXNvZGUpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZlByZXZpb3VzU3RlcC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5lcGlzb2RlcyA9IHRoaXMuY29uZmlnLm5iRXBvY2hzQ3ljbGUgKiB0aGlzLmVwb2NoICsgYztcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BUcmFpbmluZyA9IHRoaXMuX2lzRG9uZSh0aGlzLmNvbmZpZ1tcImVuZGluZ0NvbmRpdGlvblwiXSk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0Zi5uZXh0RnJhbWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdXBkYXRlIG5ldXJhbCBuZXR3b3JrIFxuICAgICAgICAgICAgaWYgKHRoaXMuZXBvY2ggPiAxKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpbWl6ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0Zi5uZXh0RnJhbWUoKTtcbiAgICAgICAgfSAgICAgICAgICAgIFxuICAgIH1cblxufTtcblxuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyB1dGlsaXMuanNcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmZ1bmN0aW9uIGxvZ1RmTWVtb3J5KCl7XG4gICAgbGV0IG1lbSA9IHRmLm1lbW9yeSgpO1xuICAgIGNvbnNvbGUubG9nKFwibnVtVGVuc29yczpcIiArIG1lbS5udW1UZW5zb3JzKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ2hvaWNlKHApIHtcbiAgICBsZXQgcm5kID0gcC5yZWR1Y2UoIChhLCBiKSA9PiBhICsgYiApICogTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gcC5maW5kSW5kZXgoIGEgPT4gKHJuZCAtPSBhKSA8IDAgKTtcbn1cblxuZnVuY3Rpb24gbWVhbihhcnJheSl7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgc3VtID0gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KTtcbiAgICB2YXIgYXZnID0gc3VtIC8gYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBhdmc7XG59XG5cbmZ1bmN0aW9uIGFyZ01heChhcnJheSkge1xuICAgIC8qXG4gICAgICAgIFJldHVybiB0aGUgYXJnbWF4IG9mIGFuIGFycmF5LlxuICAgICAgICBUT0RPOiBTaG91bGQgYmUgcmVwbGFjZSBzb29uIGJ5IHRoZSB1c2FnZSBvZiBUZW5zb3JmbG93LmpzXG4gICAgKi9cbiAgICBpZiAoYXJyYXkuZXZlcnkoKHYpID0+IHYgPT0gLUluZmluaXR5KSl7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYXJyYXkubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgoeCwgaSkgPT4gW3gsIGldKS5yZWR1Y2UoKHIsIGEpID0+IChhWzBdID4gclswXSA/IGEgOiByKSlbMV07XG59XG5cbi8qXG4gICAgRmlsZSB3aXRoIHNvbWUgdXNlZnVsbCBtZXRob2RzXG4qL1xuZnVuY3Rpb24gbG9hZEpTT04odXJsLCBjYWxsYmFjaykge1xuICAgIC8qXG4gICAgICAgIFV0aWxzIG1ldGhvZCB0byBsb2FkIGEganNvbiBvbiB0aGUgc2VydmVyXG4gICAgICAgIEB1cmw6IFVybCB0byB0aGUganNvbiBmaWxlIHRvIGxvYWRcbiAgICAgICAgQGNhbGxiYWNrOiBNZXRob2QgdG8gY2FsbCB3aGVuIHRoZSBqc29uIGZpbGUgaXMgbG9hZGVkXG4gICAgKi9cbiAgICB2YXIgeG9iaiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhvYmoub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgeG9iai5vcGVuKCdHRVQnLCB1cmwsIHRydWUpOyAvLyBSZXBsYWNlICdteV9kYXRhJyB3aXRoIHRoZSBwYXRoIHRvIHlvdXIgZmlsZVxuICAgIHhvYmoub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgaWYgKHhvYmoucmVhZHlTdGF0ZSA9PSA0ICYmIHhvYmouc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAvLyBSZXF1aXJlZCB1c2Ugb2YgYW4gYW5vbnltb3VzIGNhbGxiYWNrIGFzIC5vcGVuIHdpbGwgTk9UIHJldHVybiBhIHZhbHVlIGJ1dCBzaW1wbHkgcmV0dXJucyB1bmRlZmluZWQgaW4gYXN5bmNocm9ub3VzIG1vZGVcbiAgICAgICAgICAgY29uc29sZS5sb2coeG9iai5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHhvYmoucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICB9XG4gICAgfTtcbiAgICB4b2JqLnNlbmQobnVsbCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vla1RhcmdldERpc2NyZXRlVjAge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIHBhcmFtZXRlcnMgZm9yIHNlZWtlclxuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy5yID0gNjtcbiAgICAgICAgdGhpcy5tYXhzcGVlZCA9IDE7XG4gICBcbiAgICAgICAgLy8gcGFyYW1ldGVycyBmb3IgdGFyZ2V0XG4gICAgICAgIHRoaXMudGFyZ2V0V2lkdGggPSAxMDtcbiAgICAgICAgdGhpcy50YXJnZXRIZWlnaHQgPSBoZWlnaHQ7IC8vaGVpZ2h0LzQ7XG4gICAgICAgIHRoaXMudGFyZ2V0WSA9IDA7IC8vIGhlaWdodCozLzg7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IHRhcmdldCh3aWR0aCAtIDEwLCB0aGlzLnRhcmdldFksIHRoaXMudGFyZ2V0V2lkdGgsIHRoaXMudGFyZ2V0SGVpZ2h0KTtcblxuICAgICAgICB0aGlzLm51bUZlYXR1cmVzID0gMjtcbiAgICAgICAgdGhpcy5udW1BY3Rpb25zID0gMjtcblxuICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IDIwO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBoZWlnaHQvMjtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5tdWx0KDApO1xuICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnRhcmdldFkgPSAwOyAvLyBoZWlnaHQqMy84O1xuICAgICAgICAvLyB0aGlzLnRhcmdldFkgKz0gcmFuZG9tKC1oZWlnaHQvOCwgaGVpZ2h0LzgpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG5ldyB0YXJnZXQod2lkdGggLSAxMCwgdGhpcy50YXJnZXRZLCB0aGlzLnRhcmdldFdpZHRoLCB0aGlzLnRhcmdldEhlaWdodCk7XG4gICAgfVxuXG4gICAgc3RlcChhY3Rpb24pIHtcbiAgICAgICAgLy8gYXBwbHkgZm9yY2VcbiAgICAgICAgbGV0IGZvcmNlO1xuICAgICAgICBpZihhY3Rpb24gPT0gMCl7Zm9yY2UgPSAtMC4wMDE7fVxuICAgICAgICBlbHNlIGlmKGFjdGlvbiA9PSAxKXtmb3JjZSA9IDAuMDAxO30gXG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZCgwLjAxLCBmb3JjZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdmVsb2NpdHlcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gTGltaXQgc3BlZWRcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5saW1pdCh0aGlzLm1heHNwZWVkKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBhY2NlbGVyYXRpb24gdG8gMCBlYWNoIGN5Y2xlXG4gICAgICAgIC8vIHRoaXMuYWNjZWxlcmF0aW9uLm11bHQoMCk7XG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLnggPSAwO1xuXG4gICAgICAgIGNvbnN0IGluZm8gPSBbdGhpcy5yZXdhcmQoKSwgdGhpcy5pc0RvbmUoKSwgdGhpcy5zdWNjZXNzXTtcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgfSBcblxuICAgIGlzRG9uZSgpIHtcbiAgICAgICAgaWYodGhpcy5wb3NpdGlvbi54IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnggPiB3aWR0aCB8fCB0aGlzLnBvc2l0aW9uLnkgPCAwIHx8IHRoaXMucG9zaXRpb24ueSA+IGhlaWdodCB8fCBcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZXtyZXR1cm4gZmFsc2U7fVxuICAgIH1cblxuICAgIHJld2FyZCgpIHtcbiAgICAgICAgbGV0IHJld2FyZCA9IDE7XG4gICAgIC8vICAgIGlmKHRoaXMucG9zaXRpb24ueCA+IHdpZHRoLzIpe1xuICAgICAvLyAgICBcdHJld2FyZCA9IDE7XG4gICAgXHQvLyB9XG4gICAgICAgIC8vIGlmKHRoaXMudGFyZ2V0LmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKXtcbiAgICAgICAgLy8gICAgIHJld2FyZCArPSAxO1xuICAgICAgICAvLyAgICAgdGhpcy5zdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgICBpZih0aGlzLnBvc2l0aW9uLnggPCAwIHx8IHRoaXMucG9zaXRpb24ueSA8IDAgfHwgdGhpcy5wb3NpdGlvbi55ID4gaGVpZ2h0KXtcbiAgICAgICAgICAgIHJld2FyZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJld2FyZDtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZVRlbnNvcigpIHtcbiAgICAgICAgcmV0dXJuIHRmLnRlbnNvcjJkKFtbdGhpcy5wb3NpdGlvbi54L3dpZHRoLCB0aGlzLnBvc2l0aW9uLnkvaGVpZ2h0XV0pO1xuICAgIH1cblxuICAgIHJhbmRvbVdhbGsoKSB7XG4gICAgXHRsZXQgYWN0aW9uO1xuICAgICAgICBpZihyYW5kb20oKSA8IDAuNSl7YWN0aW9uID0gMDt9XG4gICAgICAgIGVsc2V7YWN0aW9uID0gMTt9XG4gICAgICAgIHRoaXMuc3RlcChhY3Rpb24pO1xuICAgICAgICBpZih0aGlzLmlzRG9uZSgpKXt0aGlzLnJlc2V0KCk7fVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgc2Vla2VyXG4gICAgICAgIGxldCB0aGV0YSA9IHRoaXMudmVsb2NpdHkuaGVhZGluZygpICsgUEkgLyAyO1xuICAgICAgICBmaWxsKDEyNyk7XG4gICAgICAgIHN0cm9rZSgyMDApO1xuICAgICAgICBzdHJva2VXZWlnaHQoMSk7XG4gICAgICAgIHB1c2goKTtcbiAgICAgICAgdHJhbnNsYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgcm90YXRlKHRoZXRhKTtcbiAgICAgICAgYmVnaW5TaGFwZSgpO1xuICAgICAgICB2ZXJ0ZXgoMCwgLXRoaXMuciAqIDIpO1xuICAgICAgICB2ZXJ0ZXgoLXRoaXMuciwgdGhpcy5yICogMik7XG4gICAgICAgIHZlcnRleCh0aGlzLnIsIHRoaXMuciAqIDIpO1xuICAgICAgICBlbmRTaGFwZShDTE9TRSk7XG4gICAgICAgIHBvcCgpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIHRhcmdldHNcbiAgICAgICAgdGhpcy50YXJnZXQuZGlzcGxheSgpO1xuICAgIH0gXG59XG5cbi8vIEEgY2xhc3MgZm9yIGFuIHRhcmdldCwganVzdCBhIHNpbXBsZSByZWN0YW5nbGUgdGhhdCBpcyBkcmF3blxuLy8gYW5kIGNhbiBjaGVjayBpZiBhIFJvY2tldCB0b3VjaGVzIGl0XG4vLyBNb2RpZmllZCBmcm9tIFRoZSBOYXR1cmUgb2YgQ29kZSwgRGFuaWVsIFNoaWZmbWFuXG5jbGFzcyB0YXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHcsIGgpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGNyZWF0ZVZlY3Rvcih4LCB5KTtcbiAgICAgICAgdGhpcy53ID0gdztcbiAgICAgICAgdGhpcy5oID0gaDtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCkge1xuICAgICAgICBzdHJva2UoMCk7XG4gICAgICAgIGZpbGwoMTc1KTtcbiAgICAgICAgc3Ryb2tlV2VpZ2h0KDIpO1xuICAgICAgICByZWN0TW9kZShDT1JORVIpO1xuICAgICAgICByZWN0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCB0aGlzLncsIHRoaXMuaCk7XG4gICAgfVxuXG4gICAgZ2V0Q2VudGVyKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlVmVjdG9yKHRoaXMucG9zaXRpb24ueCArIHRoaXMudyAvIDIsIHRoaXMucG9zaXRpb24ueSArIHRoaXMuaCAvIDIpO1xuICAgIH1cblxuICAgIGNvbnRhaW5zKHNwb3QpIHtcbiAgICAgICAgaWYgKHNwb3QueCA+IHRoaXMucG9zaXRpb24ueCAmJiBzcG90LnggPCB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLncgJiYgc3BvdC55ID4gdGhpcy5wb3NpdGlvbi55ICYmIHNwb3QueSA8IHRoaXMucG9zaXRpb24ueSArIHRoaXMuaCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gQXZvaWQgT2JzdGFjbGVzIENvbnRpbnVvdXMgRW52aXJvbm1lbnQgIFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXZvaWRPYnN0YWNsZXNDb250aW51b3VzVjAge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBcbiAgICAgICAgLy8gcGFyYW1ldGVycyBmb3Igc2Vla2VyXG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgICAgICB0aGlzLnIgPSA2O1xuICAgICAgICB0aGlzLm1heHNwZWVkID0gMTtcbiAgICAgICAgdGhpcy5tYXhmb3JjZSA9IDAuMjtcblxuICAgICAgICAvLyBwYXJhbWV0ZXJzIGZvciBvYnN0YWNsZVxuICAgICAgICB0aGlzLm9ic3RhY2xlV2lkdGggPSAxMDtcbiAgICAgICAgdGhpcy5vYnN0YWNsZUhlaWdodCA9IGhlaWdodC8zO1xuICAgICAgICB0aGlzLm9ic3RhY2xlID0gbmV3IE9ic3RhY2xlKHdpZHRoLzIsIGhlaWdodC8zLCB0aGlzLm9ic3RhY2xlV2lkdGgsIHRoaXMub2JzdGFjbGVIZWlnaHQpO1xuICAgICAgICAvLyB0aGlzLm9ic3RhY2xlID0gbmV3IE9ic3RhY2xlKHdpZHRoIC0gMTAsIGhlaWdodC8zLCB0aGlzLm9ic3RhY2xlV2lkdGgsIHRoaXMub2JzdGFjbGVIZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IDIwO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBoZWlnaHQvMjtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5tdWx0KDApO1xuXG4gICAgfVxuXG4gICAgc3RlcChhY3Rpb24pIHtcblxuICAgICAgICAvLyBhcHBseSBmb3JjZVxuICAgICAgICBsZXQgcmVhbF9hY3Rpb24gPSBjcmVhdGVWZWN0b3IoMC4wMSwgYWN0aW9uWzBdKjAuMDUpO1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5hZGQocmVhbF9hY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHZlbG9jaXR5XG4gICAgICAgIHRoaXMudmVsb2NpdHkuYWRkKHRoaXMuYWNjZWxlcmF0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExpbWl0IHNwZWVkXG4gICAgICAgIHRoaXMudmVsb2NpdHkubGltaXQodGhpcy5tYXhzcGVlZCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgYWNjZWxlcmF0aW9uIHRvIDAgZWFjaCBjeWNsZVxuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuXG4gICAgICAgIGNvbnN0IGluZm8gPSBbdGhpcy5yZXdhcmQoKSwgdGhpcy5pc0RvbmUoKV07XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIFxuICAgIH0gXG5cbiAgICBpc0RvbmUoKSB7XG4gICAgICAgIGlmKHRoaXMucG9zaXRpb24ueCA8IDAgfHwgdGhpcy5wb3NpdGlvbi54ID4gd2lkdGggfHwgdGhpcy5wb3NpdGlvbi55IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnkgPiBoZWlnaHQgfHwgXG4gICAgICAgICAgICB0aGlzLm9ic3RhY2xlLmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZXtyZXR1cm4gZmFsc2U7fVxuICAgIH1cblxuICAgIHJld2FyZCgpIHtcbiAgICAgICAgbGV0IHJld2FyZCA9IHRoaXMucG9zaXRpb24ueC93aWR0aDtcbiAgICAgICAgaWYodGhpcy5vYnN0YWNsZS5jb250YWlucyh0aGlzLnBvc2l0aW9uKSl7XG4gICAgICAgIC8vIGlmKHRoaXMucG9zaXRpb24ueCA+IHdpZHRoKXtcbiAgICAgICAgICAgIHJld2FyZCArPSAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJld2FyZDtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnBvc2l0aW9uLngvd2lkdGgsIHRoaXMucG9zaXRpb24ueS9oZWlnaHRdO1xuICAgIH1cblxuICAgIHJhbmRvbVdhbGsoKSB7XG5cbiAgICAgICAgbGV0IGFjdGlvbiA9IGNyZWF0ZVZlY3RvcigpO1xuICAgICAgICBhY3Rpb24ueCA9IDAuMDE7XG4gICAgICAgIGFjdGlvbi55ID0gcmFuZG9tKC10aGlzLm1heGZvcmNlLCB0aGlzLm1heGZvcmNlKVxuICAgICAgICB0aGlzLnN0ZXAoYWN0aW9uKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgc2Vla2VyXG4gICAgICAgIGxldCB0aGV0YSA9IHRoaXMudmVsb2NpdHkuaGVhZGluZygpICsgUEkgLyAyO1xuICAgICAgICBmaWxsKDEyNyk7XG4gICAgICAgIHN0cm9rZSgyMDApO1xuICAgICAgICBzdHJva2VXZWlnaHQoMSk7XG4gICAgICAgIHB1c2goKTtcbiAgICAgICAgdHJhbnNsYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgcm90YXRlKHRoZXRhKTtcbiAgICAgICAgYmVnaW5TaGFwZSgpO1xuICAgICAgICB2ZXJ0ZXgoMCwgLXRoaXMuciAqIDIpO1xuICAgICAgICB2ZXJ0ZXgoLXRoaXMuciwgdGhpcy5yICogMik7XG4gICAgICAgIHZlcnRleCh0aGlzLnIsIHRoaXMuciAqIDIpO1xuICAgICAgICBlbmRTaGFwZShDTE9TRSk7XG4gICAgICAgIHBvcCgpO1xuXG4gICAgICAgIC8vIHJlY3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIDIwLCAyMCk7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgb2JzdGFjbGVzXG4gICAgICAgIHRoaXMub2JzdGFjbGUuZGlzcGxheSgpO1xuICAgIH1cblxufVxuXG4vLyBBIGNsYXNzIGZvciBhbiBvYnN0YWNsZSwganVzdCBhIHNpbXBsZSByZWN0YW5nbGUgdGhhdCBpcyBkcmF3blxuLy8gYW5kIGNhbiBjaGVjayBpZiBhIFJvY2tldCB0b3VjaGVzIGl0XG4vLyBNb2RpZmllZCBmcm9tIFRoZSBOYXR1cmUgb2YgQ29kZSwgRGFuaWVsIFNoaWZmbWFuXG5cbmNsYXNzIE9ic3RhY2xlIHtcbiAgXG4gICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKHgsIHkpO1xuICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICB0aGlzLmggPSBoO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKSB7XG4gICAgICAgIHN0cm9rZSgwKTtcbiAgICAgICAgZmlsbCgxNzUpO1xuICAgICAgICBzdHJva2VXZWlnaHQoMik7XG4gICAgICAgIHJlY3RNb2RlKENPUk5FUik7XG4gICAgICAgIHJlY3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHRoaXMudywgdGhpcy5oKTtcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5wb3NpdGlvbi54ICsgdGhpcy53IC8gMiwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oIC8gMik7XG4gICAgfVxuXG4gICAgY29udGFpbnMoc3BvdCkge1xuICAgICAgICBpZiAoc3BvdC54ID4gdGhpcy5wb3NpdGlvbi54ICYmIHNwb3QueCA8IHRoaXMucG9zaXRpb24ueCArIHRoaXMudyAmJiBzcG90LnkgPiB0aGlzLnBvc2l0aW9uLnkgJiYgc3BvdC55IDwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsIi8vIFNlZWsgVGFyZ2V0IENvbnRpbnVvdXMgRW52aXJvbm1lbnQgIFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vla1RhcmdldENvbnRpbnVvdXNWMCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIHBhcmFtZXRlcnMgZm9yIHNlZWtlclxuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICAgICAgdGhpcy5yID0gNjtcbiAgICAgICAgdGhpcy5tYXhzcGVlZCA9IDE7XG4gICAgICAgIHRoaXMubWF4Zm9yY2UgPSAwLjI7XG5cbiAgICAgICAgLy8gcGFyYW1ldGVycyBmb3IgdGFyZ2V0XG4gICAgICAgIHRoaXMudGFyZ2V0V2lkdGggPSAxMDtcbiAgICAgICAgdGhpcy50YXJnZXRIZWlnaHQgPSBoZWlnaHQvNDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuZXcgdGFyZ2V0KHdpZHRoIC0gMTAsIGhlaWdodCozLzgsIHRoaXMudGFyZ2V0V2lkdGgsIHRoaXMudGFyZ2V0SGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IDIwO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBoZWlnaHQvMjtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5tdWx0KDApO1xuICAgIH1cblxuICAgIHN0ZXAoYWN0aW9uKSB7XG4gICAgICAgIC8vIGFwcGx5IGZvcmNlXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFjdGlvblswXSAqIDAuMDEpO1xuICAgICAgICBsZXQgcmVhbF9hY3Rpb24gPSBjcmVhdGVWZWN0b3IoYWN0aW9uWzFdKjAuMDEsIGFjdGlvblswXSowLjAxKTtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24uYWRkKHJlYWxfYWN0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB2ZWxvY2l0eVxuICAgICAgICB0aGlzLnZlbG9jaXR5LmFkZCh0aGlzLmFjY2VsZXJhdGlvbik7XG4gICAgICAgIFxuICAgICAgICAvLyBMaW1pdCBzcGVlZFxuICAgICAgICB0aGlzLnZlbG9jaXR5LmxpbWl0KHRoaXMubWF4c3BlZWQpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IGFjY2VsZXJhdGlvbiB0byAwIGVhY2ggY3ljbGVcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcblxuICAgICAgICBjb25zdCBpbmZvID0gW3RoaXMucmV3YXJkKCksIHRoaXMuaXNEb25lKCldO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9IFxuXG4gICAgaXNEb25lKCkge1xuICAgICAgICBpZih0aGlzLnBvc2l0aW9uLnggPCAwIHx8IHRoaXMucG9zaXRpb24ueCA+IHdpZHRoIHx8IHRoaXMucG9zaXRpb24ueSA8IDAgfHwgdGhpcy5wb3NpdGlvbi55ID4gaGVpZ2h0IHx8IFxuICAgICAgICAgICAgdGhpcy50YXJnZXQuY29udGFpbnModGhpcy5wb3NpdGlvbikpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNle3JldHVybiBmYWxzZTt9XG4gICAgfVxuXG4gICAgcmV3YXJkKCkge1xuICAgICAgICBsZXQgcmV3YXJkID0gZGlzdCgwLCAwLCAxLCAxKSAtIGRpc3QodGhpcy5wb3NpdGlvbi54L3dpZHRoLCB0aGlzLnBvc2l0aW9uLnkvaGVpZ2h0LCAxLCAwLjUpO1xuICAgICAgICBpZih0aGlzLnRhcmdldC5jb250YWlucyh0aGlzLnBvc2l0aW9uKSl7XG4gICAgICAgICAgICByZXdhcmQgKz0gMTAwMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV3YXJkO1xuICAgIH1cblxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMucG9zaXRpb24ueC93aWR0aCwgdGhpcy5wb3NpdGlvbi55L2hlaWdodF07XG4gICAgfVxuXG4gICAgcmFuZG9tV2FsaygpIHtcbiAgICAgICAgbGV0IGFjdGlvbiA9IGNyZWF0ZVZlY3RvcigpO1xuICAgICAgICBhY3Rpb24ueCA9IDAuMDE7XG4gICAgICAgIGFjdGlvbi55ID0gcmFuZG9tKC10aGlzLm1heGZvcmNlLCB0aGlzLm1heGZvcmNlKVxuICAgICAgICB0aGlzLnN0ZXAoYWN0aW9uKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIERyYXcgdGhlIHNlZWtlclxuICAgICAgICBsZXQgdGhldGEgPSB0aGlzLnZlbG9jaXR5LmhlYWRpbmcoKSArIFBJIC8gMjtcbiAgICAgICAgZmlsbCgxMjcpO1xuICAgICAgICBzdHJva2UoMjAwKTtcbiAgICAgICAgc3Ryb2tlV2VpZ2h0KDEpO1xuICAgICAgICBwdXNoKCk7XG4gICAgICAgIHRyYW5zbGF0ZSh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgIHJvdGF0ZSh0aGV0YSk7XG4gICAgICAgIGJlZ2luU2hhcGUoKTtcbiAgICAgICAgdmVydGV4KDAsIC10aGlzLnIgKiAyKTtcbiAgICAgICAgdmVydGV4KC10aGlzLnIsIHRoaXMuciAqIDIpO1xuICAgICAgICB2ZXJ0ZXgodGhpcy5yLCB0aGlzLnIgKiAyKTtcbiAgICAgICAgZW5kU2hhcGUoQ0xPU0UpO1xuICAgICAgICBwb3AoKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSB0YXJnZXRzXG4gICAgICAgIHRoaXMudGFyZ2V0LmRpc3BsYXkoKTtcbiAgICB9XG5cbn1cblxuLy8gQSBjbGFzcyBmb3IgYW4gdGFyZ2V0LCBqdXN0IGEgc2ltcGxlIHJlY3RhbmdsZSB0aGF0IGlzIGRyYXduXG4vLyBhbmQgY2FuIGNoZWNrIGlmIGEgUm9ja2V0IHRvdWNoZXMgaXRcbi8vIE1vZGlmaWVkIGZyb20gVGhlIE5hdHVyZSBvZiBDb2RlLCBEYW5pZWwgU2hpZmZtYW5cbmNsYXNzIHRhcmdldCB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKHgsIHkpO1xuICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICB0aGlzLmggPSBoO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKSB7XG4gICAgICAgIHN0cm9rZSgwKTtcbiAgICAgICAgZmlsbCgxNzUpO1xuICAgICAgICBzdHJva2VXZWlnaHQoMik7XG4gICAgICAgIHJlY3RNb2RlKENPUk5FUik7XG4gICAgICAgIHJlY3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHRoaXMudywgdGhpcy5oKTtcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5wb3NpdGlvbi54ICsgdGhpcy53IC8gMiwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oIC8gMik7XG4gICAgfVxuXG4gICAgY29udGFpbnMoc3BvdCkge1xuICAgICAgICBpZiAoc3BvdC54ID4gdGhpcy5wb3NpdGlvbi54ICYmIHNwb3QueCA8IHRoaXMucG9zaXRpb24ueCArIHRoaXMudyAmJiBzcG90LnkgPiB0aGlzLnBvc2l0aW9uLnkgJiYgc3BvdC55IDwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIvLyBTZWVrICYgQXZvaWQgQ29udGludW91cyBFbnZpcm9ubWVudCAgXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlZWtBdm9pZENvbnRpbnVvdXNWMCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFxuICAgICAgICAvLyBwYXJhbWV0ZXJzIGZvciBzZWVrZXJcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBjcmVhdGVWZWN0b3IoMCwgMCk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBjcmVhdGVWZWN0b3IoMCwgMCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjcmVhdGVWZWN0b3IoMCwgMCk7XG4gICAgICAgIHRoaXMuciA9IDY7XG4gICAgICAgIHRoaXMubWF4c3BlZWQgPSAxO1xuICAgICAgICB0aGlzLm1heGZvcmNlID0gMC4yO1xuXG4gICAgICAgIC8vIHBhcmFtZXRlcnMgZm9yIG9ic3RhY2xlXG4gICAgICAgIHRoaXMub2JzdGFjbGVXaWR0aCA9IDEwO1xuICAgICAgICB0aGlzLm9ic3RhY2xlSGVpZ2h0ID0gaGVpZ2h0LzI7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9ic3RhY2xlXzEgPSBuZXcgT2JzdGFjbGUod2lkdGgvMywgaGVpZ2h0LzgsIHRoaXMub2JzdGFjbGVXaWR0aCwgdGhpcy5vYnN0YWNsZUhlaWdodCk7XG4gICAgICAgIHRoaXMub2JzdGFjbGVfMiA9IG5ldyBPYnN0YWNsZSh3aWR0aCoyLzMsIGhlaWdodCozLzgsIHRoaXMub2JzdGFjbGVXaWR0aCwgdGhpcy5vYnN0YWNsZUhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gMjA7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IGhlaWdodC8yO1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuICAgICAgICB0aGlzLnZlbG9jaXR5Lm11bHQoMCk7XG5cbiAgICB9XG5cbiAgICBzdGVwKGFjdGlvbikge1xuXG4gICAgICAgIC8vIGFwcGx5IGZvcmNlXG4gICAgICAgIGxldCByZWFsX2FjdGlvbiA9IGNyZWF0ZVZlY3RvcigwLjAxLCBhY3Rpb25bMF0pO1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5hZGQocmVhbF9hY3Rpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHZlbG9jaXR5XG4gICAgICAgIHRoaXMudmVsb2NpdHkuYWRkKHRoaXMuYWNjZWxlcmF0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExpbWl0IHNwZWVkXG4gICAgICAgIHRoaXMudmVsb2NpdHkubGltaXQodGhpcy5tYXhzcGVlZCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgYWNjZWxlcmF0aW9uIHRvIDAgZWFjaCBjeWNsZVxuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuXG4gICAgICAgIGNvbnN0IGluZm8gPSBbdGhpcy5yZXdhcmQoKSwgdGhpcy5pc0RvbmUoKV07XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIFxuICAgIH0gXG5cbiAgICBpc0RvbmUoKSB7XG4gICAgICAgIGlmKHRoaXMucG9zaXRpb24ueCA8IDAgfHwgdGhpcy5wb3NpdGlvbi54ID4gd2lkdGggfHwgdGhpcy5wb3NpdGlvbi55IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnkgPiBoZWlnaHQgfHwgXG4gICAgICAgICAgICB0aGlzLm9ic3RhY2xlLmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZXtyZXR1cm4gZmFsc2U7fVxuICAgIH1cblxuICAgIHJld2FyZCgpIHtcbiAgICAgICAgLy8gcmV0dXJuIGRpc3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHdpZHRoLCBoZWlnaHQvMik7XG4gICAgICAgIGlmKHRoaXMucG9zaXRpb24ueCA8IDAgfHwgdGhpcy5wb3NpdGlvbi54ID4gd2lkdGggfHwgdGhpcy5wb3NpdGlvbi55IDwgMCB8fCB0aGlzLnBvc2l0aW9uLnkgPiBoZWlnaHQgfHwgXG4gICAgICAgICAgICB0aGlzLm9ic3RhY2xlXzEuY29udGFpbnModGhpcy5wb3NpdGlvbikgfHwgdGhpcy5vYnN0YWNsZV8yLmNvbnRhaW5zKHRoaXMucG9zaXRpb24pKXtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle3JldHVybiAwO31cbiAgICB9XG5cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnBvc2l0aW9uLngvd2lkdGgsIHRoaXMucG9zaXRpb24ueS9oZWlnaHRdO1xuICAgIH1cblxuICAgIHJhbmRvbVdhbGsoKSB7XG5cbiAgICAgICAgbGV0IGFjdGlvbiA9IGNyZWF0ZVZlY3RvcigpO1xuICAgICAgICBhY3Rpb24ueCA9IDAuMDE7XG4gICAgICAgIGFjdGlvbi55ID0gcmFuZG9tKC10aGlzLm1heGZvcmNlLCB0aGlzLm1heGZvcmNlKVxuICAgICAgICB0aGlzLnN0ZXAoYWN0aW9uKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgc2Vla2VyXG4gICAgICAgIC8vIGxldCB0aGV0YSA9IHRoaXMudmVsb2NpdHkuaGVhZGluZygpICsgUEkgLyAyO1xuICAgICAgICAvLyBmaWxsKDEyNyk7XG4gICAgICAgIC8vIHN0cm9rZSgyMDApO1xuICAgICAgICAvLyBzdHJva2VXZWlnaHQoMSk7XG4gICAgICAgIC8vIHB1c2goKTtcbiAgICAgICAgLy8gdHJhbnNsYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgLy8gcm90YXRlKHRoZXRhKTtcbiAgICAgICAgLy8gYmVnaW5TaGFwZSgpO1xuICAgICAgICAvLyB2ZXJ0ZXgoMCwgLXRoaXMuciAqIDIpO1xuICAgICAgICAvLyB2ZXJ0ZXgoLXRoaXMuciwgdGhpcy5yICogMik7XG4gICAgICAgIC8vIHZlcnRleCh0aGlzLnIsIHRoaXMuciAqIDIpO1xuICAgICAgICAvLyBlbmRTaGFwZShDTE9TRSk7XG4gICAgICAgIC8vIHBvcCgpO1xuXG4gICAgICAgIGZpbGwoMTI3KTtcbiAgICAgICAgcmVjdCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgMjAsIDIwKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSBvYnN0YWNsZXNcbiAgICAgICAgdGhpcy5vYnN0YWNsZV8xLmRpc3BsYXkoKTtcbiAgICAgICAgdGhpcy5vYnN0YWNsZV8yLmRpc3BsYXkoKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSB0YXJnZXRcbiAgICAgICAgZmlsbCgyNTUsIDAsIDApO1xuICAgICAgICByZWN0KHdpZHRoKjcvOCwgaGVpZ2h0LzIsIDIwLCAyMCk7IFxuICAgIH1cblxufVxuXG4vLyBBIGNsYXNzIGZvciBhbiBvYnN0YWNsZSwganVzdCBhIHNpbXBsZSByZWN0YW5nbGUgdGhhdCBpcyBkcmF3blxuLy8gYW5kIGNhbiBjaGVjayBpZiBhIFJvY2tldCB0b3VjaGVzIGl0XG4vLyBNb2RpZmllZCBmcm9tIFRoZSBOYXR1cmUgb2YgQ29kZSwgRGFuaWVsIFNoaWZmbWFuXG5cbmNsYXNzIE9ic3RhY2xlIHtcbiAgXG4gICAgY29uc3RydWN0b3IoeCwgeSwgdywgaCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKHgsIHkpO1xuICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICB0aGlzLmggPSBoO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKSB7XG4gICAgICAgIHN0cm9rZSgwKTtcbiAgICAgICAgZmlsbCgxNzUpO1xuICAgICAgICBzdHJva2VXZWlnaHQoMik7XG4gICAgICAgIHJlY3RNb2RlKENPUk5FUik7XG4gICAgICAgIHJlY3QodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHRoaXMudywgdGhpcy5oKTtcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5wb3NpdGlvbi54ICsgdGhpcy53IC8gMiwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oIC8gMik7XG4gICAgfVxuXG4gICAgY29udGFpbnMoc3BvdCkge1xuICAgICAgICBpZiAoc3BvdC54ID4gdGhpcy5wb3NpdGlvbi54ICYmIHNwb3QueCA8IHRoaXMucG9zaXRpb24ueCArIHRoaXMudyAmJiBzcG90LnkgPiB0aGlzLnBvc2l0aW9uLnkgJiYgc3BvdC55IDwgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXlEaXNjcmV0ZVYwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IDUwMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSA1MDA7XG5cbiAgICAgICAgLy8gcGFyYW1ldGVycyBmb3Igc2Vla2VyXG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKHRoaXMud2lkdGgvMiwgdGhpcy5oZWlnaHQvMik7XG4gICAgICAgIHRoaXMuciA9IDY7XG4gICAgICAgIHRoaXMubWF4c3BlZWQgPSAyO1xuICAgXG4gICAgICAgIHRoaXMubWF4TGVuZ3RoID0gMjAwMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMucGF0aCA9IFtdO1xuXG4gICAgICAgIHRoaXMubnVtRmVhdHVyZXMgPSA0O1xuICAgICAgICB0aGlzLm51bUFjdGlvbnMgPSA0O1xuXG4gICAgICAgIHRoaXMuc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RlcHMgPSAwO1xuXG4gICAgICAgIHRoaXMuZGFuZ2VyWm9uZSA9IG5ldyB0YXJnZXQocmFuZG9tKHRoaXMud2lkdGgvMiksIHJhbmRvbSh0aGlzLmhlaWdodC8yKSwgdGhpcy53aWR0aC8yLCB0aGlzLmhlaWdodC8yKTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIC8vIHRoaXMucG9zaXRpb24ueCA9IHdpZHRoLzI7XG4gICAgICAgIC8vIHRoaXMucG9zaXRpb24ueSA9IGhlaWdodC8yO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5tdWx0KDApO1xuICAgICAgICB0aGlzLnN0ZXBzID0gMDtcbiAgICB9XG5cbiAgICBzdGVwKGFjdGlvbikge1xuICAgICAgICBcbiAgICAgICAgLy8gYXBwbHkgZm9yY2VcbiAgICAgICAgbGV0IGZvcmNlWCA9IDA7XG4gICAgICAgIGxldCBmb3JjZVkgPSAwO1xuXG4gICAgICAgIGlmKGFjdGlvbiA9PSAwKXtmb3JjZVggPSAtMC4wMDE7fVxuICAgICAgICBlbHNlIGlmKGFjdGlvbiA9PSAxKXtmb3JjZVg9IDAuMDAxO31cbiAgICAgICAgZWxzZSBpZihhY3Rpb24gPT0gMil7Zm9yY2VZID0gLTAuMDAxO31cbiAgICAgICAgZWxzZSBpZihhY3Rpb24gPT0gMyl7Zm9yY2VZID0gMC4wMDE7fSBcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLmFkZChmb3JjZVgsIGZvcmNlWSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdmVsb2NpdHlcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gTGltaXQgc3BlZWRcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5saW1pdCh0aGlzLm1heHNwZWVkKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xuXG4gICAgICAgIGlmKHRoaXMucG9zaXRpb24ueCA8IDApe1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gMDtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkubXVsdCgtMSk7XG4gICAgICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0aGlzLnBvc2l0aW9uLnggPj0gdGhpcy53aWR0aCl7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5tdWx0KC0xKTtcbiAgICAgICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLm11bHQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5wb3NpdGlvbi55IDw9IDApe1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gMDtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkubXVsdCgtMSk7XG4gICAgICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYodGhpcy5wb3NpdGlvbi55ID4gdGhpcy5oZWlnaHQpe1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5Lm11bHQoLTEpO1xuICAgICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ubXVsdCgwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgYWNjZWxlcmF0aW9uIHRvIDAgZWFjaCBjeWNsZVxuICAgICAgICAvLyB0aGlzLmFjY2VsZXJhdGlvbi5tdWx0KDApO1xuXG4gICAgICAgIHRoaXMuaW5kZXggKz0gMTtcbiAgICAgICAgaWYodGhpcy5pbmRleCA8IHRoaXMubWF4TGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKFt0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICB0aGlzLnBhdGhbdGhpcy5pbmRleCAlIHRoaXMubWF4TGVuZ3RoXSA9IFt0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZXBzICs9IDE7XG5cbiAgICAgICAgY29uc3QgaW5mbyA9IFt0aGlzLnJld2FyZCgpLCB0aGlzLmlzRG9uZSgpLCB0aGlzLnN1Y2Nlc3NdO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9IFxuXG4gICAgaXNEb25lKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIGlmKHRoaXMuc3RlcHMgPiA1MDApe1xuICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZWxzZXtyZXR1cm4gZmFsc2U7fVxuICAgIH1cblxuICAgIHJld2FyZCgpIHtcbiAgICAgICAgLy8gaWYodGhpcy5wb3NpdGlvbi54IDwgd2lkdGgvMiAmJiB0aGlzLnBvc2l0aW9uLnkgPCBoZWlnaHQvMil7XG4gICAgICAgIGlmKHRoaXMuZGFuZ2VyWm9uZS5jb250YWlucyh0aGlzLnBvc2l0aW9uKSl7XG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdGF0ZVRlbnNvcigpIHtcbiAgICAgICAgcmV0dXJuIHRmLnRlbnNvcjJkKFtbZmxvb3IodGhpcy5wb3NpdGlvbi54KS90aGlzLndpZHRoLCBmbG9vcih0aGlzLnBvc2l0aW9uLnkpL3RoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS54LCB0aGlzLnZlbG9jaXR5LnldXSk7XG4gICAgfVxuXG4gICAgcmFuZG9tV2FsaygpIHtcbiAgICBcdGxldCBhY3Rpb247XG4gICAgICAgIGlmKHJhbmRvbSgpIDwgMC41KXthY3Rpb24gPSAwO31cbiAgICAgICAgZWxzZXthY3Rpb24gPSAxO31cbiAgICAgICAgdGhpcy5zdGVwKGFjdGlvbik7XG4gICAgICAgIGlmKHRoaXMuaXNEb25lKCkpe3RoaXMucmVzZXQoKTt9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvLyBkcmF3IHRoZSBwYXRoXG4gICAgICAgIGZpbGwoMjAwKTtcbiAgICAgICAgbm9TdHJva2UoKTtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5wYXRoLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNpcmNsZSh0aGlzLnBhdGhbaV1bMF0sIHRoaXMucGF0aFtpXVsxXSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkcmF3IHRoZSBhZ2VudFxuICAgICAgICBub1N0cm9rZSgpO1xuICAgICAgICBmaWxsKDI1NSwgMCwgMCk7XG4gICAgICAgIGNpcmNsZSh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgNik7XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgZGFuZ2VyIHpvbmVcbiAgICAgICAgdGhpcy5kYW5nZXJab25lLmRpc3BsYXkoKTtcblxuICAgICAgICAvL2RyYXcgYm91bmRhcnlcbiAgICAgICAgc3Ryb2tlKDI1NSk7XG4gICAgICAgIG5vRmlsbCgpO1xuICAgICAgICByZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9IFxufVxuXG4vLyBBIGNsYXNzIGZvciBhbiB0YXJnZXQsIGp1c3QgYSBzaW1wbGUgcmVjdGFuZ2xlIHRoYXQgaXMgZHJhd25cbi8vIGFuZCBjYW4gY2hlY2sgaWYgYSBSb2NrZXQgdG91Y2hlcyBpdFxuLy8gTW9kaWZpZWQgZnJvbSBUaGUgTmF0dXJlIG9mIENvZGUsIERhbmllbCBTaGlmZm1hblxuY2xhc3MgdGFyZ2V0IHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjcmVhdGVWZWN0b3IoeCwgeSk7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgfVxuXG4gICAgZGlzcGxheSgpIHtcbiAgICAgICAgLy8gc3Ryb2tlKDApO1xuICAgICAgICBmaWxsKDEwMCwgMTAwKTtcbiAgICAgICAgLy8gc3Ryb2tlV2VpZ2h0KDIpO1xuICAgICAgICAvLyByZWN0TW9kZShDT1JORVIpO1xuICAgICAgICByZWN0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCB0aGlzLncsIHRoaXMuaCk7XG4gICAgfVxuXG4gICAgZ2V0Q2VudGVyKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlVmVjdG9yKHRoaXMucG9zaXRpb24ueCArIHRoaXMudyAvIDIsIHRoaXMucG9zaXRpb24ueSArIHRoaXMuaCAvIDIpO1xuICAgIH1cblxuICAgIGNvbnRhaW5zKHNwb3QpIHtcbiAgICAgICAgaWYgKHNwb3QueCA+IHRoaXMucG9zaXRpb24ueCAmJiBzcG90LnggPCB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLncgJiYgc3BvdC55ID4gdGhpcy5wb3NpdGlvbi55ICYmIHNwb3QueSA8IHRoaXMucG9zaXRpb24ueSArIHRoaXMuaCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gUkw1LmpzXG4vLyBBdXRob3I6IFJvZGdlciBMdW9cbi8vIFN1bW1lciAyMDE5XG5cbi8vIGltcG9ydCBhbGwgdGhlIFJMIHBvbGljaWVzXG5pbXBvcnQgUkVJTkZPUkNFIGZyb20gJy4vcG9saWNpZXMvcmVpbmZvcmNlLmpzJ1xuaW1wb3J0IFRhYnVsYXJRIGZyb20gJy4vcG9saWNpZXMvdGFidWxhcl9xLmpzJ1xuaW1wb3J0IEREUEdBZ2VudCBmcm9tICcuL3BvbGljaWVzL2RkcGcvZGRwZ19hZ2VudC5qcydcblxuLy8gaW1wb3J0IGFsbCB0aGUgcHJlLWRlZmluZWQgZW52cyBcbmltcG9ydCBDYXJ0UG9sZVYwIGZyb20gJy4vZW52cy9jYXJ0X3BvbGUuanMnXG5pbXBvcnQgU2Vla1RhcmdldERpc2NyZXRlVjAgZnJvbSAnLi9lbnZzL2Rpc2NyZXRlL3NlZWtfdGFyZ2V0LmpzJ1xuaW1wb3J0IEF2b2lkT2JzdGFjbGVzVjAgZnJvbSAnLi9lbnZzL2Rpc2NyZXRlL2F2b2lkX29ic3RhY2xlcy5qcydcbmltcG9ydCBHcmlkV29ybGQxRFYwIGZyb20gJy4vZW52cy9ncmlkX3dvcmxkXzFkLmpzJ1xuaW1wb3J0IEF2b2lkT2JzdGFjbGVzQ29udGludW91c1YwIGZyb20gJy4vZW52cy9jb250aW51b3VzL2F2b2lkX29ic3RhY2xlcy5qcydcbmltcG9ydCBTZWVrVGFyZ2V0Q29udGludW91c1YwIGZyb20gJy4vZW52cy9jb250aW51b3VzL3NlZWtfdGFyZ2V0LmpzJ1xuaW1wb3J0IFBlbmR1bHVtVjAgZnJvbSAnLi9lbnZzL3BlbmR1bHVtLmpzJ1xuaW1wb3J0IFNlZWtBdm9pZENvbnRpbnVvdXNWMCBmcm9tICcuL2VudnMvY29udGludW91cy9zZWVrX2F2b2lkLmpzJyBcblxuaW1wb3J0IFN0YXlEaXNjcmV0ZVYwIGZyb20gJy4vZW52cy9kaXNjcmV0ZS9zdGF5LmpzJ1xuXG5jb25zdCBlbnZzTGlzdCA9IHtcblx0XHRcdFx0XHRcIkNhcnRQb2xlLXYwXCI6IENhcnRQb2xlVjAsIFxuXHRcdFx0XHRcdFwiU2Vla1RhcmdldERpc2NyZXRlLXYwXCI6IFNlZWtUYXJnZXREaXNjcmV0ZVYwLCBcblx0XHRcdFx0XHRcIkF2b2lkT2JzdGFjbGVzLXYwXCI6IEF2b2lkT2JzdGFjbGVzVjAsXG4gICAgICAgICAgICAgICAgICAgIFwiR3JpZFdvcmxkMUQtdjBcIjogR3JpZFdvcmxkMURWMCxcbiAgICAgICAgICAgICAgICAgICAgXCJBdm9pZE9ic3RhY2xlc0NvbnRpbm91cy12MFwiOiBBdm9pZE9ic3RhY2xlc0NvbnRpbnVvdXNWMCxcbiAgICAgICAgICAgICAgICAgICAgXCJTZWVrVGFyZ2V0Q29udGludW91cy12MFwiOiBTZWVrVGFyZ2V0Q29udGludW91c1YwLFxuICAgICAgICAgICAgICAgICAgICBcIlBlbmR1bHVtLXYwXCI6IFBlbmR1bHVtVjAsXG4gICAgICAgICAgICAgICAgICAgIFwiU2Vla0F2b2lkQ29udGlub3VzLXYwXCI6IFNlZWtBdm9pZENvbnRpbnVvdXNWMCxcbiAgICAgICAgICAgICAgICAgICAgXCJTdGF5LXYwXCI6IFN0YXlEaXNjcmV0ZVYwXG5cdFx0XHRcdCAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50SW5mbygpe1xuXHRjb25zb2xlLmxvZyhcIlRoaXMgaXMgYSByZWluZm9yY2VtZW50IGxlYXJuaW5nIGxpYnJhcnkgZm9yIHA1LmpzLlwiKTtcbn0gXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBZ2VudChuYW1lLCBlbnYsIGNvbmZpZyl7ICAgIFxuICAgIGlmKG5hbWUgPT0gXCJSRUlORk9SQ0VcIil7XG4gICAgICAgIHJldHVybiBuZXcgUkVJTkZPUkNFKGVudiwgY29uZmlnKTtcbiAgICB9XG4gICAgZWxzZSBpZihuYW1lID09IFwiVGFidWxhclFcIil7XG4gICAgICAgIHJldHVybiBuZXcgVGFidWxhclEoZW52LCBjb25maWcpO1xuICAgIH1cbiAgICBlbHNlIGlmKG5hbWUgPT0gXCJERFBHXCIpe1xuICAgICAgICByZXR1cm4gbmV3IEREUEdBZ2VudChlbnYsIGNvbmZpZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSBwb2xpY3kgZG9lc24ndCBleGlzdCBpbiB0aGlzIGxpYnJhcnkuIFBsZWFzZSBjaG9vc2UgYW5vdGhlciBvbmUuXCIpO1xuICAgIH1cbn1cblxuLy8gZXZhbHVhdGUgYSBwb2xpY3kgLSBpdCBzaG91bGQgYmUgdW5pdmVyc2FsIFxuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlKHBvbGljeSl7XG4gICAgaWYocG9saWN5Lm5hbWUgPT0gXCJSRUlORk9SQ0VcIil7XG4gICAgICAgIHRmLnRpZHkoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gcG9saWN5LmdldEFjdGlvbnMoZW52LmdldFN0YXRlVGVuc29yKCkpWzBdO1xuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGVudi5zdGVwKGFjdGlvbik7XG4gICAgICAgICAgICBjb25zdCBpc0RvbmUgPSBpbmZvWzFdO1xuICAgICAgICAgICAgaWYoaXNEb25lKSB7ZW52LnJlc2V0KCk7fVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihwb2xpY3kuY29uZmlnW1wibmFtZVwiXSA9PSBcIlRhYnVsYXJRXCIpe1xuICAgICAgICAvLyB0by1kbzogbWFrZSBpdCBzdGFydCBmcm9tIHRoZSBvcmlnaW5hbCwgbm90IG9uZSBzdGVwIGFmdGVyIFxuICAgICAgICBmcmFtZVJhdGUoMSk7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHBvbGljeS5jaG9vc2VBY3Rpb24oZW52LmdldFN0YXRlKCksIHBvbGljeS5xVGFibGUsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgaW5mbyA9IGVudi5zdGVwKGFjdGlvbik7XG4gICAgICAgIGNvbnN0IGlzRG9uZSA9IGluZm9bMV07XG4gICAgICAgIGlmKGlzRG9uZSkge2Vudi5yZXNldCgpO30gXG4gICAgfVxuICAgIGVsc2UgaWYocG9saWN5LmNvbmZpZ1tcIm5hbWVcIl0gPT0gXCJERFBHXCIpe1xuICAgICAgICBwb2xpY3kuZXZhbHVhdGUoKTtcbiAgICB9XG59XG5cbi8vIGluaXRpYWxpemUgYSBwcmUtZGVmaW5lZCBSTCBlbnZpcm9ubWVudCBcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbnYoZW52TmFtZSl7XG4gICAgY29uc3QgbGlzdFNpemUgPSBPYmplY3Qua2V5cyhlbnZzTGlzdCkubGVuZ3RoO1xuICAgIGlmKGVudnNMaXN0Lmhhc093blByb3BlcnR5KGVudk5hbWUpKXtcbiAgICBcdHJldHVybiBuZXcgZW52c0xpc3RbZW52TmFtZV0oKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgY29uc29sZS5sb2coXCJUaGlzIGVudiBkb2Vzbid0IGV4aXN0IVwiKTtcbiAgICB9XG59XG5cbi8vIGxvYWQgYSBtb2RlbCBmcm9tIEluZGV4ZWREQiBvciBhIHRhYmxlIFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRNb2RlbChhZ2VudCwgbW9kZWxOYW1lKXtcbiAgICBpZihhZ2VudC5uYW1lID09IFwiUkVJTkZPUkNFXCIpe1xuICAgICAgICBjb25zdCBtb2RlbHNJbmZvID0gYXdhaXQgdGYuaW8ubGlzdE1vZGVscygpO1xuICAgICAgICBtb2RlbE5hbWUgPSBcImluZGV4ZWRkYjovL1wiICsgbW9kZWxOYW1lO1xuICAgICAgICBpZiAobW9kZWxOYW1lIGluIG1vZGVsc0luZm8pIHtcbiAgICAgICAgXHRjb25zdCBtb2RlbCA9IGF3YWl0IHRmLmxvYWRMYXllcnNNb2RlbChtb2RlbE5hbWUpO1xuICAgICAgICBcdGNvbnNvbGUubG9nKGBMb2FkZWQgbW9kZWwgZnJvbSAke21vZGVsTmFtZX1gKTtcbiAgICAgICAgXHRhZ2VudC5tb2RlbCA9IG1vZGVsO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgXHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIG1vZGVsIGF0ICR7bW9kZWxQYXRofS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmKGFnZW50Lm5hbWUgPT0gXCJUYWJ1bGFyUVwiKXtcbiAgICAgICAgYWdlbnQucVRhYmxlID0gYXdhaXQgbG9hZFRhYmxlKG1vZGVsTmFtZSArICcuY3N2Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBMb2FkZWQgbW9kZWwgZnJvbSAke21vZGVsTmFtZX1gKTtcbiAgICB9XG59XG5cbi8vIHJldHVybiB0aGUgaW5mb3JtYXRpb24gb2YgYWxsIHRoZSBzYXZlZCBtb2RlbHMgaW4gdGhlIGJyb3dzZXIgXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tNb2RlbHMoKXtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShhd2FpdCB0Zi5pby5saXN0TW9kZWxzKCkpICsgXCJcXG5cXG5cIik7XG59XG5cbi8vIHJldHVybiB0aGUgaW5mb3JtYXRpb24gb2Ygb25lIHBhcnRpY3VsYXIgbW9kZWwgZ2l2ZW4gdGhlIG1vZGVsIHBhdGhcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja09uZU1vZGVsKG1vZGVsUGF0aCkge1xuICAgIGNvbnN0IG1vZGVsc0luZm8gPSBhd2FpdCB0Zi5pby5saXN0TW9kZWxzKCk7XG4gICAgaWYobW9kZWxzSW5mb1ttb2RlbFBhdGhdID09IHVuZGVmaW5lZCl7XG4gICAgXHRjb25zb2xlLmxvZyhcIlRoZSBwYXRoIGlzIGludmFsaWQuXFxuXFxuXCIpO1xuICAgIH0gXG4gICAgZWxzZXtcbiAgICBcdGNvbnNvbGUubG9nKG1vZGVsc0luZm9bbW9kZWxQYXRoXSk7XG5cdH1cbn1cblxuLy8gcmVtb3ZlIGEgbW9kZWwgZnJvbSBpbmRleERCIG9yIGxvY2FsIHN0b3JhZ2UgXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlT25lTW9kZWwobW9kZWxOYW1lKXtcbiAgICBjb25zdCBtb2RlbHNJbmZvID0gYXdhaXQgdGYuaW8ubGlzdE1vZGVscygpO1xuICAgIGlmKG1vZGVsc0luZm9bbW9kZWxOYW1lXSA9PSB1bmRlZmluZWQpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSBtb2RlbCBkb2Vzbid0IGV4aXN0LlxcblxcblwiKTtcbiAgICB9IFxuICAgIGVsc2V7XG4gICAgICAgIGF3YWl0IHRmLmlvLnJlbW92ZU1vZGVsKG1vZGVsTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTW9kZWwgXCIgKyBtb2RlbE5hbWUgKyBcImhhcyBiZWVuIHJlbW92ZWQuXFxuXFxuXCIpO1xuICAgIH1cbn1cblxuLy8gdHJhaW4gdGhlIHBvbGljeSBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFpbihhZ2VudCl7XG4gICAgY29uc29sZS5sb2coYWdlbnQuY29uZmlnW1wibmFtZVwiXSArIFwiIHRyYWluaW5nIHN0YXJ0c1wiKTtcbiAgICBpZihhZ2VudC5jb25maWdbXCJuYW1lXCJdID09IFwiRERQR1wiKXtcbiAgICAgICAgYWdlbnQudHJhaW4oKTtcbiAgICB9XG4gICAgZWxzZSBpZihhZ2VudC5jb25maWdbXCJuYW1lXCJdID09IFwiVGFidWxhclFcIiB8fCBhZ2VudC5jb25maWdbXCJuYW1lXCJdID09IFwiUkVJTkZPUkNFXCIpe1xuICAgICAgICBsZXQgY29uc2VjdXRpdmVTdWNjZXNzID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFnZW50LmNvbmZpZ1tcInRyYWluSXRlcmF0aW9uc1wiXTsgKytpKXtcbiAgICAgICAgICAgIGlmKGFnZW50LnN0b3BUcmFpbmluZyl7YnJlYWs7fVxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IGFnZW50LnRyYWluKCk7XG5cbiAgICAgICAgICAgIGlmKGluZm9bMl0pe2NvbnNlY3V0aXZlU3VjY2VzcyArPSAxO31cbiAgICAgICAgICAgIGVsc2V7Y29uc2VjdXRpdmVTdWNjZXNzID0gMDt9XG4gICAgICAgICAgICBpbmZvWzJdID0gY29uc2VjdXRpdmVTdWNjZXNzO1xuXG4gICAgICAgICAgICBpZihpbmZvICE9IHVuZGVmaW5lZCl7IFxuICAgICAgICAgICAgICAgIGFnZW50LnN0b3BUcmFpbmluZyA9IF9pc0RvbmUoaW5mbywgYWdlbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSAgICAgIFxufVxuXG4vLyBzYXZlIHRoZSBtb2RlbCBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlTW9kZWwobW9kZWwsIG1vZGVsU2F2ZVBhdGgpe1xuICAgIGF3YWl0IG1vZGVsLnNhdmUobW9kZWxTYXZlUGF0aCk7XG59XG5cbmZ1bmN0aW9uIF9pc0RvbmUoaW5mbywgYWdlbnQsIGVwaXNvZGVzKXtcbiAgICBjb25zdCBlbmRpbmdDcml0ZXJpYSA9IHtcbiAgICAgICAgXCJyZXdhcmRzXCI6IHVuZGVmaW5lZCwgXG4gICAgICAgIFwic3RlcHNcIjogdW5kZWZpbmVkLFxuICAgICAgICBcImVwaXNvZGVzXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgXCJjb25zZWN1dGl2ZVN1Y2Nlc3NcIjogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIGNvbnN0IGVuZGluZ0NvbmRpdGlvbiA9IGFnZW50LmNvbmZpZ1tcImVuZGluZ0NvbmRpdGlvblwiXTtcbiAgICBcbiAgICBlbmRpbmdDcml0ZXJpYVtcInJld2FyZHNcIl0gPSBpbmZvWzBdO1xuICAgIGVuZGluZ0NyaXRlcmlhW1wic3RlcHNcIl0gPSBpbmZvWzFdO1xuICAgIGVuZGluZ0NyaXRlcmlhW1wiY29uc2VjdXRpdmVTdWNjZXNzXCJdID0gaW5mb1syXTtcbiAgICBlbmRpbmdDcml0ZXJpYVtcImVwaXNvZGVzXCJdID0gZXBpc29kZXM7XG4gICAgXG4gICAgLy8gZGVjaWRlIHdoaWNoIGVuZGluZyBjcml0ZXJpb24gdG8gdXNlIFxuICAgIGNvbnN0IGVuZGluZ0tleSA9IE9iamVjdC5rZXlzKGVuZGluZ0NvbmRpdGlvbilbMF07XG5cbiAgICBpZihlbmRpbmdDcml0ZXJpYS5oYXNPd25Qcm9wZXJ0eShlbmRpbmdLZXkpKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcGlzb2RlczogXCIgKyBlcGlzb2Rlcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG90YWwgcmV3YXJkczogXCIgKyBpbmZvWzBdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJUb3RhbCBzdGVwczogXCIgKyBpbmZvWzFdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25zZWN1dGl2ZSBzdWNjZXNzIFwiICsgaW5mb1syXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiIFwiKTtcblxuICAgICAgICBpZigoZW5kaW5nQ29uZGl0aW9uW1wiY29uZGl0aW9uXCJdID09IFwibW9yZVwiICYmIGVuZGluZ0NyaXRlcmlhW2VuZGluZ0tleV0gPj0gZW5kaW5nQ29uZGl0aW9uW2VuZGluZ0tleV0pIHx8XG4gICAgICAgIChlbmRpbmdDb25kaXRpb25bXCJjb25kaXRpb25cIl0gPT0gXCJsZXNzXCIgJiYgZW5kaW5nQ3JpdGVyaWFbZW5kaW5nS2V5XSA8PSBlbmRpbmdDb25kaXRpb25bZW5kaW5nS2V5XSkpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWluaW5nIGZpbmlzaGVkXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGFydCBldmFsdWF0aW9uXCIpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBzYXZlIG1vZGVsc1xuICAgICAgICAgICAgaWYoYWdlbnQuY29uZmlnW1wic2F2ZU1vZGVsXCJdKXtcbiAgICAgICAgICAgICAgICBpZihhZ2VudC5jb25maWdbXCJuYW1lXCJdID09IFwiUkVJTkZPUkNFXCIpe1xuICAgICAgICAgICAgICAgICAgICBybDUuc2F2ZU1vZGVsKGFnZW50Lm1vZGVsLCBhZ2VudC5jb25maWdbXCJzYXZlTW9kZWxQYXRoXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb2RlbCBzYXZlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihhZ2VudC5jb25maWdbXCJuYW1lXCJdID09IFwiVGFidWxhclFcIil7XG4gICAgICAgICAgICAgICAgICAgIHNhdmVUYWJsZShhZ2VudC5xVGFibGUsIGFnZW50LmNvbmZpZ1tcIm1vZGVsTmFtZVwiXSArIFwiLmNzdlwiKTsgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTW9kZWwgc2F2ZWQgYXMgXCIgKyBhZ2VudC5jb25maWdbXCJtb2RlbE5hbWVcIl0pOyAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGlzIGFsZ29yaXRobSBkb2Vzbid0IHN1cHBvcnQgc2F2aW5nIG1vZGVsIVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICB0aHJvdyhcIltybDVdOiBUaGUgZW5kaW5nIGNvbmRpdGlvbiBkb2Vzbid0IGV4aXN0IVwiKTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FydFBvbGVWMCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBvZiBDYXJ0UG9sZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIENvbnN0YW50cyB0aGF0IGNoYXJhY3Rlcml6ZSB0aGUgc3lzdGVtLlxuICAgIHRoaXMuZ3Jhdml0eSA9IDkuODtcbiAgICB0aGlzLm1hc3NDYXJ0ID0gMS4wO1xuICAgIHRoaXMubWFzc1BvbGUgPSAwLjE7XG4gICAgdGhpcy50b3RhbE1hc3MgPSB0aGlzLm1hc3NDYXJ0ICsgdGhpcy5tYXNzUG9sZTtcbiAgICB0aGlzLmNhcnRXaWR0aCA9IDAuMjtcbiAgICB0aGlzLmNhcnRIZWlnaHQgPSAwLjE7XG4gICAgdGhpcy5sZW5ndGggPSAwLjU7XG4gICAgdGhpcy5wb2xlTW9tZW50ID0gdGhpcy5tYXNzUG9sZSAqIHRoaXMubGVuZ3RoO1xuICAgIHRoaXMuZm9yY2VNYWcgPSAxMC4wO1xuICAgIHRoaXMudGF1ID0gMC4wMjsgIC8vIFNlY29uZHMgYmV0d2VlbiBzdGF0ZSB1cGRhdGVzLlxuXG4gICAgLy8gVGhyZXNob2xkIHZhbHVlcywgYmV5b25kIHdoaWNoIGEgc2ltdWxhdGlvbiB3aWxsIGJlIG1hcmtlZCBhcyBmYWlsZWQuXG4gICAgdGhpcy54VGhyZXNob2xkID0gMi40O1xuICAgIHRoaXMudGhldGFUaHJlc2hvbGQgPSAxMiAvIDM2MCAqIDIgKiBNYXRoLlBJO1xuXG4gICAgdGhpcy5udW1GZWF0dXJlcyA9IDQ7XG4gICAgdGhpcy5udW1BY3Rpb25zID0gMjtcblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBjYXJ0LXBvbGUgc3lzdGVtIHJhbmRvbWx5LlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgLy8gVGhlIGNvbnRyb2wtdGhlb3J5IHN0YXRlIHZhcmlhYmxlcyBvZiB0aGUgY2FydC1wb2xlIHN5c3RlbS5cbiAgICAvLyBDYXJ0IHBvc2l0aW9uLCBtZXRlcnMuXG4gICAgdGhpcy54ID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICAvLyBDYXJ0IHZlbG9jaXR5LlxuICAgIHRoaXMueERvdCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDE7XG4gICAgLy8gUG9sZSBhbmdsZSwgcmFkaWFucy5cbiAgICB0aGlzLnRoZXRhID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMiAqICg2IC8gMzYwICogMiAqIE1hdGguUEkpO1xuICAgIC8vIFBvbGUgYW5nbGUgdmVsb2NpdHkuXG4gICAgdGhpcy50aGV0YURvdCA9ICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgc3RhdGUgYXMgYSB0Zi5UZW5zb3Igb2Ygc2hhcGUgWzEsIDRdLlxuICAgKi9cbiAgZ2V0U3RhdGVUZW5zb3IoKSB7XG4gICAgcmV0dXJuIHRmLnRlbnNvcjJkKFtbdGhpcy54LCB0aGlzLnhEb3QsIHRoaXMudGhldGEsIHRoaXMudGhldGFEb3RdXSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYXJ0LXBvbGUgc3lzdGVtIHVzaW5nIGFuIGFjdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFjdGlvbiBPbmx5IHRoZSBzaWduIG9mIGBhY3Rpb25gIG1hdHRlcnMuXG4gICAqICAgQSB2YWx1ZSA+IDAgbGVhZHMgdG8gYSByaWdodHdhcmQgZm9yY2Ugb2YgYSBmaXhlZCBtYWduaXR1ZGUuXG4gICAqICAgQSB2YWx1ZSA8PSAwIGxlYWRzIHRvIGEgbGVmdHdhcmQgZm9yY2Ugb2YgdGhlIHNhbWUgZml4ZWQgbWFnbml0dWRlLlxuICAgKi9cbiAgc3RlcChhY3Rpb24pIHtcbiAgICBjb25zdCBmb3JjZSA9IGFjdGlvbiA+IDAgPyB0aGlzLmZvcmNlTWFnIDogLXRoaXMuZm9yY2VNYWc7XG5cbiAgICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKHRoaXMudGhldGEpO1xuICAgIGNvbnN0IHNpblRoZXRhID0gTWF0aC5zaW4odGhpcy50aGV0YSk7XG5cbiAgICBjb25zdCB0ZW1wID1cbiAgICAgICAgKGZvcmNlICsgdGhpcy5wb2xlTW9tZW50ICogdGhpcy50aGV0YURvdCAqIHRoaXMudGhldGFEb3QgKiBzaW5UaGV0YSkgL1xuICAgICAgICB0aGlzLnRvdGFsTWFzcztcbiAgICBjb25zdCB0aGV0YUFjYyA9ICh0aGlzLmdyYXZpdHkgKiBzaW5UaGV0YSAtIGNvc1RoZXRhICogdGVtcCkgL1xuICAgICAgICAodGhpcy5sZW5ndGggKlxuICAgICAgICAgKDQgLyAzIC0gdGhpcy5tYXNzUG9sZSAqIGNvc1RoZXRhICogY29zVGhldGEgLyB0aGlzLnRvdGFsTWFzcykpO1xuICAgIGNvbnN0IHhBY2MgPSB0ZW1wIC0gdGhpcy5wb2xlTW9tZW50ICogdGhldGFBY2MgKiBjb3NUaGV0YSAvIHRoaXMudG90YWxNYXNzO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBmb3VyIHN0YXRlIHZhcmlhYmxlcywgdXNpbmcgRXVsZXIncyBtZXRvaGQuXG4gICAgdGhpcy54ICs9IHRoaXMudGF1ICogdGhpcy54RG90O1xuICAgIHRoaXMueERvdCArPSB0aGlzLnRhdSAqIHhBY2M7XG4gICAgdGhpcy50aGV0YSArPSB0aGlzLnRhdSAqIHRoaXMudGhldGFEb3Q7XG4gICAgdGhpcy50aGV0YURvdCArPSB0aGlzLnRhdSAqIHRoZXRhQWNjO1xuXG4gICAgY29uc3QgaW5mbyA9IFt0aGlzLnJld2FyZCgpLCB0aGlzLmlzRG9uZSgpXTtcblxuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgc2ltdWxhdGlvbiBpcyBkb25lLlxuICAgKlxuICAgKiBBIHNpbXVsYXRpb24gaXMgZG9uZSB3aGVuIGB4YCAocG9zaXRpb24gb2YgdGhlIGNhcnQpIGdvZXMgb3V0IG9mIGJvdW5kXG4gICAqIG9yIHdoZW4gYHRoZXRhYCAoYW5nbGUgb2YgdGhlIHBvbGUpIGdvZXMgb3V0IG9mIGJvdW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbH0gV2hldGhlciB0aGUgc2ltdWxhdGlvbiBpcyBkb25lLlxuICAgKi9cbiAgaXNEb25lKCkge1xuICAgIHJldHVybiB0aGlzLnggPCAtdGhpcy54VGhyZXNob2xkIHx8IHRoaXMueCA+IHRoaXMueFRocmVzaG9sZCB8fFxuICAgICAgICB0aGlzLnRoZXRhIDwgLXRoaXMudGhldGFUaHJlc2hvbGQgfHwgdGhpcy50aGV0YSA+IHRoaXMudGhldGFUaHJlc2hvbGQ7XG4gIH1cblxuICByZXdhcmQoKSB7XG4gICAgaWYodGhpcy5pc0RvbmUoKSl7cmV0dXJuIDA7fVxuICAgIGVsc2Uge3JldHVybiAxO31cbiAgfVxuXG4gIHJlbmRlcigpIHtcblxuICAgIGNvbnN0IFhfTUlOID0gLXRoaXMueFRocmVzaG9sZDtcbiAgICBjb25zdCBYX01BWCA9IHRoaXMueFRocmVzaG9sZDtcbiAgICBjb25zdCB4UmFuZ2UgPSBYX01BWCAtIFhfTUlOO1xuICAgIGNvbnN0IHNjYWxlID0gd2lkdGggLyB4UmFuZ2U7XG5cbiAgICAvLyBEcmF3IHRoZSBjYXJ0LlxuICAgIGNvbnN0IHJhaWxZID0gaGVpZ2h0ICogMC44O1xuICAgIGNvbnN0IGNhcnRXID0gdGhpcy5jYXJ0V2lkdGggKiBzY2FsZTtcbiAgICBjb25zdCBjYXJ0SCA9IHRoaXMuY2FydEhlaWdodCAqIHNjYWxlO1xuXG4gICAgY29uc3QgY2FydFggPSB0aGlzLnggKiBzY2FsZSArIHdpZHRoLzI7XG5cbiAgICBcbiAgICBzdHJva2UoJyMwMDAwMDAnKTtcbiAgICBzdHJva2VXZWlnaHQoMSk7XG4gICAgZmlsbCgxMjcpO1xuICAgIHJlY3QoY2FydFggLSBjYXJ0VyAvIDIsIHJhaWxZIC0gY2FydEggLyAyLCBjYXJ0VywgY2FydEgpO1xuXG5cbiAgICAvL0RyYXcgdGhlIHdoZWVscyB1bmRlciB0aGUgY2FydC5cbiAgICBjb25zdCB3aGVlbFJhZGl1cyA9IGNhcnRIIC8gNDtcbiAgICBmb3IgKGNvbnN0IG9mZnNldFggb2YgWy0xLCAxXSkge1xuICAgICAgY2lyY2xlKGNhcnRYIC0gY2FydFcgLyA0ICogb2Zmc2V0WCwgcmFpbFkgKyBjYXJ0SCAvIDIgKyB3aGVlbFJhZGl1cywgd2hlZWxSYWRpdXMpO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIHBvbGUuXG4gICAgY29uc3QgYW5nbGUgPSB0aGlzLnRoZXRhICsgUEkgLyAyO1xuICAgIGNvbnN0IHBvbGVUb3BYID0gd2lkdGgvMiArIHNjYWxlICogKHRoaXMueCArIGNvcyhhbmdsZSkgKiB0aGlzLmxlbmd0aCk7XG4gICAgY29uc3QgcG9sZVRvcFkgPSByYWlsWSAtIHNjYWxlICogKHRoaXMuY2FydEhlaWdodCAvIDIgKyBzaW4oYW5nbGUpICogdGhpcy5sZW5ndGgpO1xuICAgIHN0cm9rZSgxMjcpO1xuICAgIHN0cm9rZVdlaWdodCgzKTtcbiAgICBzdHJva2VDYXAoUk9VTkQpO1xuICAgIGxpbmUoY2FydFgsIHJhaWxZIC0gY2FydEggLyAyIC0gNCwgcG9sZVRvcFgsIHBvbGVUb3BZKTtcblxuICAgIC8vIERyYXcgdGhlIGdyb3VuZC5cbiAgICBjb25zdCBncm91bmRZID0gcmFpbFkgKyBjYXJ0SCAvIDIgKyB3aGVlbFJhZGl1cyAqIDI7XG4gICAgc3Ryb2tlKDIwMCk7XG4gICAgc3Ryb2tlV2VpZ2h0KDEpO1xuICAgIGZpbGwoMjAwKVxuICAgIHJlY3QoMCwgZ3JvdW5kWSwgd2lkdGgsIGhlaWdodC1ncm91bmRZKTtcblxuICAgIC8vIGNvbnN0IG5EaXZpc2lvbnMgPSA0MDtcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG5EaXZpc2lvbnM7ICsraSkge1xuICAgIC8vICAgY29uc3QgeDAgPSB3aWR0aCAvIG5EaXZpc2lvbnMgKiBpO1xuICAgIC8vICAgY29uc3QgeDEgPSB4MCArIHdpZHRoIC8gbkRpdmlzaW9ucyAvIDI7XG4gICAgLy8gICBjb25zdCB5MCA9IGdyb3VuZFkgKyB3aWR0aCAvIG5EaXZpc2lvbnMgLyAyO1xuICAgIC8vICAgY29uc3QgeTEgPSBncm91bmRZO1xuICAgIC8vICAgbGluZSh4MCwgeTAsIHgxLCB5MSk7XG4gICAgLy8gfVxuXG4gICAgLy8gRHJhdyB0aGUgbGVmdCBhbmQgcmlnaHQgbGltaXRzLlxuICAgIGNvbnN0IGxpbWl0VG9wWSA9IGdyb3VuZFkgLSBoZWlnaHQgLyAyO1xuICAgIHN0cm9rZSgyMDApO1xuICAgIHN0cm9rZVdlaWdodCg0KTtcbiAgICBzdHJva2VDYXAoUFJPSkVDVCk7XG4gICAgbGluZSgxLCBncm91bmRZLCAxLCBsaW1pdFRvcFkpO1xuICAgIGxpbmUod2lkdGggLSAxLCBncm91bmRZLCB3aWR0aCAtIDEsIGxpbWl0VG9wWSk7XG4gIH1cbn0iLCJcbi8vIHRoZSBhZ2VudCBhbmQgdGhlIHRhcmdldHMgYXJlIGZpeGVkXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF2b2lkT2JzdGFjbGVzVjAge1xuIFxuICBjb25zdHJ1Y3RvcihwNSkge1xuICAgIHRoaXMudmVydGlhbFN0YXRlcyA9IDIwO1xuICAgIHRoaXMuaG9yaXpvbnRhbFN0YXRlcyA9IDIwO1xuXG4gICAgdGhpcy5zcXVhcmVTaXplID0gMjA7XG5cbiAgICB0aGlzLm51bVRhcmdldHMgPSAxMDtcblxuICAgIHRoaXMubnVtQWN0aW9ucyA9IDQ7XG4gICAgdGhpcy5udW1GZWF0dXJlcyA9IDIgKiAodGhpcy5udW1UYXJnZXRzICsgMSk7XG5cbiAgICB0aGlzLnA1ID0gcDU7XG5cbiAgICAvLyB0YXJnZXRzXG4gICAgdGhpcy50YXJnZXRzID0gW107IFxuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgLy8gYWdlbnQgXG4gICAgdGhpcy5ibGFja1ggPSB0aGlzLnA1LmludCh0aGlzLnA1LnJhbmRvbSgwLCB0aGlzLmhvcml6b250YWxTdGF0ZXMpKTtcbiAgICB0aGlzLmJsYWNrWSA9IHRoaXMucDUuaW50KHRoaXMucDUucmFuZG9tKDAsIHRoaXMudmVydGlhbFN0YXRlcykpO1xuXG4gICAgZm9yKGxldCBpPTA7IGk8dGhpcy5udW1UYXJnZXRzOyBpKyspe1xuICAgICAgY29uc3QgeFBvcyA9IHRoaXMucDUuaW50KHRoaXMucDUucmFuZG9tKDAsIHRoaXMuaG9yaXpvbnRhbFN0YXRlcykpXG4gICAgICBjb25zdCB5UG9zID0gdGhpcy5wNS5pbnQodGhpcy5wNS5yYW5kb20oMCwgdGhpcy52ZXJ0aWFsU3RhdGVzKSkgXG5cbiAgICAgIHRoaXMudGFyZ2V0cy5wdXNoKFt4UG9zLCB5UG9zXSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIHRhcmdldHNcbiAgICB0aGlzLnA1LmZpbGwoMjU1LCAwLCAwLCAxMDApO1xuICAgIGZvcihsZXQgaT0wOyBpPHRoaXMubnVtVGFyZ2V0czsgaSsrKXtcbiAgICAgIHRoaXMucDUucmVjdCh0aGlzLnRhcmdldHNbaV1bMF0gKiB0aGlzLnNxdWFyZVNpemUsIHRoaXMudGFyZ2V0c1tpXVsxXSAqIHRoaXMuc3F1YXJlU2l6ZSwgdGhpcy5zcXVhcmVTaXplLCB0aGlzLnNxdWFyZVNpemUpO1xuICAgIH1cblxuICAgIC8vIGFnZW50XG4gICAgdGhpcy5wNS5maWxsKDAsIDAsIDAsIDEwMCk7XG4gICAgdGhpcy5wNS5yZWN0KHRoaXMuYmxhY2tYICogdGhpcy5zcXVhcmVTaXplLCB0aGlzLmJsYWNrWSAqIHRoaXMuc3F1YXJlU2l6ZSwgdGhpcy5zcXVhcmVTaXplLCB0aGlzLnNxdWFyZVNpemUpO1xuICB9XG5cbiAgc3RlcChhY3Rpb24pIHtcbiAgICBpZihhY3Rpb24gPT0gMCAmJiB0aGlzLmJsYWNrWCA+IDApIHt0aGlzLmJsYWNrWCAtPSAxO31cbiAgICBlbHNlIGlmKGFjdGlvbiA9PSAxICYmIHRoaXMuYmxhY2tYIDwgdGhpcy5ob3Jpem9udGFsU3RhdGVzIC0gMSkge3RoaXMuYmxhY2tYICs9IDE7fVxuICAgIGVsc2UgaWYoYWN0aW9uID09IDIgJiYgdGhpcy5ibGFja1kgPiAwKSB7dGhpcy5ibGFja1kgLT0gMTt9XG4gICAgZWxzZSBpZihhY3Rpb24gPT0gMyAmJiB0aGlzLmJsYWNrWSA8IHRoaXMudmVydGlhbFN0YXRlcyAtIDEpIHt0aGlzLmJsYWNrWSArPSAxO31cblxuICAgIGNvbnN0IGluZm8gPSBbdGhpcy5yZXdhcmQoKSwgdGhpcy5pc0RvbmUoKV07XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIGlzRG9uZSgpIHtcbiAgICBcbiAgICBmb3IobGV0IGk9MDsgaTx0aGlzLm51bVRhcmdldHM7IGkrKyl7XG4gICAgICBpZih0aGlzLmJsYWNrWCA9PSB0aGlzLnRhcmdldHNbaV1bMF0gJiYgdGhpcy5ibGFja1kgPT0gdGhpcy50YXJnZXRzW2ldWzFdKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWRcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgcmV3YXJkKCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgZ2V0U3RhdGVUZW5zb3IoKSB7XG5cbiAgICBjb25zdCBmbGF0U3RhdGVzID0gW3RoaXMuYmxhY2tYL3RoaXMuaG9yaXpvbnRhbFN0YXRlcywgdGhpcy5ibGFja1kvdGhpcy52ZXJ0aWFsU3RhdGVzXTtcbiAgICBmb3IobGV0IGk9MDsgaTx0aGlzLm51bVRhcmdldHM7IGkrKyl7XG4gICAgICBmbGF0U3RhdGVzLnB1c2godGhpcy50YXJnZXRzW2ldWzBdL3RoaXMuaG9yaXpvbnRhbFN0YXRlcyk7XG4gICAgICBmbGF0U3RhdGVzLnB1c2godGhpcy50YXJnZXRzW2ldWzFdL3RoaXMudmVydGlhbFN0YXRlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRmLnRlbnNvcjJkKFtmbGF0U3RhdGVzXSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkV29ybGQxRFYwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubnVtRmVhdHVyZXMgPSAxMDtcbiAgICAgICAgdGhpcy5udW1BY3Rpb25zID0gMjtcbiAgICAgICAgdGhpcy5zcXVhcmVTaXplID0gNDA7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSAwO1xuICAgIH1cblxuICAgIHN0ZXAoYWN0aW9uKSB7XG5cbiAgICAgICAgbGV0IHJld2FyZCA9IDA7XG5cbiAgICAgICAgLy8gbW92ZSB0byB0aGUgcmlnaHQgXG4gICAgICAgIGlmKGFjdGlvbiA9PSAxKXtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihhY3Rpb24gPT0gMCl7XG4gICAgICAgICAgICAvLyByZWFjaCB0byB0aGUgbGVmdG1vc3QgXG4gICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRTdGF0ZSA9PSAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmZvID0gW3RoaXMucmV3YXJkKCksIHRoaXMuaXNEb25lKCldO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9IFxuXG4gICAgaXNEb25lKCkge1xuICAgICAgICBpZih0aGlzLmN1cnJlbnRTdGF0ZSA9PSB0aGlzLm51bUZlYXR1cmVzIC0gMSl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle3JldHVybiBmYWxzZTt9XG4gICAgfVxuXG4gICAgcmV3YXJkKCkge1xuICAgICAgICBpZih0aGlzLmlzRG9uZSgpKXtyZXR1cm4gMTt9XG4gICAgICAgIGVsc2V7cmV0dXJuIDA7fVxuICAgIH1cblxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgfVxuXG4gICAgcmFuZG9tV2FsaygpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gZmxvb3IocmFuZG9tKHRoaXMubnVtQWN0aW9ucykpO1xuICAgICAgICB0aGlzLnN0ZXAoYWN0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZXdhcmQ6IFwiICsgdGhpcy5yZXdhcmQoKSk7XG4gICAgICAgIGlmKHRoaXMuaXNEb25lKCkpe3RoaXMucmVzZXQoKTt9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvL3RhcmdldFxuICAgICAgICBmaWxsKDI1NSwgMCwgMCk7XG4gICAgICAgIHJlY3Qod2lkdGggLSB0aGlzLnNxdWFyZVNpemUsIChoZWlnaHQgLSB0aGlzLnNxdWFyZVNpemUpLzIsIHRoaXMuc3F1YXJlU2l6ZSwgdGhpcy5zcXVhcmVTaXplKTtcblxuICAgICAgICAvLyBhZ2VudCBcbiAgICAgICAgZmlsbCgxMjIsIDEyMik7XG4gICAgICAgIHJlY3QodGhpcy5zcXVhcmVTaXplICogdGhpcy5jdXJyZW50U3RhdGUsIChoZWlnaHQgLSB0aGlzLnNxdWFyZVNpemUpLzIsIFxuICAgICAgICAgICAgdGhpcy5zcXVhcmVTaXplLCB0aGlzLnNxdWFyZVNpemUpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQZW5kdWx1bVYwIHtcblx0XG5cdGNvbnN0cnVjdCgpe1xuXG5cdFx0dGhpcy5tYXhTcGVlZCA9IDg7XG5cdFx0dGhpcy5tYXhUb3JxdWUgPSAyO1xuXHRcdHRoaXMuZHQgPSAwLjA1O1xuXHRcdHRoaXMuZyA9IDEwLjA7XG5cblx0XHR0aGlzLm51bUZlYXR1cmVzID0gMztcblx0XHR0aGlzLm51bUFjdGlvbnMgPSAxO1xuXG5cdFx0dGhpcy5hY3Rpb25TcGFjZSA9IFstdGhpcy5tYXhUb3JxdWUsIHRoaXMubWF4VG9ycXVlXTtcblxuXHRcdHRoaXMucmVzZXQoKTtcblx0fVxuXG5cdHJlc2V0KCl7XG5cblx0XHR0aGlzLnRoZXRhID0gcmFuZG9tKC1QSSwgUEkpO1xuXG5cdFx0dGhpcy50aGV0YUNvcyA9IGNvcyh0aGlzLnRoZXRhKTtcblx0XHR0aGlzLnRoZXRhU2luID0gc2luKHRoaXMudGhldGEpO1xuXHRcdHRoaXMudGhldGFEb3QgPSByYW5kb20oLTEsIDEpO1xuXHRcblx0fVxuXG5cdC8vIGFjdGlvbiBoZXJlIGlzIGEgdmFsdWUgb2YgYSB0b3JxdWUgXG5cdHN0ZXAoYWN0aW9uKXtcblxuXHRcdGNvbnN0IG0gPSAxLjA7XG5cdFx0Y29uc3QgbCA9IDEuMDtcblxuXHRcdC8vIGtlZXAgdGhlIGFjdGlvbiBpbiB0aGUgcmFuZ2UgXG5cdFx0dGhpcy5hY3Rpb24gPSBjb25zdHJhaW4oYWN0aW9uLCB0aGlzLmFjdGlvblNwYWNlWzBdLCB0aGlzLmFjdGlvblNwYWNlWzFdKTtcblx0XHR0aGlzLmxhc3RfYWN0aW9uID0gdGhpcy5hY3Rpb24gLy8gZm9yIHJlbmRlcmluZyBwdXJwb3NlIFxuXG5cdFx0bGV0IG5ld1RoZXRhRG90ID0gdGhpcy50aGV0YURvdCArICgtMyp0aGlzLmcvKDIgKiBsKSAqIHNpbih0aGlzLnRoZXRhK1BJKSArIFxuXHRcdFx0XHRcdFx0XHQzLjAvKG0qbCpsKSp0aGlzLmFjdGlvbikgKiB0aGlzLmR0O1xuXHRcdG5ld1RoZXRhRG90ID0gY29uc3RyYWluKG5ld1RoZXRhRG90LCAtdGhpcy5tYXhTcGVlZCwgdGhpcy5tYXhTcGVlZCk7XG5cdFx0Y29uc3QgbmV3VGhldGEgPSB0aGlzLnRoZXRhICsgbmV3VGhldGFEb3QgKiB0aGlzLmR0O1xuXG5cdFx0Ly8gdXBkYXRlIHN0YXRlXG5cdFx0dGhpcy50aGV0YSA9IG5ld1RoZXRhO1xuXHRcdHRoaXMudGhldGFDb3MgPSBjb3ModGhpcy50aGV0YSk7XG5cdFx0dGhpcy50aGV0YVNpbiA9IHNpbih0aGlzLnRoZXRhKTtcblx0XHR0aGlzLnRoZXRhRG90ID0gbmV3VGhldGFEb3Q7XG5cblx0XHRjb25zdCBpbmZvID0gW3RoaXMucmV3YXJkKCksIHRoaXMuaXNEb25lKCldO1xuXG5cdFx0cmV0dXJuIGluZm87XG5cblx0fVxuXG5cdHJld2FyZCgpe1xuXHRcdC8vIC0odGhldGFeMiArIDAuMSp0aGV0YV9kdF4yICsgMC4wMDEqYWN0aW9uXjIpXG5cdFx0cmV0dXJuIC0xICogKE1hdGgucG93KHRoaXMudGhldGEsIDIpICsgXG5cdFx0XHRcdFx0MC4xICogTWF0aC5wb3codGhpcy50aGV0YURvdCwgMikgKyBcblx0XHRcdFx0XHQwLjAwMSAqIE1hdGgucG93KHRoaXMuYWN0aW9uLCAyKSk7XG5cdH1cblxuXHQvLyBubyBzcGVjaWZpZWQgdGVybWluYXRpb24gaW4gdGhpcyBjYXNlXG5cdGlzRG9uZSgpe1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJlbmRlcigpe1xuXHRcdC8vIGRyYXcgdGhlIHBlbmR1bHVtIFxuXHRcdGNvbnN0IHBlbkxlbmd0aCA9IDIwMDtcblx0XHRzdHJva2UoMTI3KTtcbiAgICBcdHN0cm9rZVdlaWdodCg2KTtcbiAgICBcdHN0cm9rZUNhcChST1VORCk7XG5cdFx0bGluZSh3aWR0aC8yLCBoZWlnaHQvMiwgd2lkdGgvMiwgaGVpZ2h0LzIgKyBwZW5MZW5ndGgpO1xuXG5cdFx0Ly8gZHJhdyB0aGUgcm90YXRpb25hbCBjZW50ZXJcblx0XHRmaWxsKDI1NSwgMCwgMCk7XG5cdFx0bm9TdHJva2UoKTtcblx0XHRjaXJjbGUod2lkdGgvMiwgaGVpZ2h0LzIsIDQsIDQpO1xuXHR9XG5cblxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==